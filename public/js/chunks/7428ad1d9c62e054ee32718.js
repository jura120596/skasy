(self.webpackChunk=self.webpackChunk||[]).push([[742],{1403:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(4015),l=n.n(i),s=n(3645),a=n.n(s)()(l());a.push([e.id,"table{width:-webkit-max-content!important;width:-moz-max-content!important;width:max-content!important}td.fixedColumn,th.fixedColumn{position:absolute;display:flex;text-align:center}.fixedColumn th:last-child{border-right:1px solid}div>.fixedColumn:first-child{padding-right:0}div>.col:nth-child(2){padding-left:0}","",{version:3,sources:["webpack://./resources/js/components/AppDataTable.vue"],names:[],mappings:"AAiWA,MACA,mCAAA,CAAA,gCAAA,CAAA,2BACA,CACA,8BACA,iBAAA,CACA,YAAA,CACA,iBACA,CACA,2BACA,sBACA,CACA,6BACA,eACA,CACA,sBACA,cACA",sourcesContent:['<template>\n    <v-container >\n        <slot name="body.prepend"/>\n        <v-row\n            style="flex-wrap: nowrap;">\n            <v-col v-if="withFixed && getFixedHeaders(false).length>0"\n                   class="fixedColumn flex-grow-0 flex-shrink-0">\n                <v-data-table :headers="getFixedHeaders(false)" :items="tableItems" item-key="id" v-model="selected"\n                              :page.sync="tableFilter.page"\n                              :items-per-page="tableFilter.per_page"\n                              @page-count="pageCount = $event"\n                              :server-items-length="total"\n                              hide-default-footer\n                              v-on:input="$emit(\'input\')"\n                              :options.sync="tableOptions"\n                              :show-select="withSelect" style="width: max-content"\n                              :no-data-text="\'Нет данных\'"\n                              :no-results-text="\'Нет данных\'"\n                              ref="fixedTable"\n                              :loading="loading"\n                              loading-text="Загрузка... Пожалуйста, подождите"\n                >\n                    <template v-slot:header.settings="{header}">\n                        <v-container class="d-flex align-center">\n                            <slot name="header-settings-menu" v-bind:header="header"></slot>\n                        </v-container>\n                    </template>\n                    <template v-slot:item.settings="{item}">\n                        <v-menu offset-y>\n                            <template v-slot:activator="{ on, attrs }">\n                                <v-card-text  :ref="\'settingsrow\'+item.id" class="ma-0 pa-0 d-flex flex-column justify-center" >\n                                    <v-btn\n                                        color="primary"\n                                        dark\n                                        v-bind="attrs"\n                                        v-on="on"\n                                        icon>\n                                        <v-icon small>mdi-menu</v-icon>\n                                    </v-btn>\n                                </v-card-text>\n                            </template>\n                            <slot name="item-settings-menu" v-bind:item="item"></slot>\n                        </v-menu>\n                    </template>\n                    <template v-slot:item.mark="{item}">\n                        <v-tooltip bottom>\n                            <template v-slot:activator="{ on, attrs }">\n                                <v-icon\n                                    v-if="item.color"\n                                    v-bind="attrs"\n                                    v-on="on"\n                                    small\n                                    :style="{color: item.color.color}"\n                                >mdi-checkbox-blank-circle</v-icon>\n                            </template>\n                            <span>{{item.color.text}} (Последнее обновление:{{item.finished_at}})</span>\n                        </v-tooltip>\n                        {{item.mark}}\n                    </template>\n                </v-data-table>\n\n            </v-col>\n            <v-col style="overflow:hidden;display: block;position:relative; "\n                   class="flex-grow-1 flex-shrink-1">\n                <div v-if="tableItems && tableItems.length > 0 && showScroll">\n                    <v-chip class="app-table-scroll-left" @mouseover="onScrollLeft" @mouseout="scrollRun = false;"/>\n                    <v-chip class="app-table-scroll-left app-table-scroll-right"  @mouseover="onScrollRight"  @mouseout="scrollRun = false;"/>\n                </div>\n                <v-data-table :headers="withFixed ? getFixedHeaders(true) : tableHeaders" :items="tableItems"\n                              :page.sync="tableFilter.page"\n                              :items-per-page="tableFilter.per_page"\n                              @page-count="pageCount = $event"\n                              :options.sync="tableOptions"\n                              :server-items-length="total"\n                              :no-data-text="withSelect ? \'\' : \'Нет данных\'"\n                              :no-results-text="withSelect ? \'\' : \'Нет данных\'"\n                              ref="table"\n                              :loading="loading"\n                              loading-text="Загрузка... Пожалуйста, подождите"\n                              hide-default-footer>\n                    <template slot="item" slot-scope="props">\n                        <tr :ref="\'row\'+props.item.id">\n                            <td v-for="(item, index) in props.headers" style="max-width: 500px">\n                                <div v-if="item.link === true">\n                                    <slot name="link_item" v-bind="{props, item}">\n                                        <a @click="tableEditItem(props.item[item.id === undefined ? \'id\' : item.id], props.item, item.value)" >{{props.item[item.value]}}</a>\n                                    </slot>\n                                </div>\n                                <div v-else-if="item.hidden === true && (props.item[item.value] || props.item.hidden_prepend)">\n                                    <p v-if="props.item.hidden_prepend">{{props.item.hidden_prepend}}</p>\n                                    <p v-if="!props.item.hidden">{{props.item[item.value]}}</p>\n                                    <a v-if="props.item[item.value]" @click="props.item.hidden = !props.item.hidden">\n                                        {{props.item.hidden ? \'Показать текст\' : \'Скрыть текст\'}}\n                                    </a>\n                                </div>\n                                <div v-else>\n                                    {{props.item[item.value] !== undefined && props.item[item.value] !== null ? props.item[item.value] : emptyText}}\n                                </div>\n                            </td>\n                        </tr>\n                    </template>\n                </v-data-table>\n            </v-col>\n        </v-row>\n        <slot name="body.append"/>\n        <slot name="body.pagination">\n            <div class=" d-flex pt-2">\n                <v-pagination\n                    v-model="tableFilter.page"\n                    :length="pageCount"\n                    :total-visible="7"\n                ></v-pagination>\n                <v-spacer></v-spacer>\n                <v-select\n                    :value="tableFilter.per_page"\n                    @change="tableFilter.per_page = parseInt($event, 10) ? parseInt($event, 10) : 1"\n                    :items="[20,40,60,80,100]"\n                    label="Показывать по:"\n                    style="max-width: 150px"\n                ></v-select>\n            </div>\n        </slot>\n    </v-container>\n</template>\n<script>\n    import _ from \'lodash\';\n    import Axios from \'@/utils/axios\';\n    export default {\n        name: \'AppDataTable\',\n        props: {\n            headers: Array,\n            itemsUrl: {\n                type:String,\n                default: null,\n            },\n            items: {\n                type: Array,\n                default: function() {\n                    return undefined;\n                }\n            },\n            showSelect: Boolean,\n            fixedCol: Boolean,\n            filter: Object,\n            service: {\n                type:Object,\n                default: () => ({})\n            },\n            toItem: {\n                type: Function,\n                default:  (item) => {return item;},\n            },\n            editItem: {\n                type: Function,\n                default: (id) => {},\n            },\n            emptyItemText: {\n                type:String,\n                default: \'\',\n            },\n        },\n        data: function () {\n            return {\n                pageCount: 0,\n                tableItems: this.items,\n                selected: [],\n                total: 0,\n                tableHeaders: this.headers,\n                withSelect : this.showSelect,\n                withFixed: this.fixedCol,\n                tableFilter: {\n                    ...this.filter,\n                    page: 1,\n                    per_page: 20,\n                    sortBy: \'id\',\n                    sortDesc : false,\n                },\n                scrollRun: false,\n                showScroll: false,\n                tableOptions: {},\n                tableEditItem: this.editItem,\n                emptyText: this.emptyItemText,\n                loading: false,\n            };\n        },\n        methods: {\n            getFixedColumnLeft (indx = this.headers.length) {\n                return this.headers\n                    .filter((header, i) => i < indx && header.fixed === true)\n                    .reduce((currentValue, header) => currentValue + (parseInt(header.width) || 0), 0)\n            },\n            getFixedHeaders(reverse) {\n                return this.headers\n                    .filter((header) => {\n                        return !reverse ? header.fixed === true : !(header.fixed !== undefined && header.fixed !== false)\n                    });\n            },\n            async loadItems() {\n                if (this.items !== undefined) {\n                    this.total = this.items.length;\n                    this.pageCount = Math.floor(this.total / this.tableFilter.per_page)\n                        + (this.total === this.tableFilter.per_page ? 0 : 1);\n                    this.tableViewNormalize()\n                    return;\n                }\n                if  (this.itemsUrl) {\n                    let params = this.service && this.service.prepareParams\n                        ? this.service.prepareParams(this.tableFilter)\n                        : this.tableFilter;\n                    this.loading = true\n                    this.$emit(\'onLoading\')\n                    Axios.get(this.itemsUrl, {params})\n                        .then((response) => {\n                            this.tableItems = response.data.data.map(this.toItem);\n                            this.total = response.data.total;\n                            this.pageCount = response.data.last_page;\n                            this.tableViewNormalize()\n                            this.loading = false\n                            this.$emit(\'onLoad\', response.data.data)\n                        })\n                        .catch((e) => {\n                            console.log(e);\n                            this.loading = false\n                            this.$emit(\'onLoad\')\n                        });\n                    return;\n                }\n                this.loading = true\n                this.$emit(\'onLoading\')\n                this.service.getAll(this.tableFilter)\n                    .then((response) => {\n                        this.tableItems = response.data.data.map(this.toItem);\n                        this.total = response.data.total;\n                        this.pageCount = response.data.last_page;\n                        this.tableViewNormalize()\n                        this.loading = false\n                        this.$emit(\'onLoad\', response.data.data)\n                    })\n                    .catch((e) => {\n                        console.log(e);\n                        this.loading = false\n                        this.$emit(\'onLoad\')\n                    });\n            },\n            scrollTo(element, scrollPixels, duration) {\n                const scrollPos = element.scrollLeft;\n                // Condition to check if scrolling is required\n                if ( !( (scrollPos === 0 || scrollPixels > 0) && (element.clientWidth + scrollPos === element.scrollWidth || scrollPixels < 0)))\n                {\n                    // Get the start timestamp\n                    const startTime =\n                        "now" in window.performance\n                            ? performance.now()\n                            : new Date().getTime();\n                    let scroll = (timestamp)  => {\n                        //Calculate the timeelapsed\n                        const timeElapsed = timestamp - startTime;\n                        //Calculate progress\n                        const progress = duration ? Math.min(timeElapsed / duration, 1) : null;\n                        //Set the scrolleft\n                        element.scrollLeft = (progress\n                            ? scrollPos + scrollPixels * progress :\n                            element.scrollLeft + 10 * scrollPixels /(Math.abs(scrollPixels)));\n                        //Check if elapsed time is less then duration then call the requestAnimation, otherwise exit\n                        if (this.scrollRun) {\n                            //Request for animation\n                            window.requestAnimationFrame(scroll);\n                        } else {\n                            return;\n                        }\n                    }\n                    //Call requestAnimationFrame on scroll function first time\n                    window.requestAnimationFrame(scroll);\n                }\n            },\n            onScrollLeft() {\n                this.scrollRun = true;\n                this.scrollTo(this.$refs.table.$el.childNodes[0], -this.$refs.table.$el.childNodes[0].scrollWidth);\n            },\n            onScrollRight() {\n                this.scrollRun = true;\n                this.scrollTo(this.$refs.table.$el.childNodes[0], this.$refs.table.$el.childNodes[0].scrollWidth);\n            },\n            tableViewNormalize() {\n                if (this.$refs.fixedTable) Object.keys(this.$refs).forEach((v) => {\n                    if (v.search(\'row\') === 0 && this.$refs[\'settings\'+ v]) {\n                        this.$refs[\'settings\'+ v].style.height = (this.$refs[v].clientHeight - 1)+\'px\'; //bootom border on every table row\n                    }\n                })\n            }\n        },\n        created: function() {\n            this.debouncedLoadItems = _.debounce(this.loadItems, 500)\n        },\n        watch: {\n            tableFilter: {\n                handler () {\n                    this.debouncedLoadItems()\n                },\n                deep: true\n            },\n            tableOptions: {\n                handler() {\n                    if (this.tableOptions.sortBy.length === 1) {\n                        this.tableFilter.sortBy = this.tableOptions.sortBy[0];\n                    }\n                    if (this.tableOptions.sortDesc.length === 1) {\n                        this.tableFilter.sortDesc = this.tableOptions.sortDesc[0];\n                    }\n                    const { sortBy, sortDesc } = this.tableFilter\n                    this.$emit(\'onSort\', { sortBy, sortDesc })\n                },\n                deep: true,\n            },\n            tableItems: {\n                handler() {\n                    setTimeout(() =>  {\n                        this.showScroll = this.$refs.table.$el.childNodes[0].scrollWidth > this.$refs.table.$el.scrollWidth;\n                    }, 500);\n                },\n                deep:true,\n            },\n            filter: {\n                handler(value) {\n                    if (value) {\n                        this.tableFilter = {...this.tableFilter, ...this.filter};\n                        this.tableFilter.page = 1;\n                    }\n                },\n                deep:true\n            },\n            items: {\n                handler(value) {\n                    this.tableItems = value;\n                },\n                deep: true,\n            }\n        },\n        mounted() {\n            this.loadItems()\n            this.$watch(\n                () => {\n                    return this.$refs.table.items\n                },\n                (val) => {\n                    this.tableViewNormalize()\n                }\n            )\n        },\n    }\n<\/script>\n\n<style>\n    table {\n        width: max-content !important;\n    }\n    th.fixedColumn, td.fixedColumn {\n        position: absolute;\n        display: flex;\n        text-align: center;\n    }\n    .fixedColumn   th:last-child{\n        border-right: 1px solid;\n    }\n    div > .fixedColumn:nth-child(1) {\n        padding-right: 0;\n    }\n    div > .col:nth-child(2) {\n        padding-left: 0;\n    }\n</style>\n'],sourceRoot:""}]);const r=a},15:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(7757),l=n.n(i),s=n(6486),a=n.n(s),r=n(6762);function o(e,t,n,i,l,s,a){try{var r=e[s](a),o=r.value}catch(e){return void n(e)}r.done?t(o):Promise.resolve(o).then(i,l)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={name:"AppDataTable",props:{headers:Array,itemsUrl:{type:String,default:null},items:{type:Array,default:function(){}},showSelect:Boolean,fixedCol:Boolean,filter:Object,service:{type:Object,default:function(){return{}}},toItem:{type:Function,default:function(e){return e}},editItem:{type:Function,default:function(e){}},emptyItemText:{type:String,default:""}},data:function(){return{pageCount:0,tableItems:this.items,selected:[],total:0,tableHeaders:this.headers,withSelect:this.showSelect,withFixed:this.fixedCol,tableFilter:c(c({},this.filter),{},{page:1,per_page:20,sortBy:"id",sortDesc:!1}),scrollRun:!1,showScroll:!1,tableOptions:{},tableEditItem:this.editItem,emptyText:this.emptyItemText,loading:!1}},methods:{getFixedColumnLeft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.headers.length;return this.headers.filter((function(t,n){return n<e&&!0===t.fixed})).reduce((function(e,t){return e+(parseInt(t.width)||0)}),0)},getFixedHeaders:function(e){return this.headers.filter((function(t){return e?!(void 0!==t.fixed&&!1!==t.fixed):!0===t.fixed}))},loadItems:function(){var e,t=this;return(e=l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t.items){e.next=5;break}return t.total=t.items.length,t.pageCount=Math.floor(t.total/t.tableFilter.per_page)+(t.total===t.tableFilter.per_page?0:1),t.tableViewNormalize(),e.abrupt("return");case 5:if(!t.itemsUrl){e.next=11;break}return n=t.service&&t.service.prepareParams?t.service.prepareParams(t.tableFilter):t.tableFilter,t.loading=!0,t.$emit("onLoading"),r.Z.get(t.itemsUrl,{params:n}).then((function(e){t.tableItems=e.data.data.map(t.toItem),t.total=e.data.total,t.pageCount=e.data.last_page,t.tableViewNormalize(),t.loading=!1,t.$emit("onLoad",e.data.data)})).catch((function(e){console.log(e),t.loading=!1,t.$emit("onLoad")})),e.abrupt("return");case 11:t.loading=!0,t.$emit("onLoading"),t.service.getAll(t.tableFilter).then((function(e){t.tableItems=e.data.data.map(t.toItem),t.total=e.data.total,t.pageCount=e.data.last_page,t.tableViewNormalize(),t.loading=!1,t.$emit("onLoad",e.data.data)})).catch((function(e){console.log(e),t.loading=!1,t.$emit("onLoad")}));case 14:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,l){var s=e.apply(t,n);function a(e){o(s,i,l,a,r,"next",e)}function r(e){o(s,i,l,a,r,"throw",e)}a(void 0)}))})()},scrollTo:function(e,t,n){var i=this,l=e.scrollLeft;if(!(0===l||t>0)||!(e.clientWidth+l===e.scrollWidth||t<0)){var s="now"in window.performance?performance.now():(new Date).getTime();window.requestAnimationFrame((function a(r){var o=r-s,d=n?Math.min(o/n,1):null;e.scrollLeft=d?l+t*d:e.scrollLeft+10*t/Math.abs(t),i.scrollRun&&window.requestAnimationFrame(a)}))}},onScrollLeft:function(){this.scrollRun=!0,this.scrollTo(this.$refs.table.$el.childNodes[0],-this.$refs.table.$el.childNodes[0].scrollWidth)},onScrollRight:function(){this.scrollRun=!0,this.scrollTo(this.$refs.table.$el.childNodes[0],this.$refs.table.$el.childNodes[0].scrollWidth)},tableViewNormalize:function(){var e=this;this.$refs.fixedTable&&Object.keys(this.$refs).forEach((function(t){0===t.search("row")&&e.$refs["settings"+t]&&(e.$refs["settings"+t].style.height=e.$refs[t].clientHeight-1+"px")}))}},created:function(){this.debouncedLoadItems=a().debounce(this.loadItems,500)},watch:{tableFilter:{handler:function(){this.debouncedLoadItems()},deep:!0},tableOptions:{handler:function(){1===this.tableOptions.sortBy.length&&(this.tableFilter.sortBy=this.tableOptions.sortBy[0]),1===this.tableOptions.sortDesc.length&&(this.tableFilter.sortDesc=this.tableOptions.sortDesc[0]);var e=this.tableFilter,t=e.sortBy,n=e.sortDesc;this.$emit("onSort",{sortBy:t,sortDesc:n})},deep:!0},tableItems:{handler:function(){var e=this;setTimeout((function(){e.showScroll=e.$refs.table.$el.childNodes[0].scrollWidth>e.$refs.table.$el.scrollWidth}),500)},deep:!0},filter:{handler:function(e){e&&(this.tableFilter=c(c({},this.tableFilter),this.filter),this.tableFilter.page=1)},deep:!0},items:{handler:function(e){this.tableItems=e},deep:!0}},mounted:function(){var e=this;this.loadItems(),this.$watch((function(){return e.$refs.table.items}),(function(t){e.tableViewNormalize()}))}};n(7904);const h=(0,n(1900).Z)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e._t("body.prepend"),e._v(" "),n("v-row",{staticStyle:{"flex-wrap":"nowrap"}},[e.withFixed&&e.getFixedHeaders(!1).length>0?n("v-col",{staticClass:"fixedColumn flex-grow-0 flex-shrink-0"},[n("v-data-table",{ref:"fixedTable",staticStyle:{width:"max-content"},attrs:{headers:e.getFixedHeaders(!1),items:e.tableItems,"item-key":"id",page:e.tableFilter.page,"items-per-page":e.tableFilter.per_page,"server-items-length":e.total,"hide-default-footer":"",options:e.tableOptions,"show-select":e.withSelect,"no-data-text":"Нет данных","no-results-text":"Нет данных",loading:e.loading,"loading-text":"Загрузка... Пожалуйста, подождите"},on:{"update:page":function(t){return e.$set(e.tableFilter,"page",t)},"page-count":function(t){e.pageCount=t},input:function(t){return e.$emit("input")},"update:options":function(t){e.tableOptions=t}},scopedSlots:e._u([{key:"header.settings",fn:function(t){var i=t.header;return[n("v-container",{staticClass:"d-flex align-center"},[e._t("header-settings-menu",null,{header:i})],2)]}},{key:"item.settings",fn:function(t){var i=t.item;return[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on,s=t.attrs;return[n("v-card-text",{ref:"settingsrow"+i.id,staticClass:"ma-0 pa-0 d-flex flex-column justify-center"},[n("v-btn",e._g(e._b({attrs:{color:"primary",dark:"",icon:""}},"v-btn",s,!1),l),[n("v-icon",{attrs:{small:""}},[e._v("mdi-menu")])],1)],1)]}}],null,!0)},[e._v(" "),e._t("item-settings-menu",null,{item:i})],2)]}},{key:"item.mark",fn:function(t){var i=t.item;return[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on,s=t.attrs;return[i.color?n("v-icon",e._g(e._b({style:{color:i.color.color},attrs:{small:""}},"v-icon",s,!1),l),[e._v("mdi-checkbox-blank-circle")]):e._e()]}}],null,!0)},[e._v(" "),n("span",[e._v(e._s(i.color.text)+" (Последнее обновление:"+e._s(i.finished_at)+")")])]),e._v("\n                    "+e._s(i.mark)+"\n                ")]}}],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1):e._e(),e._v(" "),n("v-col",{staticClass:"flex-grow-1 flex-shrink-1",staticStyle:{overflow:"hidden",display:"block",position:"relative"}},[e.tableItems&&e.tableItems.length>0&&e.showScroll?n("div",[n("v-chip",{staticClass:"app-table-scroll-left",on:{mouseover:e.onScrollLeft,mouseout:function(t){e.scrollRun=!1}}}),e._v(" "),n("v-chip",{staticClass:"app-table-scroll-left app-table-scroll-right",on:{mouseover:e.onScrollRight,mouseout:function(t){e.scrollRun=!1}}})],1):e._e(),e._v(" "),n("v-data-table",{ref:"table",attrs:{headers:e.withFixed?e.getFixedHeaders(!0):e.tableHeaders,items:e.tableItems,page:e.tableFilter.page,"items-per-page":e.tableFilter.per_page,options:e.tableOptions,"server-items-length":e.total,"no-data-text":e.withSelect?"":"Нет данных","no-results-text":e.withSelect?"":"Нет данных",loading:e.loading,"loading-text":"Загрузка... Пожалуйста, подождите","hide-default-footer":""},on:{"update:page":function(t){return e.$set(e.tableFilter,"page",t)},"page-count":function(t){e.pageCount=t},"update:options":function(t){e.tableOptions=t}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("tr",{ref:"row"+t.item.id},e._l(t.headers,(function(i,l){return n("td",{staticStyle:{"max-width":"500px"}},[!0===i.link?n("div",[e._t("link_item",(function(){return[n("a",{on:{click:function(n){return e.tableEditItem(t.item[void 0===i.id?"id":i.id],t.item,i.value)}}},[e._v(e._s(t.item[i.value]))])]}),null,{props:t,item:i})],2):!0===i.hidden&&(t.item[i.value]||t.item.hidden_prepend)?n("div",[t.item.hidden_prepend?n("p",[e._v(e._s(t.item.hidden_prepend))]):e._e(),e._v(" "),t.item.hidden?e._e():n("p",[e._v(e._s(t.item[i.value]))]),e._v(" "),t.item[i.value]?n("a",{on:{click:function(e){t.item.hidden=!t.item.hidden}}},[e._v("\n                                    "+e._s(t.item.hidden?"Показать текст":"Скрыть текст")+"\n                                ")]):e._e()]):n("div",[e._v("\n                                "+e._s(void 0!==t.item[i.value]&&null!==t.item[i.value]?t.item[i.value]:e.emptyText)+"\n                            ")])])})),0)]}}],null,!0)})],1)],1),e._v(" "),e._t("body.append"),e._v(" "),e._t("body.pagination",(function(){return[n("div",{staticClass:" d-flex pt-2"},[n("v-pagination",{attrs:{length:e.pageCount,"total-visible":7},model:{value:e.tableFilter.page,callback:function(t){e.$set(e.tableFilter,"page",t)},expression:"tableFilter.page"}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-select",{staticStyle:{"max-width":"150px"},attrs:{value:e.tableFilter.per_page,items:[20,40,60,80,100],label:"Показывать по:"},on:{change:function(t){e.tableFilter.per_page=parseInt(t,10)?parseInt(t,10):1}}})],1)]}))],2)}),[],!1,null,null,null).exports},4742:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(7757),l=n.n(i);function s(e,t,n,i,l,s,a){try{var r=e[s](a),o=r.value}catch(e){return void n(e)}r.done?t(o):Promise.resolve(o).then(i,l)}const a={name:"Districts",components:{AppDataTable:n(15).Z},data:function(e){return{level:Number.parseInt(e.$route.query.level),loading:!1,notFound:!1,filter:{region_id:e.$route.params.region},vm:e}},watch:{loading:function(e,t){!e&&t&&(this.filter.name.length>0&&0==this.courts.length?this.notFound=!0:this.notFound=!1)}},created:function(){return(e=l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,l){var a=e.apply(t,n);function r(e){s(a,i,l,r,o,"next",e)}function o(e){s(a,i,l,r,o,"throw",e)}r(void 0)}))})();var e},computed:{canAddDistrict:function(){return this.$route.params.id+""=="0"?null===this.$store.state.auth.user.district_id:null===this.$store.state.auth.user.district_id&&this.level<2||this.$store.state.auth.user.district_id+""==this.$route.params.id+""},headers:function(){return{regions:[{value:"name",text:this.label,link:this.level<2,id:"id"}].concat(this.level+""=="2"?[]:[{value:"childs_count",text:"Количество административных районов"}])}},districtsItemsUrl:function(){return"/district?level="+this.level+"&parent_district_id="+this.$route.params.id},label:function(){switch(this.level){case 2:case"2":return"Населенный пункт";case 1:case"1":return"Сельское поселение";case 0:case"0":return"Муниципалитет";default:return"Район"}},title:function(){switch(this.level){case 2:case"2":return"Список населенных пунктов";case 1:case"1":return"Список сельских поселений";case 0:case"0":return"Список муниципалитетов";default:return"Список районов"}}},methods:{showItem:function(e){var t=this.level;console.log(t),this.$router.push({name:"districts",params:{region:this.$route.params.region,id:e},query:{level:Number.isInteger(t)?t+1:1}})}}};const r=(0,n(1900).Z)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"cover"},[n("v-toolbar-title",{staticClass:"mb-2",attrs:{align:"center",justify:"center"},domProps:{textContent:e._s(e.title)}}),e._v(" "),e.canAddDistrict?n("router-link",{staticClass:"ml-4",attrs:{to:"/regions/"+e.$route.params.region+"/edit?level="+e.level+"&parent_district_id="+e.$route.params.id}},[e._v("Добавить +")]):e._e(),e._v(" "),n("v-card",{staticClass:"d-flex flex-column justify-space-between mb-6",attrs:{flat:"",tile:""}},[n("AppDataTable",{directives:[{name:"show",rawName:"v-show",value:!e.notFound,expression:" !notFound"}],attrs:{headers:e.headers.regions,showSelect:!1,fixedCol:!1,filter:e.filter,editItem:e.showItem,emptyItemText:"-",itemsUrl:e.districtsItemsUrl}}),e._v(" "),e.notFound?[n("v-alert",{staticStyle:{"margin-top":"20px"},attrs:{"colored-border":"",type:"info",elevation:"2"}},[e._v("\n                По Вашему запросу ничего не найдено. Попробуйте изменить параметры поиска.\n            ")])]:e._e()],2)],1)}),[],!1,null,"0160c5a6",null).exports},7904:(e,t,n)=>{var i=n(1403);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(5346).Z)("401b0cc6",i,!0,{})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9BcHBEYXRhVGFibGUudnVlPzYyMzYiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvQXBwRGF0YVRhYmxlLnZ1ZT84ZWMwIiwid2VicGFjazovLy9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9BcHBEYXRhVGFibGUudnVlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL0FwcERhdGFUYWJsZS52dWU/YjRiNyIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9BcHBEYXRhVGFibGUudnVlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9wYWdlcy9EaXN0cmljdHMudnVlPzdhMTIiLCJ3ZWJwYWNrOi8vL3Jlc291cmNlcy9qcy9wYWdlcy9EaXN0cmljdHMudnVlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9wYWdlcy9EaXN0cmljdHMudnVlP2NhNGQiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL3BhZ2VzL0Rpc3RyaWN0cy52dWUiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvQXBwRGF0YVRhYmxlLnZ1ZT8wNGIxIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiX3ZtIiwidGhpcyIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwiX3QiLCJfdiIsInN0YXRpY1N0eWxlIiwid2l0aEZpeGVkIiwiZ2V0Rml4ZWRIZWFkZXJzIiwibGVuZ3RoIiwic3RhdGljQ2xhc3MiLCJyZWYiLCJhdHRycyIsInRhYmxlSXRlbXMiLCJ0YWJsZUZpbHRlciIsInBhZ2UiLCJwZXJfcGFnZSIsInRvdGFsIiwidGFibGVPcHRpb25zIiwid2l0aFNlbGVjdCIsImxvYWRpbmciLCJvbiIsIiRldmVudCIsIiRzZXQiLCJwYWdlQ291bnQiLCIkZW1pdCIsInNjb3BlZFNsb3RzIiwiX3UiLCJrZXkiLCJmbiIsImhlYWRlciIsIml0ZW0iLCJfZyIsIl9iIiwic3R5bGUiLCJjb2xvciIsIl9lIiwiX3MiLCJ0ZXh0IiwiZmluaXNoZWRfYXQiLCJtYXJrIiwibW9kZWwiLCJ2YWx1ZSIsImNhbGxiYWNrIiwiJCR2Iiwic2VsZWN0ZWQiLCJleHByZXNzaW9uIiwic2hvd1Njcm9sbCIsIm9uU2Nyb2xsTGVmdCIsInNjcm9sbFJ1biIsIm9uU2Nyb2xsUmlnaHQiLCJ0YWJsZUhlYWRlcnMiLCJwcm9wcyIsIl9sIiwiaW5kZXgiLCJsaW5rIiwidGFibGVFZGl0SXRlbSIsInVuZGVmaW5lZCIsImhpZGRlbiIsImhpZGRlbl9wcmVwZW5kIiwiZW1wdHlUZXh0IiwicGFyc2VJbnQiLCJkb21Qcm9wcyIsInRpdGxlIiwiJHJvdXRlIiwicGFyYW1zIiwicmVnaW9uIiwibGV2ZWwiLCJkaXJlY3RpdmVzIiwibmFtZSIsInJhd05hbWUiLCJub3RGb3VuZCIsImhlYWRlcnMiLCJyZWdpb25zIiwiZmlsdGVyIiwic2hvd0l0ZW0iLCJkaXN0cmljdHNJdGVtc1VybCIsImNvbnRlbnQiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxvY2FscyIsImV4cG9ydHMiLCJhZGQiXSwibWFwcGluZ3MiOiJrSkFHSUEsRSxNQUEwQixHQUE0QixLQUUxREEsRUFBd0JDLEtBQUssQ0FBQ0MsRUFBT0MsR0FBSSw2VEFBOFQsR0FBRyxDQUFDLFFBQVUsRUFBRSxRQUFVLENBQUMsd0RBQXdELE1BQVEsR0FBRyxTQUFXLGdJQUFnSSxlQUFpQixDQUFDLHU5Z0JBQTRraEIsV0FBYSxNQUUzcmlCLFcsMkNDUEEsSSxnMkJDK0hBLE1DL0h1TixFRCtIdk4sQ0FDRSxLQUFGLGVBQ0UsTUFBRixDQUNJLFFBQUosTUFDSSxTQUFKLENBQ00sS0FBTixPQUNNLFFBQU4sTUFFSSxNQUFKLENBQ00sS0FBTixNQUNNLFFBQU4sY0FJSSxXQUFKLFFBQ0ksU0FBSixRQUNJLE9BQUosT0FDSSxRQUFKLENBQ00s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QVksQ0FBQyxhQUFhLFFBQVFNLE1BQU0sQ0FBQyxpQkFBaUIsR0FBRyxLQUFPLE9BQU8sVUFBWSxNQUFNLENBQUNkLEVBQUlPLEdBQUcsaUhBQWlIUCxFQUFJc0MsTUFBTSxJQUFJLEtBQ3ZuQyxJR1VwQixFQUNBLEtBQ0EsV0FDQSxNLHdCQ1hGLElBQUl5QyxFQUFVLEVBQVEsTUFDbkJBLEVBQVFDLGFBQVlELEVBQVVBLEVBQVFFLFNBQ25CLGlCQUFaRixJQUFzQkEsRUFBVSxDQUFDLENBQUNqRixFQUFPQyxHQUFJZ0YsRUFBUyxNQUM3REEsRUFBUUcsU0FBUXBGLEVBQU9xRixRQUFVSixFQUFRRyxTQUcvQkUsRUFESCxXQUNPLFdBQVlMLEdBQVMsRUFBTSIsImZpbGUiOiJqcy9jaHVua3MvNzQyOGFkMWQ5YzYyZTA1NGVlMzI3MTguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcInRhYmxle3dpZHRoOi13ZWJraXQtbWF4LWNvbnRlbnQhaW1wb3J0YW50O3dpZHRoOi1tb3otbWF4LWNvbnRlbnQhaW1wb3J0YW50O3dpZHRoOm1heC1jb250ZW50IWltcG9ydGFudH10ZC5maXhlZENvbHVtbix0aC5maXhlZENvbHVtbntwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmZsZXg7dGV4dC1hbGlnbjpjZW50ZXJ9LmZpeGVkQ29sdW1uIHRoOmxhc3QtY2hpbGR7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZH1kaXY+LmZpeGVkQ29sdW1uOmZpcnN0LWNoaWxke3BhZGRpbmctcmlnaHQ6MH1kaXY+LmNvbDpudGgtY2hpbGQoMil7cGFkZGluZy1sZWZ0OjB9XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvQXBwRGF0YVRhYmxlLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFpV0EsTUFDQSxtQ0FBQSxDQUFBLGdDQUFBLENBQUEsMkJBQ0EsQ0FDQSw4QkFDQSxpQkFBQSxDQUNBLFlBQUEsQ0FDQSxpQkFDQSxDQUNBLDJCQUNBLHNCQUNBLENBQ0EsNkJBQ0EsZUFDQSxDQUNBLHNCQUNBLGNBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgICA8di1jb250YWluZXIgPlxcbiAgICAgICAgPHNsb3QgbmFtZT1cXFwiYm9keS5wcmVwZW5kXFxcIi8+XFxuICAgICAgICA8di1yb3dcXG4gICAgICAgICAgICBzdHlsZT1cXFwiZmxleC13cmFwOiBub3dyYXA7XFxcIj5cXG4gICAgICAgICAgICA8di1jb2wgdi1pZj1cXFwid2l0aEZpeGVkICYmIGdldEZpeGVkSGVhZGVycyhmYWxzZSkubGVuZ3RoPjBcXFwiXFxuICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJmaXhlZENvbHVtbiBmbGV4LWdyb3ctMCBmbGV4LXNocmluay0wXFxcIj5cXG4gICAgICAgICAgICAgICAgPHYtZGF0YS10YWJsZSA6aGVhZGVycz1cXFwiZ2V0Rml4ZWRIZWFkZXJzKGZhbHNlKVxcXCIgOml0ZW1zPVxcXCJ0YWJsZUl0ZW1zXFxcIiBpdGVtLWtleT1cXFwiaWRcXFwiIHYtbW9kZWw9XFxcInNlbGVjdGVkXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpwYWdlLnN5bmM9XFxcInRhYmxlRmlsdGVyLnBhZ2VcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOml0ZW1zLXBlci1wYWdlPVxcXCJ0YWJsZUZpbHRlci5wZXJfcGFnZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAcGFnZS1jb3VudD1cXFwicGFnZUNvdW50ID0gJGV2ZW50XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpzZXJ2ZXItaXRlbXMtbGVuZ3RoPVxcXCJ0b3RhbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlLWRlZmF1bHQtZm9vdGVyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1vbjppbnB1dD1cXFwiJGVtaXQoJ2lucHV0JylcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOm9wdGlvbnMuc3luYz1cXFwidGFibGVPcHRpb25zXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpzaG93LXNlbGVjdD1cXFwid2l0aFNlbGVjdFxcXCIgc3R5bGU9XFxcIndpZHRoOiBtYXgtY29udGVudFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6bm8tZGF0YS10ZXh0PVxcXCIn0J3QtdGCINC00LDQvdC90YvRhSdcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOm5vLXJlc3VsdHMtdGV4dD1cXFwiJ9Cd0LXRgiDQtNCw0L3QvdGL0YUnXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj1cXFwiZml4ZWRUYWJsZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6bG9hZGluZz1cXFwibG9hZGluZ1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nLXRleHQ9XFxcItCX0LDQs9GA0YPQt9C60LAuLi4g0J/QvtC20LDQu9GD0LnRgdGC0LAsINC/0L7QtNC+0LbQtNC40YLQtVxcXCJcXG4gICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtc2xvdDpoZWFkZXIuc2V0dGluZ3M9XFxcIntoZWFkZXJ9XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8di1jb250YWluZXIgY2xhc3M9XFxcImQtZmxleCBhbGlnbi1jZW50ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVxcXCJoZWFkZXItc2V0dGluZ3MtbWVudVxcXCIgdi1iaW5kOmhlYWRlcj1cXFwiaGVhZGVyXFxcIj48L3Nsb3Q+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC92LWNvbnRhaW5lcj5cXG4gICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1zbG90Oml0ZW0uc2V0dGluZ3M9XFxcIntpdGVtfVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHYtbWVudSBvZmZzZXQteT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtc2xvdDphY3RpdmF0b3I9XFxcInsgb24sIGF0dHJzIH1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHYtY2FyZC10ZXh0ICA6cmVmPVxcXCInc2V0dGluZ3Nyb3cnK2l0ZW0uaWRcXFwiIGNsYXNzPVxcXCJtYS0wIHBhLTAgZC1mbGV4IGZsZXgtY29sdW1uIGp1c3RpZnktY2VudGVyXFxcIiA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHYtYnRuXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPVxcXCJwcmltYXJ5XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXJrXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtYmluZD1cXFwiYXR0cnNcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtb249XFxcIm9uXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8di1pY29uIHNtYWxsPm1kaS1tZW51PC92LWljb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC92LWJ0bj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdi1jYXJkLXRleHQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzbG90IG5hbWU9XFxcIml0ZW0tc2V0dGluZ3MtbWVudVxcXCIgdi1iaW5kOml0ZW09XFxcIml0ZW1cXFwiPjwvc2xvdD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3YtbWVudT5cXG4gICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1zbG90Oml0ZW0ubWFyaz1cXFwie2l0ZW19XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8di10b29sdGlwIGJvdHRvbT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtc2xvdDphY3RpdmF0b3I9XFxcInsgb24sIGF0dHJzIH1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHYtaWNvblxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtaWY9XFxcIml0ZW0uY29sb3JcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1iaW5kPVxcXCJhdHRyc1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LW9uPVxcXCJvblxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpzdHlsZT1cXFwie2NvbG9yOiBpdGVtLmNvbG9yLmNvbG9yfVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5tZGktY2hlY2tib3gtYmxhbmstY2lyY2xlPC92LWljb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7aXRlbS5jb2xvci50ZXh0fX0gKNCf0L7RgdC70LXQtNC90LXQtSDQvtCx0L3QvtCy0LvQtdC90LjQtTp7e2l0ZW0uZmluaXNoZWRfYXR9fSk8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC92LXRvb2x0aXA+XFxuICAgICAgICAgICAgICAgICAgICAgICAge3tpdGVtLm1hcmt9fVxcbiAgICAgICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgPC92LWRhdGEtdGFibGU+XFxuXFxuICAgICAgICAgICAgPC92LWNvbD5cXG4gICAgICAgICAgICA8di1jb2wgc3R5bGU9XFxcIm92ZXJmbG93OmhpZGRlbjtkaXNwbGF5OiBibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTsgXFxcIlxcbiAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiZmxleC1ncm93LTEgZmxleC1zaHJpbmstMVxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgdi1pZj1cXFwidGFibGVJdGVtcyAmJiB0YWJsZUl0ZW1zLmxlbmd0aCA+IDAgJiYgc2hvd1Njcm9sbFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8di1jaGlwIGNsYXNzPVxcXCJhcHAtdGFibGUtc2Nyb2xsLWxlZnRcXFwiIEBtb3VzZW92ZXI9XFxcIm9uU2Nyb2xsTGVmdFxcXCIgQG1vdXNlb3V0PVxcXCJzY3JvbGxSdW4gPSBmYWxzZTtcXFwiLz5cXG4gICAgICAgICAgICAgICAgICAgIDx2LWNoaXAgY2xhc3M9XFxcImFwcC10YWJsZS1zY3JvbGwtbGVmdCBhcHAtdGFibGUtc2Nyb2xsLXJpZ2h0XFxcIiAgQG1vdXNlb3Zlcj1cXFwib25TY3JvbGxSaWdodFxcXCIgIEBtb3VzZW91dD1cXFwic2Nyb2xsUnVuID0gZmFsc2U7XFxcIi8+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8di1kYXRhLXRhYmxlIDpoZWFkZXJzPVxcXCJ3aXRoRml4ZWQgPyBnZXRGaXhlZEhlYWRlcnModHJ1ZSkgOiB0YWJsZUhlYWRlcnNcXFwiIDppdGVtcz1cXFwidGFibGVJdGVtc1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6cGFnZS5zeW5jPVxcXCJ0YWJsZUZpbHRlci5wYWdlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDppdGVtcy1wZXItcGFnZT1cXFwidGFibGVGaWx0ZXIucGVyX3BhZ2VcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQHBhZ2UtY291bnQ9XFxcInBhZ2VDb3VudCA9ICRldmVudFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6b3B0aW9ucy5zeW5jPVxcXCJ0YWJsZU9wdGlvbnNcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNlcnZlci1pdGVtcy1sZW5ndGg9XFxcInRvdGFsXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpuby1kYXRhLXRleHQ9XFxcIndpdGhTZWxlY3QgPyAnJyA6ICfQndC10YIg0LTQsNC90L3Ri9GFJ1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6bm8tcmVzdWx0cy10ZXh0PVxcXCJ3aXRoU2VsZWN0ID8gJycgOiAn0J3QtdGCINC00LDQvdC90YvRhSdcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPVxcXCJ0YWJsZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6bG9hZGluZz1cXFwibG9hZGluZ1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nLXRleHQ9XFxcItCX0LDQs9GA0YPQt9C60LAuLi4g0J/QvtC20LDQu9GD0LnRgdGC0LAsINC/0L7QtNC+0LbQtNC40YLQtVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlLWRlZmF1bHQtZm9vdGVyPlxcbiAgICAgICAgICAgICAgICAgICAgPHRlbXBsYXRlIHNsb3Q9XFxcIml0ZW1cXFwiIHNsb3Qtc2NvcGU9XFxcInByb3BzXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8dHIgOnJlZj1cXFwiJ3JvdycrcHJvcHMuaXRlbS5pZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCB2LWZvcj1cXFwiKGl0ZW0sIGluZGV4KSBpbiBwcm9wcy5oZWFkZXJzXFxcIiBzdHlsZT1cXFwibWF4LXdpZHRoOiA1MDBweFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtaWY9XFxcIml0ZW0ubGluayA9PT0gdHJ1ZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cXFwibGlua19pdGVtXFxcIiB2LWJpbmQ9XFxcIntwcm9wcywgaXRlbX1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBAY2xpY2s9XFxcInRhYmxlRWRpdEl0ZW0ocHJvcHMuaXRlbVtpdGVtLmlkID09PSB1bmRlZmluZWQgPyAnaWQnIDogaXRlbS5pZF0sIHByb3BzLml0ZW0sIGl0ZW0udmFsdWUpXFxcIiA+e3twcm9wcy5pdGVtW2l0ZW0udmFsdWVdfX08L2E+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zbG90PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtZWxzZS1pZj1cXFwiaXRlbS5oaWRkZW4gPT09IHRydWUgJiYgKHByb3BzLml0ZW1baXRlbS52YWx1ZV0gfHwgcHJvcHMuaXRlbS5oaWRkZW5fcHJlcGVuZClcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHYtaWY9XFxcInByb3BzLml0ZW0uaGlkZGVuX3ByZXBlbmRcXFwiPnt7cHJvcHMuaXRlbS5oaWRkZW5fcHJlcGVuZH19PC9wPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHYtaWY9XFxcIiFwcm9wcy5pdGVtLmhpZGRlblxcXCI+e3twcm9wcy5pdGVtW2l0ZW0udmFsdWVdfX08L3A+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdi1pZj1cXFwicHJvcHMuaXRlbVtpdGVtLnZhbHVlXVxcXCIgQGNsaWNrPVxcXCJwcm9wcy5pdGVtLmhpZGRlbiA9ICFwcm9wcy5pdGVtLmhpZGRlblxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7cHJvcHMuaXRlbS5oaWRkZW4gPyAn0J/QvtC60LDQt9Cw0YLRjCDRgtC10LrRgdGCJyA6ICfQodC60YDRi9GC0Ywg0YLQtdC60YHRgid9fVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiB2LWVsc2U+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3twcm9wcy5pdGVtW2l0ZW0udmFsdWVdICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuaXRlbVtpdGVtLnZhbHVlXSAhPT0gbnVsbCA/IHByb3BzLml0ZW1baXRlbS52YWx1ZV0gOiBlbXB0eVRleHR9fVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgIDwvdi1kYXRhLXRhYmxlPlxcbiAgICAgICAgICAgIDwvdi1jb2w+XFxuICAgICAgICA8L3Ytcm93PlxcbiAgICAgICAgPHNsb3QgbmFtZT1cXFwiYm9keS5hcHBlbmRcXFwiLz5cXG4gICAgICAgIDxzbG90IG5hbWU9XFxcImJvZHkucGFnaW5hdGlvblxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiIGQtZmxleCBwdC0yXFxcIj5cXG4gICAgICAgICAgICAgICAgPHYtcGFnaW5hdGlvblxcbiAgICAgICAgICAgICAgICAgICAgdi1tb2RlbD1cXFwidGFibGVGaWx0ZXIucGFnZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgIDpsZW5ndGg9XFxcInBhZ2VDb3VudFxcXCJcXG4gICAgICAgICAgICAgICAgICAgIDp0b3RhbC12aXNpYmxlPVxcXCI3XFxcIlxcbiAgICAgICAgICAgICAgICA+PC92LXBhZ2luYXRpb24+XFxuICAgICAgICAgICAgICAgIDx2LXNwYWNlcj48L3Ytc3BhY2VyPlxcbiAgICAgICAgICAgICAgICA8di1zZWxlY3RcXG4gICAgICAgICAgICAgICAgICAgIDp2YWx1ZT1cXFwidGFibGVGaWx0ZXIucGVyX3BhZ2VcXFwiXFxuICAgICAgICAgICAgICAgICAgICBAY2hhbmdlPVxcXCJ0YWJsZUZpbHRlci5wZXJfcGFnZSA9IHBhcnNlSW50KCRldmVudCwgMTApID8gcGFyc2VJbnQoJGV2ZW50LCAxMCkgOiAxXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgOml0ZW1zPVxcXCJbMjAsNDAsNjAsODAsMTAwXVxcXCJcXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVxcXCLQn9C+0LrQsNC30YvQstCw0YLRjCDQv9C+OlxcXCJcXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVxcXCJtYXgtd2lkdGg6IDE1MHB4XFxcIlxcbiAgICAgICAgICAgICAgICA+PC92LXNlbGVjdD5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvc2xvdD5cXG4gICAgPC92LWNvbnRhaW5lcj5cXG48L3RlbXBsYXRlPlxcbjxzY3JpcHQ+XFxuICAgIGltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XFxuICAgIGltcG9ydCBBeGlvcyBmcm9tICdAL3V0aWxzL2F4aW9zJztcXG4gICAgZXhwb3J0IGRlZmF1bHQge1xcbiAgICAgICAgbmFtZTogJ0FwcERhdGFUYWJsZScsXFxuICAgICAgICBwcm9wczoge1xcbiAgICAgICAgICAgIGhlYWRlcnM6IEFycmF5LFxcbiAgICAgICAgICAgIGl0ZW1zVXJsOiB7XFxuICAgICAgICAgICAgICAgIHR5cGU6U3RyaW5nLFxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgaXRlbXM6IHtcXG4gICAgICAgICAgICAgICAgdHlwZTogQXJyYXksXFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uKCkge1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgc2hvd1NlbGVjdDogQm9vbGVhbixcXG4gICAgICAgICAgICBmaXhlZENvbDogQm9vbGVhbixcXG4gICAgICAgICAgICBmaWx0ZXI6IE9iamVjdCxcXG4gICAgICAgICAgICBzZXJ2aWNlOiB7XFxuICAgICAgICAgICAgICAgIHR5cGU6T2JqZWN0LFxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiAoe30pXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICB0b0l0ZW06IHtcXG4gICAgICAgICAgICAgICAgdHlwZTogRnVuY3Rpb24sXFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAoaXRlbSkgPT4ge3JldHVybiBpdGVtO30sXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICBlZGl0SXRlbToge1xcbiAgICAgICAgICAgICAgICB0eXBlOiBGdW5jdGlvbixcXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogKGlkKSA9PiB7fSxcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIGVtcHR5SXRlbVRleHQ6IHtcXG4gICAgICAgICAgICAgICAgdHlwZTpTdHJpbmcsXFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICcnLFxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICB9LFxcbiAgICAgICAgZGF0YTogZnVuY3Rpb24gKCkge1xcbiAgICAgICAgICAgIHJldHVybiB7XFxuICAgICAgICAgICAgICAgIHBhZ2VDb3VudDogMCxcXG4gICAgICAgICAgICAgICAgdGFibGVJdGVtczogdGhpcy5pdGVtcyxcXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IFtdLFxcbiAgICAgICAgICAgICAgICB0b3RhbDogMCxcXG4gICAgICAgICAgICAgICAgdGFibGVIZWFkZXJzOiB0aGlzLmhlYWRlcnMsXFxuICAgICAgICAgICAgICAgIHdpdGhTZWxlY3QgOiB0aGlzLnNob3dTZWxlY3QsXFxuICAgICAgICAgICAgICAgIHdpdGhGaXhlZDogdGhpcy5maXhlZENvbCxcXG4gICAgICAgICAgICAgICAgdGFibGVGaWx0ZXI6IHtcXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZmlsdGVyLFxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogMSxcXG4gICAgICAgICAgICAgICAgICAgIHBlcl9wYWdlOiAyMCxcXG4gICAgICAgICAgICAgICAgICAgIHNvcnRCeTogJ2lkJyxcXG4gICAgICAgICAgICAgICAgICAgIHNvcnREZXNjIDogZmFsc2UsXFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIHNjcm9sbFJ1bjogZmFsc2UsXFxuICAgICAgICAgICAgICAgIHNob3dTY3JvbGw6IGZhbHNlLFxcbiAgICAgICAgICAgICAgICB0YWJsZU9wdGlvbnM6IHt9LFxcbiAgICAgICAgICAgICAgICB0YWJsZUVkaXRJdGVtOiB0aGlzLmVkaXRJdGVtLFxcbiAgICAgICAgICAgICAgICBlbXB0eVRleHQ6IHRoaXMuZW1wdHlJdGVtVGV4dCxcXG4gICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXFxuICAgICAgICAgICAgfTtcXG4gICAgICAgIH0sXFxuICAgICAgICBtZXRob2RzOiB7XFxuICAgICAgICAgICAgZ2V0Rml4ZWRDb2x1bW5MZWZ0IChpbmR4ID0gdGhpcy5oZWFkZXJzLmxlbmd0aCkge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXJzXFxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChoZWFkZXIsIGkpID0+IGkgPCBpbmR4ICYmIGhlYWRlci5maXhlZCA9PT0gdHJ1ZSlcXG4gICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGN1cnJlbnRWYWx1ZSwgaGVhZGVyKSA9PiBjdXJyZW50VmFsdWUgKyAocGFyc2VJbnQoaGVhZGVyLndpZHRoKSB8fCAwKSwgMClcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIGdldEZpeGVkSGVhZGVycyhyZXZlcnNlKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhlYWRlcnNcXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGhlYWRlcikgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhcmV2ZXJzZSA/IGhlYWRlci5maXhlZCA9PT0gdHJ1ZSA6ICEoaGVhZGVyLmZpeGVkICE9PSB1bmRlZmluZWQgJiYgaGVhZGVyLmZpeGVkICE9PSBmYWxzZSlcXG4gICAgICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgYXN5bmMgbG9hZEl0ZW1zKCkge1xcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pdGVtcyAhPT0gdW5kZWZpbmVkKSB7XFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy5pdGVtcy5sZW5ndGg7XFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VDb3VudCA9IE1hdGguZmxvb3IodGhpcy50b3RhbCAvIHRoaXMudGFibGVGaWx0ZXIucGVyX3BhZ2UpXFxuICAgICAgICAgICAgICAgICAgICAgICAgKyAodGhpcy50b3RhbCA9PT0gdGhpcy50YWJsZUZpbHRlci5wZXJfcGFnZSA/IDAgOiAxKTtcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVWaWV3Tm9ybWFsaXplKClcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBpZiAgKHRoaXMuaXRlbXNVcmwpIHtcXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJhbXMgPSB0aGlzLnNlcnZpY2UgJiYgdGhpcy5zZXJ2aWNlLnByZXBhcmVQYXJhbXNcXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuc2VydmljZS5wcmVwYXJlUGFyYW1zKHRoaXMudGFibGVGaWx0ZXIpXFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnRhYmxlRmlsdGVyO1xcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZVxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25Mb2FkaW5nJylcXG4gICAgICAgICAgICAgICAgICAgIEF4aW9zLmdldCh0aGlzLml0ZW1zVXJsLCB7cGFyYW1zfSlcXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUl0ZW1zID0gcmVzcG9uc2UuZGF0YS5kYXRhLm1hcCh0aGlzLnRvSXRlbSk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VDb3VudCA9IHJlc3BvbnNlLmRhdGEubGFzdF9wYWdlO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlVmlld05vcm1hbGl6ZSgpXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uTG9hZCcsIHJlc3BvbnNlLmRhdGEuZGF0YSlcXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2VcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25Mb2FkJylcXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlXFxuICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uTG9hZGluZycpXFxuICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZS5nZXRBbGwodGhpcy50YWJsZUZpbHRlcilcXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVJdGVtcyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5tYXAodGhpcy50b0l0ZW0pO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZUNvdW50ID0gcmVzcG9uc2UuZGF0YS5sYXN0X3BhZ2U7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZVZpZXdOb3JtYWxpemUoKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25Mb2FkJywgcmVzcG9uc2UuZGF0YS5kYXRhKVxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25Mb2FkJylcXG4gICAgICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgc2Nyb2xsVG8oZWxlbWVudCwgc2Nyb2xsUGl4ZWxzLCBkdXJhdGlvbikge1xcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JvbGxQb3MgPSBlbGVtZW50LnNjcm9sbExlZnQ7XFxuICAgICAgICAgICAgICAgIC8vIENvbmRpdGlvbiB0byBjaGVjayBpZiBzY3JvbGxpbmcgaXMgcmVxdWlyZWRcXG4gICAgICAgICAgICAgICAgaWYgKCAhKCAoc2Nyb2xsUG9zID09PSAwIHx8IHNjcm9sbFBpeGVscyA+IDApICYmIChlbGVtZW50LmNsaWVudFdpZHRoICsgc2Nyb2xsUG9zID09PSBlbGVtZW50LnNjcm9sbFdpZHRoIHx8IHNjcm9sbFBpeGVscyA8IDApKSlcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBzdGFydCB0aW1lc3RhbXBcXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9XFxuICAgICAgICAgICAgICAgICAgICAgICAgXFxcIm5vd1xcXCIgaW4gd2luZG93LnBlcmZvcm1hbmNlXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGVyZm9ybWFuY2Uubm93KClcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcXG4gICAgICAgICAgICAgICAgICAgIGxldCBzY3JvbGwgPSAodGltZXN0YW1wKSAgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQ2FsY3VsYXRlIHRoZSB0aW1lZWxhcHNlZFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVFbGFwc2VkID0gdGltZXN0YW1wIC0gc3RhcnRUaW1lO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQ2FsY3VsYXRlIHByb2dyZXNzXFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBkdXJhdGlvbiA/IE1hdGgubWluKHRpbWVFbGFwc2VkIC8gZHVyYXRpb24sIDEpIDogbnVsbDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1NldCB0aGUgc2Nyb2xsZWZ0XFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zY3JvbGxMZWZ0ID0gKHByb2dyZXNzXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2Nyb2xsUG9zICsgc2Nyb2xsUGl4ZWxzICogcHJvZ3Jlc3MgOlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNjcm9sbExlZnQgKyAxMCAqIHNjcm9sbFBpeGVscyAvKE1hdGguYWJzKHNjcm9sbFBpeGVscykpKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0NoZWNrIGlmIGVsYXBzZWQgdGltZSBpcyBsZXNzIHRoZW4gZHVyYXRpb24gdGhlbiBjYWxsIHRoZSByZXF1ZXN0QW5pbWF0aW9uLCBvdGhlcndpc2UgZXhpdFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbFJ1bikge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1JlcXVlc3QgZm9yIGFuaW1hdGlvblxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNjcm9sbCk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIC8vQ2FsbCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgb24gc2Nyb2xsIGZ1bmN0aW9uIGZpcnN0IHRpbWVcXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2Nyb2xsKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgb25TY3JvbGxMZWZ0KCkge1xcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFJ1biA9IHRydWU7XFxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG8odGhpcy4kcmVmcy50YWJsZS4kZWwuY2hpbGROb2Rlc1swXSwgLXRoaXMuJHJlZnMudGFibGUuJGVsLmNoaWxkTm9kZXNbMF0uc2Nyb2xsV2lkdGgpO1xcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgb25TY3JvbGxSaWdodCgpIHtcXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxSdW4gPSB0cnVlO1xcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHRoaXMuJHJlZnMudGFibGUuJGVsLmNoaWxkTm9kZXNbMF0sIHRoaXMuJHJlZnMudGFibGUuJGVsLmNoaWxkTm9kZXNbMF0uc2Nyb2xsV2lkdGgpO1xcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgdGFibGVWaWV3Tm9ybWFsaXplKCkge1xcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kcmVmcy5maXhlZFRhYmxlKSBPYmplY3Qua2V5cyh0aGlzLiRyZWZzKS5mb3JFYWNoKCh2KSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICBpZiAodi5zZWFyY2goJ3JvdycpID09PSAwICYmIHRoaXMuJHJlZnNbJ3NldHRpbmdzJysgdl0pIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzWydzZXR0aW5ncycrIHZdLnN0eWxlLmhlaWdodCA9ICh0aGlzLiRyZWZzW3ZdLmNsaWVudEhlaWdodCAtIDEpKydweCc7IC8vYm9vdG9tIGJvcmRlciBvbiBldmVyeSB0YWJsZSByb3dcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9LFxcbiAgICAgICAgY3JlYXRlZDogZnVuY3Rpb24oKSB7XFxuICAgICAgICAgICAgdGhpcy5kZWJvdW5jZWRMb2FkSXRlbXMgPSBfLmRlYm91bmNlKHRoaXMubG9hZEl0ZW1zLCA1MDApXFxuICAgICAgICB9LFxcbiAgICAgICAgd2F0Y2g6IHtcXG4gICAgICAgICAgICB0YWJsZUZpbHRlcjoge1xcbiAgICAgICAgICAgICAgICBoYW5kbGVyICgpIHtcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVib3VuY2VkTG9hZEl0ZW1zKClcXG4gICAgICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICAgICAgZGVlcDogdHJ1ZVxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgdGFibGVPcHRpb25zOiB7XFxuICAgICAgICAgICAgICAgIGhhbmRsZXIoKSB7XFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YWJsZU9wdGlvbnMuc29ydEJ5Lmxlbmd0aCA9PT0gMSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVGaWx0ZXIuc29ydEJ5ID0gdGhpcy50YWJsZU9wdGlvbnMuc29ydEJ5WzBdO1xcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFibGVPcHRpb25zLnNvcnREZXNjLmxlbmd0aCA9PT0gMSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVGaWx0ZXIuc29ydERlc2MgPSB0aGlzLnRhYmxlT3B0aW9ucy5zb3J0RGVzY1swXTtcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc29ydEJ5LCBzb3J0RGVzYyB9ID0gdGhpcy50YWJsZUZpbHRlclxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25Tb3J0JywgeyBzb3J0QnksIHNvcnREZXNjIH0pXFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWUsXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICB0YWJsZUl0ZW1zOiB7XFxuICAgICAgICAgICAgICAgIGhhbmRsZXIoKSB7XFxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+ICB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93U2Nyb2xsID0gdGhpcy4kcmVmcy50YWJsZS4kZWwuY2hpbGROb2Rlc1swXS5zY3JvbGxXaWR0aCA+IHRoaXMuJHJlZnMudGFibGUuJGVsLnNjcm9sbFdpZHRoO1xcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcXG4gICAgICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICAgICAgZGVlcDp0cnVlLFxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgZmlsdGVyOiB7XFxuICAgICAgICAgICAgICAgIGhhbmRsZXIodmFsdWUpIHtcXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVGaWx0ZXIgPSB7Li4udGhpcy50YWJsZUZpbHRlciwgLi4udGhpcy5maWx0ZXJ9O1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVGaWx0ZXIucGFnZSA9IDE7XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIGRlZXA6dHJ1ZVxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgaXRlbXM6IHtcXG4gICAgICAgICAgICAgICAgaGFuZGxlcih2YWx1ZSkge1xcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUl0ZW1zID0gdmFsdWU7XFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWUsXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSxcXG4gICAgICAgIG1vdW50ZWQoKSB7XFxuICAgICAgICAgICAgdGhpcy5sb2FkSXRlbXMoKVxcbiAgICAgICAgICAgIHRoaXMuJHdhdGNoKFxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kcmVmcy50YWJsZS5pdGVtc1xcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICAodmFsKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlVmlld05vcm1hbGl6ZSgpXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICApXFxuICAgICAgICB9LFxcbiAgICB9XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlPlxcbiAgICB0YWJsZSB7XFxuICAgICAgICB3aWR0aDogbWF4LWNvbnRlbnQgIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICB0aC5maXhlZENvbHVtbiwgdGQuZml4ZWRDb2x1bW4ge1xcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgfVxcbiAgICAuZml4ZWRDb2x1bW4gICB0aDpsYXN0LWNoaWxke1xcbiAgICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQ7XFxuICAgIH1cXG4gICAgZGl2ID4gLmZpeGVkQ29sdW1uOm50aC1jaGlsZCgxKSB7XFxuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAwO1xcbiAgICB9XFxuICAgIGRpdiA+IC5jb2w6bnRoLWNoaWxkKDIpIHtcXG4gICAgICAgIHBhZGRpbmctbGVmdDogMDtcXG4gICAgfVxcbjwvc3R5bGU+XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCd2LWNvbnRhaW5lcicsW192bS5fdChcImJvZHkucHJlcGVuZFwiKSxfdm0uX3YoXCIgXCIpLF9jKCd2LXJvdycse3N0YXRpY1N0eWxlOntcImZsZXgtd3JhcFwiOlwibm93cmFwXCJ9fSxbKF92bS53aXRoRml4ZWQgJiYgX3ZtLmdldEZpeGVkSGVhZGVycyhmYWxzZSkubGVuZ3RoPjApP19jKCd2LWNvbCcse3N0YXRpY0NsYXNzOlwiZml4ZWRDb2x1bW4gZmxleC1ncm93LTAgZmxleC1zaHJpbmstMFwifSxbX2MoJ3YtZGF0YS10YWJsZScse3JlZjpcImZpeGVkVGFibGVcIixzdGF0aWNTdHlsZTp7XCJ3aWR0aFwiOlwibWF4LWNvbnRlbnRcIn0sYXR0cnM6e1wiaGVhZGVyc1wiOl92bS5nZXRGaXhlZEhlYWRlcnMoZmFsc2UpLFwiaXRlbXNcIjpfdm0udGFibGVJdGVtcyxcIml0ZW0ta2V5XCI6XCJpZFwiLFwicGFnZVwiOl92bS50YWJsZUZpbHRlci5wYWdlLFwiaXRlbXMtcGVyLXBhZ2VcIjpfdm0udGFibGVGaWx0ZXIucGVyX3BhZ2UsXCJzZXJ2ZXItaXRlbXMtbGVuZ3RoXCI6X3ZtLnRvdGFsLFwiaGlkZS1kZWZhdWx0LWZvb3RlclwiOlwiXCIsXCJvcHRpb25zXCI6X3ZtLnRhYmxlT3B0aW9ucyxcInNob3ctc2VsZWN0XCI6X3ZtLndpdGhTZWxlY3QsXCJuby1kYXRhLXRleHRcIjon0J3QtdGCINC00LDQvdC90YvRhScsXCJuby1yZXN1bHRzLXRleHRcIjon0J3QtdGCINC00LDQvdC90YvRhScsXCJsb2FkaW5nXCI6X3ZtLmxvYWRpbmcsXCJsb2FkaW5nLXRleHRcIjpcItCX0LDQs9GA0YPQt9C60LAuLi4g0J/QvtC20LDQu9GD0LnRgdGC0LAsINC/0L7QtNC+0LbQtNC40YLQtVwifSxvbjp7XCJ1cGRhdGU6cGFnZVwiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS4kc2V0KF92bS50YWJsZUZpbHRlciwgXCJwYWdlXCIsICRldmVudCl9LFwicGFnZS1jb3VudFwiOmZ1bmN0aW9uKCRldmVudCl7X3ZtLnBhZ2VDb3VudCA9ICRldmVudH0sXCJpbnB1dFwiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS4kZW1pdCgnaW5wdXQnKX0sXCJ1cGRhdGU6b3B0aW9uc1wiOmZ1bmN0aW9uKCRldmVudCl7X3ZtLnRhYmxlT3B0aW9ucz0kZXZlbnR9fSxzY29wZWRTbG90czpfdm0uX3UoW3trZXk6XCJoZWFkZXIuc2V0dGluZ3NcIixmbjpmdW5jdGlvbihyZWYpe1xudmFyIGhlYWRlciA9IHJlZi5oZWFkZXI7XG5yZXR1cm4gW19jKCd2LWNvbnRhaW5lcicse3N0YXRpY0NsYXNzOlwiZC1mbGV4IGFsaWduLWNlbnRlclwifSxbX3ZtLl90KFwiaGVhZGVyLXNldHRpbmdzLW1lbnVcIixudWxsLHtcImhlYWRlclwiOmhlYWRlcn0pXSwyKV19fSx7a2V5OlwiaXRlbS5zZXR0aW5nc1wiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgaXRlbSA9IHJlZi5pdGVtO1xucmV0dXJuIFtfYygndi1tZW51Jyx7YXR0cnM6e1wib2Zmc2V0LXlcIjpcIlwifSxzY29wZWRTbG90czpfdm0uX3UoW3trZXk6XCJhY3RpdmF0b3JcIixmbjpmdW5jdGlvbihyZWYpe1xudmFyIG9uID0gcmVmLm9uO1xudmFyIGF0dHJzID0gcmVmLmF0dHJzO1xucmV0dXJuIFtfYygndi1jYXJkLXRleHQnLHtyZWY6J3NldHRpbmdzcm93JytpdGVtLmlkLHN0YXRpY0NsYXNzOlwibWEtMCBwYS0wIGQtZmxleCBmbGV4LWNvbHVtbiBqdXN0aWZ5LWNlbnRlclwifSxbX2MoJ3YtYnRuJyxfdm0uX2coX3ZtLl9iKHthdHRyczp7XCJjb2xvclwiOlwicHJpbWFyeVwiLFwiZGFya1wiOlwiXCIsXCJpY29uXCI6XCJcIn19LCd2LWJ0bicsYXR0cnMsZmFsc2UpLG9uKSxbX2MoJ3YtaWNvbicse2F0dHJzOntcInNtYWxsXCI6XCJcIn19LFtfdm0uX3YoXCJtZGktbWVudVwiKV0pXSwxKV0sMSldfX1dLG51bGwsdHJ1ZSl9LFtfdm0uX3YoXCIgXCIpLF92bS5fdChcIml0ZW0tc2V0dGluZ3MtbWVudVwiLG51bGwse1wiaXRlbVwiOml0ZW19KV0sMildfX0se2tleTpcIml0ZW0ubWFya1wiLGZuOmZ1bmN0aW9uKHJlZil7XG52YXIgaXRlbSA9IHJlZi5pdGVtO1xucmV0dXJuIFtfYygndi10b29sdGlwJyx7YXR0cnM6e1wiYm90dG9tXCI6XCJcIn0sc2NvcGVkU2xvdHM6X3ZtLl91KFt7a2V5OlwiYWN0aXZhdG9yXCIsZm46ZnVuY3Rpb24ocmVmKXtcbnZhciBvbiA9IHJlZi5vbjtcbnZhciBhdHRycyA9IHJlZi5hdHRycztcbnJldHVybiBbKGl0ZW0uY29sb3IpP19jKCd2LWljb24nLF92bS5fZyhfdm0uX2Ioe3N0eWxlOih7Y29sb3I6IGl0ZW0uY29sb3IuY29sb3J9KSxhdHRyczp7XCJzbWFsbFwiOlwiXCJ9fSwndi1pY29uJyxhdHRycyxmYWxzZSksb24pLFtfdm0uX3YoXCJtZGktY2hlY2tib3gtYmxhbmstY2lyY2xlXCIpXSk6X3ZtLl9lKCldfX1dLG51bGwsdHJ1ZSl9LFtfdm0uX3YoXCIgXCIpLF9jKCdzcGFuJyxbX3ZtLl92KF92bS5fcyhpdGVtLmNvbG9yLnRleHQpK1wiICjQn9C+0YHQu9C10LTQvdC10LUg0L7QsdC90L7QstC70LXQvdC40LU6XCIrX3ZtLl9zKGl0ZW0uZmluaXNoZWRfYXQpK1wiKVwiKV0pXSksX3ZtLl92KFwiXFxuICAgICAgICAgICAgICAgICAgICBcIitfdm0uX3MoaXRlbS5tYXJrKStcIlxcbiAgICAgICAgICAgICAgICBcIildfX1dLG51bGwsdHJ1ZSksbW9kZWw6e3ZhbHVlOihfdm0uc2VsZWN0ZWQpLGNhbGxiYWNrOmZ1bmN0aW9uICgkJHYpIHtfdm0uc2VsZWN0ZWQ9JCR2fSxleHByZXNzaW9uOlwic2VsZWN0ZWRcIn19KV0sMSk6X3ZtLl9lKCksX3ZtLl92KFwiIFwiKSxfYygndi1jb2wnLHtzdGF0aWNDbGFzczpcImZsZXgtZ3Jvdy0xIGZsZXgtc2hyaW5rLTFcIixzdGF0aWNTdHlsZTp7XCJvdmVyZmxvd1wiOlwiaGlkZGVuXCIsXCJkaXNwbGF5XCI6XCJibG9ja1wiLFwicG9zaXRpb25cIjpcInJlbGF0aXZlXCJ9fSxbKF92bS50YWJsZUl0ZW1zICYmIF92bS50YWJsZUl0ZW1zLmxlbmd0aCA+IDAgJiYgX3ZtLnNob3dTY3JvbGwpP19jKCdkaXYnLFtfYygndi1jaGlwJyx7c3RhdGljQ2xhc3M6XCJhcHAtdGFibGUtc2Nyb2xsLWxlZnRcIixvbjp7XCJtb3VzZW92ZXJcIjpfdm0ub25TY3JvbGxMZWZ0LFwibW91c2VvdXRcIjpmdW5jdGlvbigkZXZlbnQpe192bS5zY3JvbGxSdW4gPSBmYWxzZTt9fX0pLF92bS5fdihcIiBcIiksX2MoJ3YtY2hpcCcse3N0YXRpY0NsYXNzOlwiYXBwLXRhYmxlLXNjcm9sbC1sZWZ0IGFwcC10YWJsZS1zY3JvbGwtcmlnaHRcIixvbjp7XCJtb3VzZW92ZXJcIjpfdm0ub25TY3JvbGxSaWdodCxcIm1vdXNlb3V0XCI6ZnVuY3Rpb24oJGV2ZW50KXtfdm0uc2Nyb2xsUnVuID0gZmFsc2U7fX19KV0sMSk6X3ZtLl9lKCksX3ZtLl92KFwiIFwiKSxfYygndi1kYXRhLXRhYmxlJyx7cmVmOlwidGFibGVcIixhdHRyczp7XCJoZWFkZXJzXCI6X3ZtLndpdGhGaXhlZCA/IF92bS5nZXRGaXhlZEhlYWRlcnModHJ1ZSkgOiBfdm0udGFibGVIZWFkZXJzLFwiaXRlbXNcIjpfdm0udGFibGVJdGVtcyxcInBhZ2VcIjpfdm0udGFibGVGaWx0ZXIucGFnZSxcIml0ZW1zLXBlci1wYWdlXCI6X3ZtLnRhYmxlRmlsdGVyLnBlcl9wYWdlLFwib3B0aW9uc1wiOl92bS50YWJsZU9wdGlvbnMsXCJzZXJ2ZXItaXRlbXMtbGVuZ3RoXCI6X3ZtLnRvdGFsLFwibm8tZGF0YS10ZXh0XCI6X3ZtLndpdGhTZWxlY3QgPyAnJyA6ICfQndC10YIg0LTQsNC90L3Ri9GFJyxcIm5vLXJlc3VsdHMtdGV4dFwiOl92bS53aXRoU2VsZWN0ID8gJycgOiAn0J3QtdGCINC00LDQvdC90YvRhScsXCJsb2FkaW5nXCI6X3ZtLmxvYWRpbmcsXCJsb2FkaW5nLXRleHRcIjpcItCX0LDQs9GA0YPQt9C60LAuLi4g0J/QvtC20LDQu9GD0LnRgdGC0LAsINC/0L7QtNC+0LbQtNC40YLQtVwiLFwiaGlkZS1kZWZhdWx0LWZvb3RlclwiOlwiXCJ9LG9uOntcInVwZGF0ZTpwYWdlXCI6ZnVuY3Rpb24oJGV2ZW50KXtyZXR1cm4gX3ZtLiRzZXQoX3ZtLnRhYmxlRmlsdGVyLCBcInBhZ2VcIiwgJGV2ZW50KX0sXCJwYWdlLWNvdW50XCI6ZnVuY3Rpb24oJGV2ZW50KXtfdm0ucGFnZUNvdW50ID0gJGV2ZW50fSxcInVwZGF0ZTpvcHRpb25zXCI6ZnVuY3Rpb24oJGV2ZW50KXtfdm0udGFibGVPcHRpb25zPSRldmVudH19LHNjb3BlZFNsb3RzOl92bS5fdShbe2tleTpcIml0ZW1cIixmbjpmdW5jdGlvbihwcm9wcyl7cmV0dXJuIFtfYygndHInLHtyZWY6J3JvdycrcHJvcHMuaXRlbS5pZH0sX3ZtLl9sKChwcm9wcy5oZWFkZXJzKSxmdW5jdGlvbihpdGVtLGluZGV4KXtyZXR1cm4gX2MoJ3RkJyx7c3RhdGljU3R5bGU6e1wibWF4LXdpZHRoXCI6XCI1MDBweFwifX0sWyhpdGVtLmxpbmsgPT09IHRydWUpP19jKCdkaXYnLFtfdm0uX3QoXCJsaW5rX2l0ZW1cIixmdW5jdGlvbigpe3JldHVybiBbX2MoJ2EnLHtvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS50YWJsZUVkaXRJdGVtKHByb3BzLml0ZW1baXRlbS5pZCA9PT0gdW5kZWZpbmVkID8gJ2lkJyA6IGl0ZW0uaWRdLCBwcm9wcy5pdGVtLCBpdGVtLnZhbHVlKX19fSxbX3ZtLl92KF92bS5fcyhwcm9wcy5pdGVtW2l0ZW0udmFsdWVdKSldKV19LG51bGwse3Byb3BzOiBwcm9wcywgaXRlbTogaXRlbX0pXSwyKTooaXRlbS5oaWRkZW4gPT09IHRydWUgJiYgKHByb3BzLml0ZW1baXRlbS52YWx1ZV0gfHwgcHJvcHMuaXRlbS5oaWRkZW5fcHJlcGVuZCkpP19jKCdkaXYnLFsocHJvcHMuaXRlbS5oaWRkZW5fcHJlcGVuZCk/X2MoJ3AnLFtfdm0uX3YoX3ZtLl9zKHByb3BzLml0ZW0uaGlkZGVuX3ByZXBlbmQpKV0pOl92bS5fZSgpLF92bS5fdihcIiBcIiksKCFwcm9wcy5pdGVtLmhpZGRlbik/X2MoJ3AnLFtfdm0uX3YoX3ZtLl9zKHByb3BzLml0ZW1baXRlbS52YWx1ZV0pKV0pOl92bS5fZSgpLF92bS5fdihcIiBcIiksKHByb3BzLml0ZW1baXRlbS52YWx1ZV0pP19jKCdhJyx7b246e1wiY2xpY2tcIjpmdW5jdGlvbigkZXZlbnQpe3Byb3BzLml0ZW0uaGlkZGVuID0gIXByb3BzLml0ZW0uaGlkZGVufX19LFtfdm0uX3YoXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIitfdm0uX3MocHJvcHMuaXRlbS5oaWRkZW4gPyAn0J/QvtC60LDQt9Cw0YLRjCDRgtC10LrRgdGCJyA6ICfQodC60YDRi9GC0Ywg0YLQtdC60YHRgicpK1wiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIildKTpfdm0uX2UoKV0pOl9jKCdkaXYnLFtfdm0uX3YoXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiK192bS5fcyhwcm9wcy5pdGVtW2l0ZW0udmFsdWVdICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuaXRlbVtpdGVtLnZhbHVlXSAhPT0gbnVsbCA/IHByb3BzLml0ZW1baXRlbS52YWx1ZV0gOiBfdm0uZW1wdHlUZXh0KStcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIildKV0pfSksMCldfX1dLG51bGwsdHJ1ZSl9KV0sMSldLDEpLF92bS5fdihcIiBcIiksX3ZtLl90KFwiYm9keS5hcHBlbmRcIiksX3ZtLl92KFwiIFwiKSxfdm0uX3QoXCJib2R5LnBhZ2luYXRpb25cIixmdW5jdGlvbigpe3JldHVybiBbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiIGQtZmxleCBwdC0yXCJ9LFtfYygndi1wYWdpbmF0aW9uJyx7YXR0cnM6e1wibGVuZ3RoXCI6X3ZtLnBhZ2VDb3VudCxcInRvdGFsLXZpc2libGVcIjo3fSxtb2RlbDp7dmFsdWU6KF92bS50YWJsZUZpbHRlci5wYWdlKSxjYWxsYmFjazpmdW5jdGlvbiAoJCR2KSB7X3ZtLiRzZXQoX3ZtLnRhYmxlRmlsdGVyLCBcInBhZ2VcIiwgJCR2KX0sZXhwcmVzc2lvbjpcInRhYmxlRmlsdGVyLnBhZ2VcIn19KSxfdm0uX3YoXCIgXCIpLF9jKCd2LXNwYWNlcicpLF92bS5fdihcIiBcIiksX2MoJ3Ytc2VsZWN0Jyx7c3RhdGljU3R5bGU6e1wibWF4LXdpZHRoXCI6XCIxNTBweFwifSxhdHRyczp7XCJ2YWx1ZVwiOl92bS50YWJsZUZpbHRlci5wZXJfcGFnZSxcIml0ZW1zXCI6WzIwLDQwLDYwLDgwLDEwMF0sXCJsYWJlbFwiOlwi0J/QvtC60LDQt9GL0LLQsNGC0Ywg0L/QvjpcIn0sb246e1wiY2hhbmdlXCI6ZnVuY3Rpb24oJGV2ZW50KXtfdm0udGFibGVGaWx0ZXIucGVyX3BhZ2UgPSBwYXJzZUludCgkZXZlbnQsIDEwKSA/IHBhcnNlSW50KCRldmVudCwgMTApIDogMX19fSldLDEpXX0pXSwyKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxuICAgIDx2LWNvbnRhaW5lciA+XG4gICAgICAgIDxzbG90IG5hbWU9XCJib2R5LnByZXBlbmRcIi8+XG4gICAgICAgIDx2LXJvd1xuICAgICAgICAgICAgc3R5bGU9XCJmbGV4LXdyYXA6IG5vd3JhcDtcIj5cbiAgICAgICAgICAgIDx2LWNvbCB2LWlmPVwid2l0aEZpeGVkICYmIGdldEZpeGVkSGVhZGVycyhmYWxzZSkubGVuZ3RoPjBcIlxuICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZml4ZWRDb2x1bW4gZmxleC1ncm93LTAgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgIDx2LWRhdGEtdGFibGUgOmhlYWRlcnM9XCJnZXRGaXhlZEhlYWRlcnMoZmFsc2UpXCIgOml0ZW1zPVwidGFibGVJdGVtc1wiIGl0ZW0ta2V5PVwiaWRcIiB2LW1vZGVsPVwic2VsZWN0ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnBhZ2Uuc3luYz1cInRhYmxlRmlsdGVyLnBhZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOml0ZW1zLXBlci1wYWdlPVwidGFibGVGaWx0ZXIucGVyX3BhZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQHBhZ2UtY291bnQ9XCJwYWdlQ291bnQgPSAkZXZlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNlcnZlci1pdGVtcy1sZW5ndGg9XCJ0b3RhbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlLWRlZmF1bHQtZm9vdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LW9uOmlucHV0PVwiJGVtaXQoJ2lucHV0JylcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOm9wdGlvbnMuc3luYz1cInRhYmxlT3B0aW9uc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c2hvdy1zZWxlY3Q9XCJ3aXRoU2VsZWN0XCIgc3R5bGU9XCJ3aWR0aDogbWF4LWNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOm5vLWRhdGEtdGV4dD1cIifQndC10YIg0LTQsNC90L3Ri9GFJ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6bm8tcmVzdWx0cy10ZXh0PVwiJ9Cd0LXRgiDQtNCw0L3QvdGL0YUnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj1cImZpeGVkVGFibGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmxvYWRpbmc9XCJsb2FkaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmctdGV4dD1cItCX0LDQs9GA0YPQt9C60LAuLi4g0J/QvtC20LDQu9GD0LnRgdGC0LAsINC/0L7QtNC+0LbQtNC40YLQtVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1zbG90OmhlYWRlci5zZXR0aW5ncz1cIntoZWFkZXJ9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8di1jb250YWluZXIgY2xhc3M9XCJkLWZsZXggYWxpZ24tY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cImhlYWRlci1zZXR0aW5ncy1tZW51XCIgdi1iaW5kOmhlYWRlcj1cImhlYWRlclwiPjwvc2xvdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdi1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LXNsb3Q6aXRlbS5zZXR0aW5ncz1cIntpdGVtfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHYtbWVudSBvZmZzZXQteT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1zbG90OmFjdGl2YXRvcj1cInsgb24sIGF0dHJzIH1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHYtY2FyZC10ZXh0ICA6cmVmPVwiJ3NldHRpbmdzcm93JytpdGVtLmlkXCIgY2xhc3M9XCJtYS0wIHBhLTAgZC1mbGV4IGZsZXgtY29sdW1uIGp1c3RpZnktY2VudGVyXCIgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHYtYnRuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXJrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1iaW5kPVwiYXR0cnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtb249XCJvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8di1pY29uIHNtYWxsPm1kaS1tZW51PC92LWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3YtYnRuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3YtY2FyZC10ZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cIml0ZW0tc2V0dGluZ3MtbWVudVwiIHYtYmluZDppdGVtPVwiaXRlbVwiPjwvc2xvdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdi1tZW51PlxuICAgICAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxuICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1zbG90Oml0ZW0ubWFyaz1cIntpdGVtfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHYtdG9vbHRpcCBib3R0b20+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtc2xvdDphY3RpdmF0b3I9XCJ7IG9uLCBhdHRycyB9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2LWljb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtaWY9XCJpdGVtLmNvbG9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtYmluZD1cImF0dHJzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtb249XCJvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnN0eWxlPVwie2NvbG9yOiBpdGVtLmNvbG9yLmNvbG9yfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5tZGktY2hlY2tib3gtYmxhbmstY2lyY2xlPC92LWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57e2l0ZW0uY29sb3IudGV4dH19ICjQn9C+0YHQu9C10LTQvdC10LUg0L7QsdC90L7QstC70LXQvdC40LU6e3tpdGVtLmZpbmlzaGVkX2F0fX0pPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC92LXRvb2x0aXA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7e2l0ZW0ubWFya319XG4gICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgPC92LWRhdGEtdGFibGU+XG5cbiAgICAgICAgICAgIDwvdi1jb2w+XG4gICAgICAgICAgICA8di1jb2wgc3R5bGU9XCJvdmVyZmxvdzpoaWRkZW47ZGlzcGxheTogYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7IFwiXG4gICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4LWdyb3ctMSBmbGV4LXNocmluay0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdiB2LWlmPVwidGFibGVJdGVtcyAmJiB0YWJsZUl0ZW1zLmxlbmd0aCA+IDAgJiYgc2hvd1Njcm9sbFwiPlxuICAgICAgICAgICAgICAgICAgICA8di1jaGlwIGNsYXNzPVwiYXBwLXRhYmxlLXNjcm9sbC1sZWZ0XCIgQG1vdXNlb3Zlcj1cIm9uU2Nyb2xsTGVmdFwiIEBtb3VzZW91dD1cInNjcm9sbFJ1biA9IGZhbHNlO1wiLz5cbiAgICAgICAgICAgICAgICAgICAgPHYtY2hpcCBjbGFzcz1cImFwcC10YWJsZS1zY3JvbGwtbGVmdCBhcHAtdGFibGUtc2Nyb2xsLXJpZ2h0XCIgIEBtb3VzZW92ZXI9XCJvblNjcm9sbFJpZ2h0XCIgIEBtb3VzZW91dD1cInNjcm9sbFJ1biA9IGZhbHNlO1wiLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8di1kYXRhLXRhYmxlIDpoZWFkZXJzPVwid2l0aEZpeGVkID8gZ2V0Rml4ZWRIZWFkZXJzKHRydWUpIDogdGFibGVIZWFkZXJzXCIgOml0ZW1zPVwidGFibGVJdGVtc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6cGFnZS5zeW5jPVwidGFibGVGaWx0ZXIucGFnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6aXRlbXMtcGVyLXBhZ2U9XCJ0YWJsZUZpbHRlci5wZXJfcGFnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAcGFnZS1jb3VudD1cInBhZ2VDb3VudCA9ICRldmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6b3B0aW9ucy5zeW5jPVwidGFibGVPcHRpb25zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpzZXJ2ZXItaXRlbXMtbGVuZ3RoPVwidG90YWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOm5vLWRhdGEtdGV4dD1cIndpdGhTZWxlY3QgPyAnJyA6ICfQndC10YIg0LTQsNC90L3Ri9GFJ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6bm8tcmVzdWx0cy10ZXh0PVwid2l0aFNlbGVjdCA/ICcnIDogJ9Cd0LXRgiDQtNCw0L3QvdGL0YUnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj1cInRhYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpsb2FkaW5nPVwibG9hZGluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nLXRleHQ9XCLQl9Cw0LPRgNGD0LfQutCwLi4uINCf0L7QttCw0LvRg9C50YHRgtCwLCDQv9C+0LTQvtC20LTQuNGC0LVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZS1kZWZhdWx0LWZvb3Rlcj5cbiAgICAgICAgICAgICAgICAgICAgPHRlbXBsYXRlIHNsb3Q9XCJpdGVtXCIgc2xvdC1zY29wZT1cInByb3BzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dHIgOnJlZj1cIidyb3cnK3Byb3BzLml0ZW0uaWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgdi1mb3I9XCIoaXRlbSwgaW5kZXgpIGluIHByb3BzLmhlYWRlcnNcIiBzdHlsZT1cIm1heC13aWR0aDogNTAwcHhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiB2LWlmPVwiaXRlbS5saW5rID09PSB0cnVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwibGlua19pdGVtXCIgdi1iaW5kPVwie3Byb3BzLCBpdGVtfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIEBjbGljaz1cInRhYmxlRWRpdEl0ZW0ocHJvcHMuaXRlbVtpdGVtLmlkID09PSB1bmRlZmluZWQgPyAnaWQnIDogaXRlbS5pZF0sIHByb3BzLml0ZW0sIGl0ZW0udmFsdWUpXCIgPnt7cHJvcHMuaXRlbVtpdGVtLnZhbHVlXX19PC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zbG90PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiB2LWVsc2UtaWY9XCJpdGVtLmhpZGRlbiA9PT0gdHJ1ZSAmJiAocHJvcHMuaXRlbVtpdGVtLnZhbHVlXSB8fCBwcm9wcy5pdGVtLmhpZGRlbl9wcmVwZW5kKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgdi1pZj1cInByb3BzLml0ZW0uaGlkZGVuX3ByZXBlbmRcIj57e3Byb3BzLml0ZW0uaGlkZGVuX3ByZXBlbmR9fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHYtaWY9XCIhcHJvcHMuaXRlbS5oaWRkZW5cIj57e3Byb3BzLml0ZW1baXRlbS52YWx1ZV19fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHYtaWY9XCJwcm9wcy5pdGVtW2l0ZW0udmFsdWVdXCIgQGNsaWNrPVwicHJvcHMuaXRlbS5oaWRkZW4gPSAhcHJvcHMuaXRlbS5oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7e3Byb3BzLml0ZW0uaGlkZGVuID8gJ9Cf0L7QutCw0LfQsNGC0Ywg0YLQtdC60YHRgicgOiAn0KHQutGA0YvRgtGMINGC0LXQutGB0YInfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgdi1lbHNlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3twcm9wcy5pdGVtW2l0ZW0udmFsdWVdICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuaXRlbVtpdGVtLnZhbHVlXSAhPT0gbnVsbCA/IHByb3BzLml0ZW1baXRlbS52YWx1ZV0gOiBlbXB0eVRleHR9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgICAgICAgICAgICA8L3YtZGF0YS10YWJsZT5cbiAgICAgICAgICAgIDwvdi1jb2w+XG4gICAgICAgIDwvdi1yb3c+XG4gICAgICAgIDxzbG90IG5hbWU9XCJib2R5LmFwcGVuZFwiLz5cbiAgICAgICAgPHNsb3QgbmFtZT1cImJvZHkucGFnaW5hdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiBkLWZsZXggcHQtMlwiPlxuICAgICAgICAgICAgICAgIDx2LXBhZ2luYXRpb25cbiAgICAgICAgICAgICAgICAgICAgdi1tb2RlbD1cInRhYmxlRmlsdGVyLnBhZ2VcIlxuICAgICAgICAgICAgICAgICAgICA6bGVuZ3RoPVwicGFnZUNvdW50XCJcbiAgICAgICAgICAgICAgICAgICAgOnRvdGFsLXZpc2libGU9XCI3XCJcbiAgICAgICAgICAgICAgICA+PC92LXBhZ2luYXRpb24+XG4gICAgICAgICAgICAgICAgPHYtc3BhY2VyPjwvdi1zcGFjZXI+XG4gICAgICAgICAgICAgICAgPHYtc2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIDp2YWx1ZT1cInRhYmxlRmlsdGVyLnBlcl9wYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgQGNoYW5nZT1cInRhYmxlRmlsdGVyLnBlcl9wYWdlID0gcGFyc2VJbnQoJGV2ZW50LCAxMCkgPyBwYXJzZUludCgkZXZlbnQsIDEwKSA6IDFcIlxuICAgICAgICAgICAgICAgICAgICA6aXRlbXM9XCJbMjAsNDAsNjAsODAsMTAwXVwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwi0J/QvtC60LDQt9GL0LLQsNGC0Ywg0L/QvjpcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIm1heC13aWR0aDogMTUwcHhcIlxuICAgICAgICAgICAgICAgID48L3Ytc2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvc2xvdD5cbiAgICA8L3YtY29udGFpbmVyPlxuPC90ZW1wbGF0ZT5cbjxzY3JpcHQ+XG4gICAgaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbiAgICBpbXBvcnQgQXhpb3MgZnJvbSAnQC91dGlscy9heGlvcyc7XG4gICAgZXhwb3J0IGRlZmF1bHQge1xuICAgICAgICBuYW1lOiAnQXBwRGF0YVRhYmxlJyxcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgIGhlYWRlcnM6IEFycmF5LFxuICAgICAgICAgICAgaXRlbXNVcmw6IHtcbiAgICAgICAgICAgICAgICB0eXBlOlN0cmluZyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogQXJyYXksXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNob3dTZWxlY3Q6IEJvb2xlYW4sXG4gICAgICAgICAgICBmaXhlZENvbDogQm9vbGVhbixcbiAgICAgICAgICAgIGZpbHRlcjogT2JqZWN0LFxuICAgICAgICAgICAgc2VydmljZToge1xuICAgICAgICAgICAgICAgIHR5cGU6T2JqZWN0LFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+ICh7fSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b0l0ZW06IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAgKGl0ZW0pID0+IHtyZXR1cm4gaXRlbTt9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVkaXRJdGVtOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogKGlkKSA9PiB7fSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbXB0eUl0ZW1UZXh0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTpTdHJpbmcsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogJycsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBkYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBhZ2VDb3VudDogMCxcbiAgICAgICAgICAgICAgICB0YWJsZUl0ZW1zOiB0aGlzLml0ZW1zLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBbXSxcbiAgICAgICAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICAgICAgICB0YWJsZUhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICB3aXRoU2VsZWN0IDogdGhpcy5zaG93U2VsZWN0LFxuICAgICAgICAgICAgICAgIHdpdGhGaXhlZDogdGhpcy5maXhlZENvbCxcbiAgICAgICAgICAgICAgICB0YWJsZUZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmZpbHRlcixcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICAgICAgcGVyX3BhZ2U6IDIwLFxuICAgICAgICAgICAgICAgICAgICBzb3J0Qnk6ICdpZCcsXG4gICAgICAgICAgICAgICAgICAgIHNvcnREZXNjIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzY3JvbGxSdW46IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dTY3JvbGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRhYmxlT3B0aW9uczoge30sXG4gICAgICAgICAgICAgICAgdGFibGVFZGl0SXRlbTogdGhpcy5lZGl0SXRlbSxcbiAgICAgICAgICAgICAgICBlbXB0eVRleHQ6IHRoaXMuZW1wdHlJdGVtVGV4dCxcbiAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgICAgIGdldEZpeGVkQ29sdW1uTGVmdCAoaW5keCA9IHRoaXMuaGVhZGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGhlYWRlciwgaSkgPT4gaSA8IGluZHggJiYgaGVhZGVyLmZpeGVkID09PSB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKChjdXJyZW50VmFsdWUsIGhlYWRlcikgPT4gY3VycmVudFZhbHVlICsgKHBhcnNlSW50KGhlYWRlci53aWR0aCkgfHwgMCksIDApXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Rml4ZWRIZWFkZXJzKHJldmVyc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGhlYWRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFyZXZlcnNlID8gaGVhZGVyLmZpeGVkID09PSB0cnVlIDogIShoZWFkZXIuZml4ZWQgIT09IHVuZGVmaW5lZCAmJiBoZWFkZXIuZml4ZWQgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3luYyBsb2FkSXRlbXMoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXRlbXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy5pdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZUNvdW50ID0gTWF0aC5mbG9vcih0aGlzLnRvdGFsIC8gdGhpcy50YWJsZUZpbHRlci5wZXJfcGFnZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKHRoaXMudG90YWwgPT09IHRoaXMudGFibGVGaWx0ZXIucGVyX3BhZ2UgPyAwIDogMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVWaWV3Tm9ybWFsaXplKClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAgKHRoaXMuaXRlbXNVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtcyA9IHRoaXMuc2VydmljZSAmJiB0aGlzLnNlcnZpY2UucHJlcGFyZVBhcmFtc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnNlcnZpY2UucHJlcGFyZVBhcmFtcyh0aGlzLnRhYmxlRmlsdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnRhYmxlRmlsdGVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uTG9hZGluZycpXG4gICAgICAgICAgICAgICAgICAgIEF4aW9zLmdldCh0aGlzLml0ZW1zVXJsLCB7cGFyYW1zfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVJdGVtcyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5tYXAodGhpcy50b0l0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZUNvdW50ID0gcmVzcG9uc2UuZGF0YS5sYXN0X3BhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZVZpZXdOb3JtYWxpemUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25Mb2FkJywgcmVzcG9uc2UuZGF0YS5kYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25Mb2FkJylcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWVcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdvbkxvYWRpbmcnKVxuICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZS5nZXRBbGwodGhpcy50YWJsZUZpbHRlcilcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlSXRlbXMgPSByZXNwb25zZS5kYXRhLmRhdGEubWFwKHRoaXMudG9JdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlQ291bnQgPSByZXNwb25zZS5kYXRhLmxhc3RfcGFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVWaWV3Tm9ybWFsaXplKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdvbkxvYWQnLCByZXNwb25zZS5kYXRhLmRhdGEpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25Mb2FkJylcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2Nyb2xsVG8oZWxlbWVudCwgc2Nyb2xsUGl4ZWxzLCBkdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjcm9sbFBvcyA9IGVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICAvLyBDb25kaXRpb24gdG8gY2hlY2sgaWYgc2Nyb2xsaW5nIGlzIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgaWYgKCAhKCAoc2Nyb2xsUG9zID09PSAwIHx8IHNjcm9sbFBpeGVscyA+IDApICYmIChlbGVtZW50LmNsaWVudFdpZHRoICsgc2Nyb2xsUG9zID09PSBlbGVtZW50LnNjcm9sbFdpZHRoIHx8IHNjcm9sbFBpeGVscyA8IDApKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgc3RhcnQgdGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBcIm5vd1wiIGluIHdpbmRvdy5wZXJmb3JtYW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGVyZm9ybWFuY2Uubm93KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsID0gKHRpbWVzdGFtcCkgID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQ2FsY3VsYXRlIHRoZSB0aW1lZWxhcHNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZUVsYXBzZWQgPSB0aW1lc3RhbXAgLSBzdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0NhbGN1bGF0ZSBwcm9ncmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBkdXJhdGlvbiA/IE1hdGgubWluKHRpbWVFbGFwc2VkIC8gZHVyYXRpb24sIDEpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vU2V0IHRoZSBzY3JvbGxlZnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsTGVmdCA9IChwcm9ncmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2Nyb2xsUG9zICsgc2Nyb2xsUGl4ZWxzICogcHJvZ3Jlc3MgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsTGVmdCArIDEwICogc2Nyb2xsUGl4ZWxzIC8oTWF0aC5hYnMoc2Nyb2xsUGl4ZWxzKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9DaGVjayBpZiBlbGFwc2VkIHRpbWUgaXMgbGVzcyB0aGVuIGR1cmF0aW9uIHRoZW4gY2FsbCB0aGUgcmVxdWVzdEFuaW1hdGlvbiwgb3RoZXJ3aXNlIGV4aXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbFJ1bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUmVxdWVzdCBmb3IgYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzY3JvbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy9DYWxsIHJlcXVlc3RBbmltYXRpb25GcmFtZSBvbiBzY3JvbGwgZnVuY3Rpb24gZmlyc3QgdGltZVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNjcm9sbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uU2Nyb2xsTGVmdCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFJ1biA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUbyh0aGlzLiRyZWZzLnRhYmxlLiRlbC5jaGlsZE5vZGVzWzBdLCAtdGhpcy4kcmVmcy50YWJsZS4kZWwuY2hpbGROb2Rlc1swXS5zY3JvbGxXaWR0aCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25TY3JvbGxSaWdodCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFJ1biA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUbyh0aGlzLiRyZWZzLnRhYmxlLiRlbC5jaGlsZE5vZGVzWzBdLCB0aGlzLiRyZWZzLnRhYmxlLiRlbC5jaGlsZE5vZGVzWzBdLnNjcm9sbFdpZHRoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0YWJsZVZpZXdOb3JtYWxpemUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMuZml4ZWRUYWJsZSkgT2JqZWN0LmtleXModGhpcy4kcmVmcykuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodi5zZWFyY2goJ3JvdycpID09PSAwICYmIHRoaXMuJHJlZnNbJ3NldHRpbmdzJysgdl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnNbJ3NldHRpbmdzJysgdl0uc3R5bGUuaGVpZ2h0ID0gKHRoaXMuJHJlZnNbdl0uY2xpZW50SGVpZ2h0IC0gMSkrJ3B4JzsgLy9ib290b20gYm9yZGVyIG9uIGV2ZXJ5IHRhYmxlIHJvd1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmRlYm91bmNlZExvYWRJdGVtcyA9IF8uZGVib3VuY2UodGhpcy5sb2FkSXRlbXMsIDUwMClcbiAgICAgICAgfSxcbiAgICAgICAgd2F0Y2g6IHtcbiAgICAgICAgICAgIHRhYmxlRmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgaGFuZGxlciAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVib3VuY2VkTG9hZEl0ZW1zKClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0YWJsZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YWJsZU9wdGlvbnMuc29ydEJ5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUZpbHRlci5zb3J0QnkgPSB0aGlzLnRhYmxlT3B0aW9ucy5zb3J0QnlbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFibGVPcHRpb25zLnNvcnREZXNjLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUZpbHRlci5zb3J0RGVzYyA9IHRoaXMudGFibGVPcHRpb25zLnNvcnREZXNjWzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc29ydEJ5LCBzb3J0RGVzYyB9ID0gdGhpcy50YWJsZUZpbHRlclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdvblNvcnQnLCB7IHNvcnRCeSwgc29ydERlc2MgfSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlZXA6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGFibGVJdGVtczoge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1Njcm9sbCA9IHRoaXMuJHJlZnMudGFibGUuJGVsLmNoaWxkTm9kZXNbMF0uc2Nyb2xsV2lkdGggPiB0aGlzLiRyZWZzLnRhYmxlLiRlbC5zY3JvbGxXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlZXA6dHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUZpbHRlciA9IHsuLi50aGlzLnRhYmxlRmlsdGVyLCAuLi50aGlzLmZpbHRlcn07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRmlsdGVyLnBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWVwOnRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUl0ZW1zID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWVwOiB0cnVlLFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb3VudGVkKCkge1xuICAgICAgICAgICAgdGhpcy5sb2FkSXRlbXMoKVxuICAgICAgICAgICAgdGhpcy4kd2F0Y2goXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kcmVmcy50YWJsZS5pdGVtc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKHZhbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlVmlld05vcm1hbGl6ZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICB9LFxuICAgIH1cbjwvc2NyaXB0PlxuXG48c3R5bGU+XG4gICAgdGFibGUge1xuICAgICAgICB3aWR0aDogbWF4LWNvbnRlbnQgIWltcG9ydGFudDtcbiAgICB9XG4gICAgdGguZml4ZWRDb2x1bW4sIHRkLmZpeGVkQ29sdW1uIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgIC5maXhlZENvbHVtbiAgIHRoOmxhc3QtY2hpbGR7XG4gICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkO1xuICAgIH1cbiAgICBkaXYgPiAuZml4ZWRDb2x1bW46bnRoLWNoaWxkKDEpIHtcbiAgICAgICAgcGFkZGluZy1yaWdodDogMDtcbiAgICB9XG4gICAgZGl2ID4gLmNvbDpudGgtY2hpbGQoMikge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDA7XG4gICAgfVxuPC9zdHlsZT5cbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNVswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9BcHBEYXRhVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTVbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQXBwRGF0YVRhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vQXBwRGF0YVRhYmxlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wMTMwOWZhYSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9BcHBEYXRhVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9BcHBEYXRhVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL0FwcERhdGFUYWJsZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ3YtY29udGFpbmVyJyx7c3RhdGljQ2xhc3M6XCJjb3ZlclwifSxbX2MoJ3YtdG9vbGJhci10aXRsZScse3N0YXRpY0NsYXNzOlwibWItMlwiLGF0dHJzOntcImFsaWduXCI6XCJjZW50ZXJcIixcImp1c3RpZnlcIjpcImNlbnRlclwifSxkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0udGl0bGUpfX0pLF92bS5fdihcIiBcIiksKF92bS5jYW5BZGREaXN0cmljdCk/X2MoJ3JvdXRlci1saW5rJyx7c3RhdGljQ2xhc3M6XCJtbC00XCIsYXR0cnM6e1widG9cIjonL3JlZ2lvbnMvJyArIF92bS4kcm91dGUucGFyYW1zLnJlZ2lvbiArICcvZWRpdD9sZXZlbD0nICsgX3ZtLmxldmVsKycmcGFyZW50X2Rpc3RyaWN0X2lkPScgKyBfdm0uJHJvdXRlLnBhcmFtcy5pZH19LFtfdm0uX3YoXCLQlNC+0LHQsNCy0LjRgtGMICtcIildKTpfdm0uX2UoKSxfdm0uX3YoXCIgXCIpLF9jKCd2LWNhcmQnLHtzdGF0aWNDbGFzczpcImQtZmxleCBmbGV4LWNvbHVtbiBqdXN0aWZ5LXNwYWNlLWJldHdlZW4gbWItNlwiLGF0dHJzOntcImZsYXRcIjpcIlwiLFwidGlsZVwiOlwiXCJ9fSxbX2MoJ0FwcERhdGFUYWJsZScse2RpcmVjdGl2ZXM6W3tuYW1lOlwic2hvd1wiLHJhd05hbWU6XCJ2LXNob3dcIix2YWx1ZTooICFfdm0ubm90Rm91bmQpLGV4cHJlc3Npb246XCIgIW5vdEZvdW5kXCJ9XSxhdHRyczp7XCJoZWFkZXJzXCI6X3ZtLmhlYWRlcnMucmVnaW9ucyxcInNob3dTZWxlY3RcIjpmYWxzZSxcImZpeGVkQ29sXCI6ZmFsc2UsXCJmaWx0ZXJcIjpfdm0uZmlsdGVyLFwiZWRpdEl0ZW1cIjpfdm0uc2hvd0l0ZW0sXCJlbXB0eUl0ZW1UZXh0XCI6Jy0nLFwiaXRlbXNVcmxcIjpfdm0uZGlzdHJpY3RzSXRlbXNVcmx9fSksX3ZtLl92KFwiIFwiKSwoX3ZtLm5vdEZvdW5kKT9bX2MoJ3YtYWxlcnQnLHtzdGF0aWNTdHlsZTp7XCJtYXJnaW4tdG9wXCI6XCIyMHB4XCJ9LGF0dHJzOntcImNvbG9yZWQtYm9yZGVyXCI6XCJcIixcInR5cGVcIjpcImluZm9cIixcImVsZXZhdGlvblwiOlwiMlwifX0sW192bS5fdihcIlxcbiAgICAgICAgICAgICAgICDQn9C+INCS0LDRiNC10LzRgyDQt9Cw0L/RgNC+0YHRgyDQvdC40YfQtdCz0L4g0L3QtSDQvdCw0LnQtNC10L3Qvi4g0J/QvtC/0YDQvtCx0YPQudGC0LUg0LjQt9C80LXQvdC40YLRjCDQv9Cw0YDQsNC80LXRgtGA0Ysg0L/QvtC40YHQutCwLlxcbiAgICAgICAgICAgIFwiKV0pXTpfdm0uX2UoKV0sMildLDEpfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XG4gICAgPHYtY29udGFpbmVyIGNsYXNzPVwiY292ZXJcIj5cbiAgICAgICAgPHYtdG9vbGJhci10aXRsZSBhbGlnbj1cImNlbnRlclwiIGp1c3RpZnk9XCJjZW50ZXJcIiBjbGFzcz1cIm1iLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgIHYtdGV4dD1cInRpdGxlXCI+XG4gICAgICAgIDwvdi10b29sYmFyLXRpdGxlPlxuICAgICAgICA8cm91dGVyLWxpbmtcbiAgICAgICAgICAgIHYtaWY9XCJjYW5BZGREaXN0cmljdFwiXG4gICAgICAgICAgICA6dG89XCInL3JlZ2lvbnMvJyArICRyb3V0ZS5wYXJhbXMucmVnaW9uICsgJy9lZGl0P2xldmVsPScgKyBsZXZlbCsnJnBhcmVudF9kaXN0cmljdF9pZD0nICsgJHJvdXRlLnBhcmFtcy5pZFwiXG4gICAgICAgICAgICBjbGFzcz1cIm1sLTRcIj7QlNC+0LHQsNCy0LjRgtGMICs8L3JvdXRlci1saW5rPlxuICAgICAgICA8di1jYXJkIGNsYXNzPVwiZC1mbGV4IGZsZXgtY29sdW1uIGp1c3RpZnktc3BhY2UtYmV0d2VlbiBtYi02XCIgZmxhdCB0aWxlPlxuICAgICAgICAgICAgPEFwcERhdGFUYWJsZVxuICAgICAgICAgICAgICAgIHYtc2hvdz1cIiAhbm90Rm91bmRcIlxuICAgICAgICAgICAgICAgIDpoZWFkZXJzPVwiaGVhZGVycy5yZWdpb25zXCJcbiAgICAgICAgICAgICAgICA6c2hvd1NlbGVjdD1cImZhbHNlXCJcbiAgICAgICAgICAgICAgICA6Zml4ZWRDb2w9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgOmZpbHRlcj1cImZpbHRlclwiXG4gICAgICAgICAgICAgICAgOmVkaXRJdGVtPVwic2hvd0l0ZW1cIlxuICAgICAgICAgICAgICAgIDplbXB0eUl0ZW1UZXh0PVwiJy0nXCJcbiAgICAgICAgICAgICAgICA6aXRlbXNVcmw9XCJkaXN0cmljdHNJdGVtc1VybFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L0FwcERhdGFUYWJsZT5cbiAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwibm90Rm91bmRcIj5cbiAgICAgICAgICAgICAgICA8di1hbGVydCBzdHlsZT1cIm1hcmdpbi10b3A6IDIwcHhcIiBjb2xvcmVkLWJvcmRlciB0eXBlPVwiaW5mb1wiIGVsZXZhdGlvbj1cIjJcIj5cbiAgICAgICAgICAgICAgICAgICAg0J/QviDQktCw0YjQtdC80YMg0LfQsNC/0YDQvtGB0YMg0L3QuNGH0LXQs9C+INC90LUg0L3QsNC50LTQtdC90L4uINCf0L7Qv9GA0L7QsdGD0LnRgtC1INC40LfQvNC10L3QuNGC0Ywg0L/QsNGA0LDQvNC10YLRgNGLINC/0L7QuNGB0LrQsC5cbiAgICAgICAgICAgICAgICA8L3YtYWxlcnQ+XG4gICAgICAgICAgICA8L3RlbXBsYXRlPlxuICAgICAgICA8L3YtY2FyZD5cbiAgICA8L3YtY29udGFpbmVyPlxuPC90ZW1wbGF0ZT5cblxuXG48c2NyaXB0PlxuICAgIGltcG9ydCBBcHBEYXRhVGFibGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBwRGF0YVRhYmxlXCI7XG4gICAgZXhwb3J0IGRlZmF1bHQge1xuICAgICAgICBuYW1lOiAnRGlzdHJpY3RzJyxcbiAgICAgICAgY29tcG9uZW50czoge1xuICAgICAgICAgICAgQXBwRGF0YVRhYmxlXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6ICh2bSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBsZXZlbDogTnVtYmVyLnBhcnNlSW50KHZtLiRyb3V0ZS5xdWVyeS5sZXZlbCksXG4gICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgbm90Rm91bmQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICByZWdpb25faWQ6IHZtLiRyb3V0ZS5wYXJhbXMucmVnaW9uLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdm0sXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHdhdGNoOiB7XG4gICAgICAgICAgICBsb2FkaW5nKGEsIGIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWEgJiYgYikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maWx0ZXIubmFtZS5sZW5ndGggPiAwICYmIHRoaXMuY291cnRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdEZvdW5kID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RGb3VuZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBjcmVhdGVkKCkge1xuICAgICAgICB9LFxuICAgICAgICBjb21wdXRlZDoge1xuICAgICAgICAgICAgY2FuQWRkRGlzdHJpY3QoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCsnJyA9PT0gJzAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXIuZGlzdHJpY3RfaWQgPT09IG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXIuZGlzdHJpY3RfaWQgPT09IG51bGwgJiYgdGhpcy5sZXZlbCA8IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlci5kaXN0cmljdF9pZCsnJyA9PT0gdGhpcy4kcm91dGUucGFyYW1zLmlkKycnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhlYWRlcnMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaW9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogJ25hbWUnLCB0ZXh0OiB0aGlzLmxhYmVsLCBsaW5rOnRoaXMubGV2ZWwgPCAyLCBpZDogJ2lkJyB9LFxuICAgICAgICAgICAgICAgICAgICBdLmNvbmNhdCh0aGlzLmxldmVsKycnID09ICcyJyA/IFtdIDogW1xuICAgICAgICAgICAgICAgICAgICAgICAge3ZhbHVlOiAnY2hpbGRzX2NvdW50JywgdGV4dDogJ9Ca0L7Qu9C40YfQtdGB0YLQstC+INCw0LTQvNC40L3QuNGB0YLRgNCw0YLQuNCy0L3Ri9GFINGA0LDQudC+0L3QvtCyJ31cbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXN0cmljdHNJdGVtc1VybCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJy9kaXN0cmljdD9sZXZlbD0nICsgdGhpcy5sZXZlbCsnJnBhcmVudF9kaXN0cmljdF9pZD0nICsgdGhpcy4kcm91dGUucGFyYW1zLmlkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGFiZWwoKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKHRoaXMubGV2ZWwpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJzInOiByZXR1cm4gJ9Cd0LDRgdC10LvQtdC90L3Ri9C5INC/0YPQvdC60YInO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJzEnOiByZXR1cm4gJ9Ch0LXQu9GM0YHQutC+0LUg0L/QvtGB0LXQu9C10L3QuNC1JztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICcwJzogcmV0dXJuICfQnNGD0L3QuNGG0LjQv9Cw0LvQuNGC0LXRgic7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAn0KDQsNC50L7QvSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpdGxlKCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCh0aGlzLmxldmVsKXtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICcyJzogcmV0dXJuICfQodC/0LjRgdC+0Log0L3QsNGB0LXQu9C10L3QvdGL0YUg0L/Rg9C90LrRgtC+0LInO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJzEnOiByZXR1cm4gJ9Ch0L/QuNGB0L7QuiDRgdC10LvRjNGB0LrQuNGFINC/0L7RgdC10LvQtdC90LjQuSc7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAnMCc6IHJldHVybiAn0KHQv9C40YHQvtC6INC80YPQvdC40YbQuNC/0LDQu9C40YLQtdGC0L7Qsic7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAn0KHQv9C40YHQvtC6INGA0LDQudC+0L3QvtCyJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgICAgIHNob3dJdGVtKGlkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGwgPSB0aGlzLmxldmVsO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGwpXG4gICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnZGlzdHJpY3RzJywgcGFyYW1zOiB7IHJlZ2lvbjp0aGlzLiRyb3V0ZS5wYXJhbXMucmVnaW9uLCBpZDogaWR9LFxuICAgICAgICAgICAgICAgICAgICBxdWVyeToge2xldmVsOiBOdW1iZXIuaXNJbnRlZ2VyKGwpID8gbCArIDEgOiAxIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9XG48L3NjcmlwdD5cblxuPHN0eWxlIHNjb3BlZD48L3N0eWxlPlxuIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0Rpc3RyaWN0cy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNVswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9EaXN0cmljdHMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9EaXN0cmljdHMudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTAxNjBjNWE2JnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL0Rpc3RyaWN0cy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL0Rpc3RyaWN0cy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjAxNjBjNWE2XCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTlbMF0ucnVsZXNbMF0udXNlWzFdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtOVswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9BcHBEYXRhVGFibGUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjQwMWIwY2M2XCIsIGNvbnRlbnQsIHRydWUsIHt9KTsiXSwic291cmNlUm9vdCI6IiJ9