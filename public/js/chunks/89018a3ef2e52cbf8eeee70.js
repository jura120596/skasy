(self.webpackChunk=self.webpackChunk||[]).push([[890],{434:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o=t(4082),s=function(){return{listeners:[],scriptId:o.uuid("tiny-script"),scriptLoaded:!1}},i=(n=s(),{load:function(e,r,t){n.scriptLoaded?t():(n.listeners.push(t),e.getElementById(n.scriptId)||function(e,r,t,n){var o=r.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=t;var s=function(){o.removeEventListener("load",s),n()};o.addEventListener("load",s),r.head&&r.head.appendChild(o)}(n.scriptId,e,r,(function(){n.listeners.forEach((function(e){return e()})),n.scriptLoaded=!0})))},reinitialize:function(){n=s()}});r.ScriptLoader=i},8537:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.getTinymce=function(){var e="undefined"!=typeof window?window:t.g;return e&&e.tinymce?e.tinymce:null}},4082:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],n=function(e){return-1!==t.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())};r.isValidKey=n;var o=function(e,r,t){Object.keys(r).filter(n).forEach((function(n){var o=r[n];"function"==typeof o&&("onInit"===n?o(e,t):t.on(n.substring(2),(function(e){return o(e,t)})))}))};r.bindHandlers=o;var s=function(e,r){var t=e.$props.modelEvents?e.$props.modelEvents:null,n=Array.isArray(t)?t.join(" "):t;r.on(n||"change input undo redo",(function(){e.$emit("input",r.getContent({format:e.$props.outputFormat}))}))};r.bindModelHandlers=s;r.initEditor=function(e,r,t){var n=r.$props.value?r.$props.value:"",i=r.$props.initialValue?r.$props.initialValue:"";t.setContent(n||(r.initialized?r.cache:i)),r.$watch("value",(function(e,n){t&&"string"==typeof e&&e!==n&&e!==t.getContent({format:r.$props.outputFormat})&&t.setContent(e)})),r.$listeners.input&&s(r,t),o(e,r.$listeners,t),r.initialized=!0};var i=0;r.uuid=function(e){var r=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++i+String(r)};r.isTextarea=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()};var a=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")};r.mergePlugins=function(e,r){return a(e).concat(a(r))};r.isNullOrUndefined=function(e){return null==e}},2282:function(e,r,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});var o=t(434),s=t(8537),i=t(4082),a=t(7431),l=function(e){return function(){var r=n(n({},e.$props.init),{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:i.mergePlugins(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(r){e.editor=r,r.on("init",(function(t){return i.initEditor(t,e,r)})),e.$props.init&&"function"==typeof e.$props.init.setup&&e.$props.init.setup(r)}});i.isTextarea(e.element)&&(e.element.style.visibility="",e.element.style.display=""),s.getTinymce().init(r)}};r.Editor={props:a.editorProps,created:function(){this.elementId=this.$props.id||i.uuid("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==s.getTinymce())l(this)();else if(this.element&&this.element.ownerDocument){var e=this.$props.cloudChannel?this.$props.cloudChannel:"5",r=this.$props.apiKey?this.$props.apiKey:"no-api-key",t=i.isNullOrUndefined(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+r+"/tinymce/"+e+"/tinymce.min.js":this.$props.tinymceScriptSrc;o.ScriptLoader.load(this.element.ownerDocument,t,l(this))}},beforeDestroy:function(){null!==s.getTinymce()&&s.getTinymce().remove(this.editor)},deactivated:function(){var e;this.inlineEditor||(this.cache=this.editor.getContent(),null===(e=s.getTinymce())||void 0===e||e.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&l(this)()},render:function(e){return this.inlineEditor?function(e,r,t){return e(t||"div",{attrs:{id:r}})}(e,this.elementId,this.$props.tagName):function(e,r){return e("textarea",{attrs:{id:r},style:{visibility:"hidden"}})}(e,this.elementId)}}},7431:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.editorProps={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}}},5846:(e,r,t)=>{"use strict";var n=t(2282);r.Z=n.Editor},4539:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var n=t(4015),o=t.n(n),s=t(3645),i=t.n(s)()(o());i.push([e.id,".drop-area[data-v-ee4fed0c]:not(.drop-sm){position:relative;width:100%;display:flex;justify-content:center;align-items:center;height:200px;background:#fff;border:1px dashed #afafaf;border-radius:8px;overflow:hidden}#drop-area.focus[data-v-ee4fed0c]{background:#f8f8f8}.hover[data-v-ee4fed0c]{display:none}.focus .hide[data-v-ee4fed0c]{display:none!important}.focus .hover[data-v-ee4fed0c]{display:block!important}p[data-v-ee4fed0c]{margin-top:0}.drop-area:not(.drop-sm) .drop-form[data-v-ee4fed0c]{position:absolute;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;z-index:50}.drop-btn[data-v-ee4fed0c]{display:inline-block;cursor:pointer;min-width:150px;border-radius:4px;height:35px;padding:10px;background:#f8f8f8;font-weight:400;font-style:normal;line-height:17px;font-size:18px;margin-bottom:10px;text-align:center}.drop-sm .drop-btn[data-v-ee4fed0c]{min-width:100%}#fileElem[data-v-ee4fed0c]{display:none}.file-desc[data-v-ee4fed0c]{font-style:normal;font-weight:500;font-size:16px;line-height:22px;color:#4a4a4a}.drop-sm .file-desc[data-v-ee4fed0c]{display:none}.format-file-desc[data-v-ee4fed0c]{font-style:normal;font-weight:500;font-size:14px;line-height:19px;text-align:center;color:#afafaf}","",{version:3,sources:["webpack://./resources/js/components/DropArea.vue"],names:[],mappings:"AA2DA,0CACA,iBAAA,CACA,UAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,YAAA,CACA,eAAA,CACA,yBAAA,CACA,iBAAA,CACA,eACA,CAEA,kCACA,kBACA,CAEA,wBACA,YACA,CAEA,8BACA,sBACA,CAEA,+BACA,uBACA,CAEA,mBACA,YACA,CAEA,qDACA,iBAAA,CACA,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,kBAAA,CACA,UAAA,CACA,WAAA,CACA,UACA,CAGA,2BACA,oBAAA,CACA,cAAA,CACA,eAAA,CACA,iBAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,kBAAA,CACA,iBACA,CACA,oCACA,cACA,CAEA,2BACA,YACA,CAEA,4BAEA,iBAAA,CACA,eAAA,CACA,cAAA,CACA,gBAAA,CACA,aACA,CAEA,qCACA,YACA,CACA,mCACA,iBAAA,CACA,eAAA,CACA,cAAA,CACA,gBAAA,CACA,iBAAA,CACA,aACA",sourcesContent:["<template>\r\n    <div id=\"drop-area\" class=\"drop-area\" :class=\"$vuetify.breakpoint.smAndDown ? ['drop-sm'] : []\">\r\n        <form class=\"drop-form\">\r\n            <input type=\"file\" id=\"fileElem\" multiple accept=\"image/*\"\r\n                   @change=\"(e) => $emit('change', e)\" class=\"hide\">\r\n            <label class=\"drop-btn\" for=\"fileElem\">{{!yet ? 'Загрузить фото' : 'Загрузить еще'}}</label>\r\n            <p class=\"format-file-desc\">Формат – jpg, png</p>\r\n            <p class=\"file-desc hover\">Отпустите фотографию сюда</p>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"DropArea\",\r\n        data: (vm) => ({vm}),\r\n        props: ['yet'],\r\n        mounted(vm) {\r\n            let dropArea = document.getElementById('drop-area');\r\n            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {\r\n                dropArea.addEventListener(eventName, preventDefaults, false)\r\n            })\r\n\r\n            function preventDefaults(e) {\r\n                e.preventDefault()\r\n                e.stopPropagation()\r\n            }\r\n\r\n            ['dragenter', 'dragover'].forEach(eventName => {\r\n                dropArea.addEventListener(eventName, focus, false)\r\n            });\r\n            ['dragleave', 'drop'].forEach(eventName => {\r\n                dropArea.addEventListener(eventName, unfocus, false)\r\n            });\r\n\r\n            function focus(e) {\r\n                dropArea.classList.add('focus')\r\n            }\r\n\r\n            function unfocus(e) {\r\n                dropArea.classList.remove('focus')\r\n            }\r\n\r\n            const handleDrop = (e) => {\r\n                let dt = e.dataTransfer\r\n                let files = dt.files\r\n                this.handleFiles(files)\r\n            }\r\n            dropArea.addEventListener('drop', handleDrop, false);\r\n        },\r\n        methods: {\r\n            handleFiles(files) {\r\n                this.$emit('change', {target:{files}});\r\n            }\r\n        }\r\n    }\r\n<\/script>\r\n\r\n<style scoped>\r\n    .drop-area:not(.drop-sm) {\r\n        position: relative;\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        height: 200px;\r\n        background: #FFFFFF;\r\n        border: 1px dashed #AFAFAF;\r\n        border-radius: 8px;\r\n        overflow: hidden;\r\n    }\r\n\r\n    #drop-area.focus {\r\n        background: #F8F8F8;\r\n    }\r\n\r\n    .hover {\r\n        display: none;\r\n    }\r\n\r\n    .focus .hide {\r\n        display: none !important;\r\n    }\r\n\r\n    .focus .hover {\r\n        display: block !important;\r\n    }\r\n\r\n    p {\r\n        margin-top: 0;\r\n    }\r\n\r\n    .drop-area:not(.drop-sm) .drop-form {\r\n        position: absolute;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 50;\r\n    }\r\n\r\n\r\n    .drop-btn {\r\n        display: inline-block;\r\n        cursor: pointer;\r\n        min-width: 150px;\r\n        border-radius: 4px;\r\n        height: 35px;\r\n        padding: 10px;\r\n        background: #F8F8F8;\r\n        font-weight: 400;\r\n        font-style: normal;\r\n        line-height: 17px;\r\n        font-size: 18px;\r\n        margin-bottom: 10px;\r\n        text-align: center;\r\n    }\r\n    .drop-sm .drop-btn{\r\n        min-width: 100%;\r\n    }\r\n\r\n    #fileElem {\r\n        display: none;\r\n    }\r\n\r\n    .file-desc {\r\n\r\n        font-style: normal;\r\n        font-weight: 500;\r\n        font-size: 16px;\r\n        line-height: 22px;\r\n        color: #4A4A4A;\r\n    }\r\n\r\n    .drop-sm .file-desc {\r\n        display: none\r\n    }\r\n    .format-file-desc {\r\n        font-style: normal;\r\n        font-weight: 500;\r\n        font-size: 14px;\r\n        line-height: 19px;\r\n        text-align: center;\r\n        color: #AFAFAF;\r\n    }\r\n</style>\r\n"],sourceRoot:""}]);const a=i},3934:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var n=t(4015),o=t.n(n),s=t(3645),i=t.n(s)()(o());i.push([e.id,'.site-photo-card[data-v-503f2afb]{position:relative;width:100%;background:#fff;border-radius:8px;overflow:hidden}.site-photo-card.filled[data-v-503f2afb]{background-color:#f8f8f8}.site-photo-card.focused[data-v-503f2afb],.site-photo-card[data-v-503f2afb]:hover{box-shadow:0 0 9px hsla(0,0%,54.9%,.49);border-radius:8px}.site-photo-card[data-v-503f2afb]:after{content:"";display:block;padding-bottom:56%}.site-photo-card-actions[data-v-503f2afb]{position:absolute;right:0;cursor:pointer}.site-photo-card-content[data-v-503f2afb]{position:absolute;width:100%;height:100%;display:flex;justify-content:center;flex-direction:column;cursor:pointer}.edit-photo-icon[data-v-503f2afb]{margin-left:8px}',"",{version:3,sources:["webpack://./resources/js/components/EditPhotoCard.vue"],names:[],mappings:"AAoJA,kCACA,iBAAA,CACA,UAAA,CACA,eAAA,CAGA,iBAAA,CACA,eACA,CAEA,yCACA,wBACA,CAEA,kFACA,uCAAA,CACA,iBACA,CAEA,wCACA,UAAA,CACA,aAAA,CACA,kBACA,CAEA,0CACA,iBAAA,CACA,OAAA,CACA,cACA,CAEA,0CACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,YAAA,CACA,sBAAA,CACA,qBAAA,CACA,cACA,CAEA,kCACA,eACA",sourcesContent:['<template>\r\n    <div class="site-photo-card"\r\n         :class="{focused: focus, filled}">\r\n        <div class="site-photo-card-content" style="z-index: 1;">\r\n            <slot name="default">\r\n                <v-img v-if="loaded && src" :src="src" cover\r\n                       height="100%" @click="$emit(\'click\', $attrs[\'value\']); open=true"/>\r\n                <v-row v-else-if="!loaded && !error" xs="12" class="pa-8" style="align-items: center">\r\n                    <progress-bar :progress="progress"/>\r\n                </v-row>\r\n            </slot>\r\n        </div>\r\n        <div class="site-photo-card-actions" style="z-index: 2;">\r\n            <slot name="actions">\r\n                <v-row xs="12" class="pl-5 pr-5 pt-2 justify-end">\r\n                    <v-btn fab\r\n                           small\r\n                           @click="$emit(\'delete\')"\r\n                           class="mr-3">\r\n                        <v-icon>mdi-delete</v-icon>\r\n                    </v-btn>\r\n                </v-row>\r\n            </slot>\r\n        </div>\r\n        <v-dialog v-model="open" v-if="open" content-class="sm-photo-dialog"\r\n                  :fullscreen="true">\r\n            <div class="dialog-image">\r\n                <v-img v-if="loaded && src" :src="src" max-height="90vh" contain/>\r\n                <v-btn icon @click="$emit(\'focusOut\'); open=false;"\r\n                       color="gray"\r\n                       class="close-btn" ><v-icon>mdi-close</v-icon></v-btn>\r\n            </div>\r\n        </v-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {b64ToBlob, compress} from "../../image";\r\n    import ProgressBar from "./ProgressBar";\r\n\r\n    export default {\r\n        name: "EditPhotoCard",\r\n        components: {ProgressBar},\r\n        props: {\r\n            focus: {type: Boolean, default: false,},\r\n            preload: {type: Boolean, default: true,},\r\n            cover: {type: String, default: ""},\r\n            filled: {type: Boolean, default: false},\r\n            file: {type: File | String}\r\n        },\r\n        data: (vm) => ({\r\n            open: false,\r\n            focused: !!vm.$attrs[\'focus\'],\r\n            src: \'\',\r\n            loaded: false,\r\n            error: false,\r\n            progress: 0,\r\n            rotateTimeout: null,\r\n        }),\r\n        mounted() {\r\n            this.upload(this.file)\r\n        },\r\n        computed: {\r\n            isCover() {\r\n                return this.cover && this.src.indexOf(this.cover) !== -1\r\n            }\r\n        },\r\n        methods: {\r\n            rotate() {\r\n                if (this.rotateTimeout) {\r\n                    clearTimeout(this.rotateTimeout);\r\n                    this.rotateTimeout = null;\r\n                }\r\n                this.rotateTimeout = setTimeout(() => {\r\n                    let img = new Image();\r\n                    img.crossOrigin = "anonymous"\r\n                    img.onload = () => {\r\n                        let compressUrl = compress(img, (ctx, canvas) => {\r\n                            ctx.save();\r\n                            ctx.translate(canvas.width / 2, canvas.height / 2);\r\n                            ctx.rotate(90 * Math.PI / 180);\r\n                            ctx.drawImage(img, -img.width / 2, -img.width / 2);\r\n                            ctx.restore();\r\n                        });\r\n                        let blob = b64ToBlob(compressUrl.split(\',\')[1], \'image/jpeg\');\r\n                        this.upload(blob, this.src.split(\'/\').reverse()[0]);\r\n                    };\r\n                    img.src = this.src;\r\n                }, 1000)\r\n            },\r\n            readLocalSrc(file) {\r\n                if (this.file instanceof Blob) {\r\n                    let reader = new FileReader();\r\n                    reader.readAsDataURL(file);\r\n                    reader.onloadend = () => {\r\n                        this.src = reader.result;\r\n                        this.$emit(\'change\', this.src)\r\n                    }\r\n                } else this.src = file;\r\n                this.loaded = true;\r\n            },\r\n            upload(file, canvasFileName) {\r\n                if (!this.preload || !(file instanceof Blob)) {\r\n                    this.readLocalSrc(file);\r\n                    return;\r\n                }\r\n                var xhr = new XMLHttpRequest()\r\n                xhr.responseType = \'json\';\r\n                var formData = new FormData()\r\n                formData.append(\'file\', file, canvasFileName || file.name)\r\n                xhr.open(\'POST\', \'/photo/upload\', true)\r\n                xhr.upload.addEventListener("progress", (e) => {\r\n                    this.progress = (e.loaded * 100.0 / e.total) || 100;\r\n                })\r\n                xhr.addEventListener(\'readystatechange\', (e) => {\r\n                    if (xhr.readyState == 4 && xhr.status == 200) {\r\n                        this.src = e.target.response.url;\r\n                        this.$emit(\'change\', e.target.response.url);\r\n                        this.loaded = true;\r\n                    } else if (xhr.readyState == 4 && xhr.status != 200) {\r\n                        if (xhr.status == 400 && !canvasFileName) {\r\n                            //Для файлов с битым маймтипом рисуем на канве и отправляем результат\r\n                            let img = new Image();\r\n                            img.onload = () => {\r\n                                let compressUrl = compress(img);\r\n                                let blob = b64ToBlob(compressUrl.split(\',\')[1], \'image/jpeg\');\r\n                                this.upload(blob, file.name);\r\n                            };\r\n                            img.src = URL.createObjectURL(file);\r\n                            return;\r\n                        }\r\n                        this.readLocalSrc(file)\r\n                        this.error = this.loaded = true;\r\n                    }\r\n\r\n                })\r\n                xhr.send(formData)\r\n            }\r\n        },\r\n        watch: {\r\n            file(nv) {\r\n                if (typeof nv === \'string\') this.src = nv;\r\n            }\r\n        }\r\n    }\r\n<\/script>\r\n\r\n<style scoped>\r\n    .site-photo-card {\r\n        position: relative;\r\n        width: 100%;\r\n        background: #FFFFFF;\r\n        /* Grey 800 */\r\n\r\n        border-radius: 8px;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .site-photo-card.filled {\r\n        background-color: #F8F8F8;\r\n    }\r\n\r\n    .site-photo-card.focused, .site-photo-card:hover {\r\n        box-shadow: 0px 0px 9px rgba(140, 140, 140, 0.49);\r\n        border-radius: 8px;\r\n    }\r\n\r\n    .site-photo-card:after {\r\n        content: "";\r\n        display: block;\r\n        padding-bottom: 56%; /* 16/9 */\r\n    }\r\n\r\n    .site-photo-card-actions {\r\n        position: absolute;\r\n        right: 0;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .site-photo-card-content {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n        justify-content: center;\r\n        flex-direction: column;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .edit-photo-icon {\r\n        margin-left: 8px;\r\n    }\r\n</style>\r\n<style>\r\n\r\n    .sm-photo-dialog .photo-cover {\r\n        position: absolute;\r\n        top: 32px;\r\n        left: 32px;\r\n        z-index: 101;\r\n    }\r\n\r\n    .sm-photo-dialog .close-btn {\r\n        position: absolute;\r\n        top: 32px;\r\n        right: 32px;\r\n    }\r\n\r\n    .sm-photo-dialog .bottom {\r\n        right: 32px;\r\n        bottom: 32px;\r\n        position: absolute;\r\n        width: fit-content;\r\n        display: flex;\r\n        flex-direction: row;\r\n    }\r\n\r\n    .sm-photo-dialog {\r\n        position: absolute;\r\n        z-index: 100;\r\n        display: flex;\r\n        box-shadow: none !important;\r\n        background: rgba(105, 109, 116, 0.6);\r\n        backdrop-filter: blur(10px);\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n\r\n    .dialog-image .v-image{\r\n        border-radius: 8px;\r\n    }\r\n    .dialog-image {\r\n        width: fit-content;\r\n        height: fit-content;\r\n        max-width: 100%;\r\n        position: relative;\r\n        padding: 16px;\r\n        border-radius: 8px;\r\n        overflow: hidden;\r\n    }\r\n</style>\r\n'],sourceRoot:""}]);const a=i},2446:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var n=t(4015),o=t.n(n),s=t(3645),i=t.n(s)()(o());i.push([e.id,".sm-photo-dialog .photo-cover{position:absolute;top:32px;left:32px;z-index:101}.sm-photo-dialog .close-btn{position:absolute;top:32px;right:32px}.sm-photo-dialog .bottom{right:32px;bottom:32px;position:absolute;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:flex;flex-direction:row}.sm-photo-dialog{position:absolute;z-index:100;display:flex;box-shadow:none!important;background:rgba(105,109,116,.6);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);align-items:center;justify-content:center}.dialog-image,.dialog-image .v-image{border-radius:8px}.dialog-image{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;max-width:100%;position:relative;padding:16px;overflow:hidden}","",{version:3,sources:["webpack://./resources/js/components/EditPhotoCard.vue"],names:[],mappings:"AAmMA,8BACA,iBAAA,CACA,QAAA,CACA,SAAA,CACA,WACA,CAEA,4BACA,iBAAA,CACA,QAAA,CACA,UACA,CAEA,yBACA,UAAA,CACA,WAAA,CACA,iBAAA,CACA,yBAAA,CAAA,sBAAA,CAAA,iBAAA,CACA,YAAA,CACA,kBACA,CAEA,iBACA,iBAAA,CACA,WAAA,CACA,YAAA,CACA,yBAAA,CACA,+BAAA,CACA,kCAAA,CAAA,0BAAA,CACA,kBAAA,CACA,sBACA,CAKA,qCAFA,iBAUA,CARA,cACA,yBAAA,CAAA,sBAAA,CAAA,iBAAA,CACA,0BAAA,CAAA,uBAAA,CAAA,kBAAA,CACA,cAAA,CACA,iBAAA,CACA,YAAA,CAEA,eACA",sourcesContent:['<template>\r\n    <div class="site-photo-card"\r\n         :class="{focused: focus, filled}">\r\n        <div class="site-photo-card-content" style="z-index: 1;">\r\n            <slot name="default">\r\n                <v-img v-if="loaded && src" :src="src" cover\r\n                       height="100%" @click="$emit(\'click\', $attrs[\'value\']); open=true"/>\r\n                <v-row v-else-if="!loaded && !error" xs="12" class="pa-8" style="align-items: center">\r\n                    <progress-bar :progress="progress"/>\r\n                </v-row>\r\n            </slot>\r\n        </div>\r\n        <div class="site-photo-card-actions" style="z-index: 2;">\r\n            <slot name="actions">\r\n                <v-row xs="12" class="pl-5 pr-5 pt-2 justify-end">\r\n                    <v-btn fab\r\n                           small\r\n                           @click="$emit(\'delete\')"\r\n                           class="mr-3">\r\n                        <v-icon>mdi-delete</v-icon>\r\n                    </v-btn>\r\n                </v-row>\r\n            </slot>\r\n        </div>\r\n        <v-dialog v-model="open" v-if="open" content-class="sm-photo-dialog"\r\n                  :fullscreen="true">\r\n            <div class="dialog-image">\r\n                <v-img v-if="loaded && src" :src="src" max-height="90vh" contain/>\r\n                <v-btn icon @click="$emit(\'focusOut\'); open=false;"\r\n                       color="gray"\r\n                       class="close-btn" ><v-icon>mdi-close</v-icon></v-btn>\r\n            </div>\r\n        </v-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {b64ToBlob, compress} from "../../image";\r\n    import ProgressBar from "./ProgressBar";\r\n\r\n    export default {\r\n        name: "EditPhotoCard",\r\n        components: {ProgressBar},\r\n        props: {\r\n            focus: {type: Boolean, default: false,},\r\n            preload: {type: Boolean, default: true,},\r\n            cover: {type: String, default: ""},\r\n            filled: {type: Boolean, default: false},\r\n            file: {type: File | String}\r\n        },\r\n        data: (vm) => ({\r\n            open: false,\r\n            focused: !!vm.$attrs[\'focus\'],\r\n            src: \'\',\r\n            loaded: false,\r\n            error: false,\r\n            progress: 0,\r\n            rotateTimeout: null,\r\n        }),\r\n        mounted() {\r\n            this.upload(this.file)\r\n        },\r\n        computed: {\r\n            isCover() {\r\n                return this.cover && this.src.indexOf(this.cover) !== -1\r\n            }\r\n        },\r\n        methods: {\r\n            rotate() {\r\n                if (this.rotateTimeout) {\r\n                    clearTimeout(this.rotateTimeout);\r\n                    this.rotateTimeout = null;\r\n                }\r\n                this.rotateTimeout = setTimeout(() => {\r\n                    let img = new Image();\r\n                    img.crossOrigin = "anonymous"\r\n                    img.onload = () => {\r\n                        let compressUrl = compress(img, (ctx, canvas) => {\r\n                            ctx.save();\r\n                            ctx.translate(canvas.width / 2, canvas.height / 2);\r\n                            ctx.rotate(90 * Math.PI / 180);\r\n                            ctx.drawImage(img, -img.width / 2, -img.width / 2);\r\n                            ctx.restore();\r\n                        });\r\n                        let blob = b64ToBlob(compressUrl.split(\',\')[1], \'image/jpeg\');\r\n                        this.upload(blob, this.src.split(\'/\').reverse()[0]);\r\n                    };\r\n                    img.src = this.src;\r\n                }, 1000)\r\n            },\r\n            readLocalSrc(file) {\r\n                if (this.file instanceof Blob) {\r\n                    let reader = new FileReader();\r\n                    reader.readAsDataURL(file);\r\n                    reader.onloadend = () => {\r\n                        this.src = reader.result;\r\n                        this.$emit(\'change\', this.src)\r\n                    }\r\n                } else this.src = file;\r\n                this.loaded = true;\r\n            },\r\n            upload(file, canvasFileName) {\r\n                if (!this.preload || !(file instanceof Blob)) {\r\n                    this.readLocalSrc(file);\r\n                    return;\r\n                }\r\n                var xhr = new XMLHttpRequest()\r\n                xhr.responseType = \'json\';\r\n                var formData = new FormData()\r\n                formData.append(\'file\', file, canvasFileName || file.name)\r\n                xhr.open(\'POST\', \'/photo/upload\', true)\r\n                xhr.upload.addEventListener("progress", (e) => {\r\n                    this.progress = (e.loaded * 100.0 / e.total) || 100;\r\n                })\r\n                xhr.addEventListener(\'readystatechange\', (e) => {\r\n                    if (xhr.readyState == 4 && xhr.status == 200) {\r\n                        this.src = e.target.response.url;\r\n                        this.$emit(\'change\', e.target.response.url);\r\n                        this.loaded = true;\r\n                    } else if (xhr.readyState == 4 && xhr.status != 200) {\r\n                        if (xhr.status == 400 && !canvasFileName) {\r\n                            //Для файлов с битым маймтипом рисуем на канве и отправляем результат\r\n                            let img = new Image();\r\n                            img.onload = () => {\r\n                                let compressUrl = compress(img);\r\n                                let blob = b64ToBlob(compressUrl.split(\',\')[1], \'image/jpeg\');\r\n                                this.upload(blob, file.name);\r\n                            };\r\n                            img.src = URL.createObjectURL(file);\r\n                            return;\r\n                        }\r\n                        this.readLocalSrc(file)\r\n                        this.error = this.loaded = true;\r\n                    }\r\n\r\n                })\r\n                xhr.send(formData)\r\n            }\r\n        },\r\n        watch: {\r\n            file(nv) {\r\n                if (typeof nv === \'string\') this.src = nv;\r\n            }\r\n        }\r\n    }\r\n<\/script>\r\n\r\n<style scoped>\r\n    .site-photo-card {\r\n        position: relative;\r\n        width: 100%;\r\n        background: #FFFFFF;\r\n        /* Grey 800 */\r\n\r\n        border-radius: 8px;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .site-photo-card.filled {\r\n        background-color: #F8F8F8;\r\n    }\r\n\r\n    .site-photo-card.focused, .site-photo-card:hover {\r\n        box-shadow: 0px 0px 9px rgba(140, 140, 140, 0.49);\r\n        border-radius: 8px;\r\n    }\r\n\r\n    .site-photo-card:after {\r\n        content: "";\r\n        display: block;\r\n        padding-bottom: 56%; /* 16/9 */\r\n    }\r\n\r\n    .site-photo-card-actions {\r\n        position: absolute;\r\n        right: 0;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .site-photo-card-content {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n        justify-content: center;\r\n        flex-direction: column;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .edit-photo-icon {\r\n        margin-left: 8px;\r\n    }\r\n</style>\r\n<style>\r\n\r\n    .sm-photo-dialog .photo-cover {\r\n        position: absolute;\r\n        top: 32px;\r\n        left: 32px;\r\n        z-index: 101;\r\n    }\r\n\r\n    .sm-photo-dialog .close-btn {\r\n        position: absolute;\r\n        top: 32px;\r\n        right: 32px;\r\n    }\r\n\r\n    .sm-photo-dialog .bottom {\r\n        right: 32px;\r\n        bottom: 32px;\r\n        position: absolute;\r\n        width: fit-content;\r\n        display: flex;\r\n        flex-direction: row;\r\n    }\r\n\r\n    .sm-photo-dialog {\r\n        position: absolute;\r\n        z-index: 100;\r\n        display: flex;\r\n        box-shadow: none !important;\r\n        background: rgba(105, 109, 116, 0.6);\r\n        backdrop-filter: blur(10px);\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n\r\n    .dialog-image .v-image{\r\n        border-radius: 8px;\r\n    }\r\n    .dialog-image {\r\n        width: fit-content;\r\n        height: fit-content;\r\n        max-width: 100%;\r\n        position: relative;\r\n        padding: 16px;\r\n        border-radius: 8px;\r\n        overflow: hidden;\r\n    }\r\n</style>\r\n'],sourceRoot:""}]);const a=i},7609:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var n=t(4015),o=t.n(n),s=t(3645),i=t.n(s)()(o());i.push([e.id,".full[data-v-6ebf4eaa]{width:100%;position:relative;background:#e1e1e1}.active[data-v-6ebf4eaa],.full[data-v-6ebf4eaa]{height:4px;border-radius:2px}.active[data-v-6ebf4eaa]{background:#2e3e4e!important}","",{version:3,sources:["webpack://./resources/js/components/ProgressBar.vue"],names:[],mappings:"AAgBA,uBACA,UAAA,CACA,iBAAA,CAEA,kBAEA,CACA,gDAJA,UAAA,CAEA,iBAMA,CAJA,yBAEA,4BAEA",sourcesContent:['<template>\r\n    <v-row class="ma-0">\r\n        <div class="full">\r\n            <div class="active" :style="{width: progress+\'%\'}"/>\r\n        </div>\r\n    </v-row>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        props: [\'progress\'],\r\n        name: "ProgressBar"\r\n    }\r\n<\/script>\r\n\r\n<style scoped>\r\n    .full{\r\n        width: 100%;\r\n        position: relative;\r\n        height: 4px;\r\n        background: #E1E1E1;\r\n        border-radius: 2px;\r\n    }\r\n    .active{\r\n        height: 4px;\r\n        background: #2e3e4e !important;\r\n        border-radius: 2px;\r\n    }\r\n</style>'],sourceRoot:""}]);const a=i},2473:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var n=t(4015),o=t.n(n),s=t(3645),i=t.n(s)()(o());i.push([e.id,".photo-input[data-v-710130a2]{position:absolute;visibility:hidden}","",{version:3,sources:["webpack://./resources/js/components/photo-loader.vue"],names:[],mappings:"AA2HA,8BACA,iBAAA,CACA,iBACA",sourcesContent:['<template>\r\n    <v-card class="d-flex flex-column pt-4 pb-4" justify-center align-center elevation="0">\r\n        <div v-if="one && loadedPhotos.length" class="text-center">{{loadedPhotos[0].name}}</div>\r\n        <v-row v-if="!one" class="">\r\n            <v-col xs="6" md="3" sm="6" v-for="(photo, i) in carouselPhotos" :key="i" v-if="!!carouselPhotos[i]">\r\n                <edit-photo-card\r\n                        :preload="preload"\r\n                        :filled="true"\r\n                        :file="photo"\r\n                        @delete="() => deletePhoto(photo, i)"\r\n                        contain\r\n                />\r\n            </v-col>\r\n            <v-col xs="6" md="3" sm="6">\r\n                <edit-photo-card\r\n                    @click="() => $refs.btn.click()">\r\n                    <drop-area @change="addPhoto" :yet="carouselPhotos.length"/>\r\n                    <template v-slot:actions>\r\n                        <div class="hidden"></div>\r\n                    </template>\r\n                </edit-photo-card>\r\n            </v-col>\r\n        </v-row>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\n\r\n    import EditPhotoCard from "./EditPhotoCard";\r\n    import DropArea from "./DropArea";\r\n\r\n    export default {\r\n        name: \'photo-loader\',\r\n        props: {\r\n            radius: {\r\n                type: Number,\r\n            },\r\n            one: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            photos: {\r\n                type: Array,\r\n                default: () => ([]),\r\n            },\r\n            preload: {\r\n                type: Boolean,\r\n                default: false,\r\n            }\r\n        },\r\n        components: {DropArea, EditPhotoCard},\r\n        data: (vm) => ({\r\n                n: 0,\r\n                photo: \'\',\r\n                loadedPhotos: [],\r\n                deleted: [],\r\n                carouselPhotos: vm.photos,\r\n                fileImg: null,\r\n        }),\r\n        updated() {\r\n        },\r\n        methods: {\r\n            deletePhoto(photo, cpi) {\r\n                if (photo.name) {\r\n                    this.loadedPhotos.forEach((file, i) => {\r\n                        if (file.name === photo.name) delete this.loadedPhotos[i];\r\n                    });\r\n                } else {\r\n                    this.deleted.push(this.photos[cpi].id);\r\n                }\r\n                delete this.carouselPhotos[cpi];\r\n                this.carouselPhotos = [...this.carouselPhotos];\r\n            },\r\n            getPhotos() {\r\n                return this.loadedPhotos.concat(this.deleted);\r\n            },\r\n            getFirst() {\r\n                return this.loadedPhotos[0];\r\n            },\r\n            returnFormData(val) {\r\n                this.$emit(\'save-photo\', val)\r\n            },\r\n            updatePhoto(val) {\r\n                this.photo = val\r\n                this.showCropperDialog = false\r\n            },\r\n            clickOnInput() {\r\n                document.getElementById(\'files\').files = (new DataTransfer()).files;\r\n                document.getElementById(\'files\').click()\r\n\r\n            },\r\n            addPhoto(event) {\r\n                [...event.target.files].forEach((photo) => {\r\n                    this.fileImg = photo;\r\n                    if (this.fileImg.size > 5024000) {\r\n                        this.$root.$children[0].snackbarText = \'Размер файла не может быть больше 5МБ\'\r\n                        this.$root.$children[0].snackbar = true\r\n                        return;\r\n                    }\r\n                    if (this.loadedPhotos.length > 10) {\r\n                        this.$root.$children[0].snackbarText = \'Вы не можете загрузить больше 10 фотографий\'\r\n                        this.$root.$children[0].snackbar = true\r\n                        return;\r\n                    }\r\n                    this.carouselPhotos = [\r\n                        ...this.carouselPhotos,\r\n                        this.preload ? URL.createObjectURL(this.fileImg) : this.fileImg\r\n                    ];\r\n                    this.loadedPhotos.push(this.fileImg)\r\n                    this.n = this.loadedPhotos.length - 1\r\n                    this.fileImg = null;\r\n                })\r\n            },\r\n        },\r\n        watch: {\r\n            photos(nv) {\r\n                this.carouselPhotos = nv.map((file) => file.file);\r\n            }\r\n        }\r\n    }\r\n<\/script>\r\n\r\n<style scoped>\r\n    .photo-input {\r\n        position: absolute;\r\n        visibility: hidden;\r\n    }\r\n</style>\r\n'],sourceRoot:""}]);const a=i},7979:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var n=t(4015),o=t.n(n),s=t(3645),i=t.n(s)()(o());i.push([e.id,".description.v-text-field>.v-input__control>.v-input__slot:after,.description.v-text-field>.v-input__control>.v-input__slot:before,.description .v-text-field__slot textarea{display:none!important}","",{version:3,sources:["webpack://./resources/js/pages/UserPostEdit.vue"],names:[],mappings:"AAgIA,6KAEA,sBACA",sourcesContent:['<template>\r\n    <v-container\r\n            class="cover">\r\n        <v-toolbar-title align="center" justify="center" class="mb-2"\r\n        v-text="$route.params.id  == 0 ? \'Добавление обращения\' :  \'Редактирование обращения\'">\r\n        </v-toolbar-title>\r\n        <v-text-field\r\n            type="text"\r\n            name="title"\r\n            label="Заголовок"\r\n            v-model="post.title"\r\n            :error-messages="messages.title"\r\n            >\r\n        </v-text-field>\r\n        <v-textarea\r\n                name="description"\r\n                label="Описание"\r\n                hint="Hint text"\r\n                :value="\' \'"\r\n                class="description "\r\n                :error-messages="messages.description"\r\n        ></v-textarea>\r\n        <editor\r\n                api-key="kapr0kh0v3vscnkppsxgig98vf6mgitaii8auw3p2pin1c5t"\r\n                class="mt-2"\r\n                v-model="post.description"\r\n        >\r\n        </editor>\r\n        <v-spacer/>\r\n        <photo-loader ref="loader"  :photos="post.photos"/>\r\n        <v-btn class="save-btn-text"\r\n               @click="() => post.id>0 ? update() : create()"\r\n               color="success"\r\n               :disabled="!(post.id> 0) && (!post.description || !post.title)">\r\n            Сохранить\r\n        </v-btn>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n    import Editor from \'@tinymce/tinymce-vue\';\r\n    import PhotoLoader from \'@/components/photo-loader\'\r\n    export default {\r\n        name: "UserPostEdit",\r\n        components: {\r\n            Editor,\r\n            PhotoLoader\r\n        },\r\n        data: (vm) => {\r\n            return {\r\n                post: {\r\n                    id: vm.$route.params.id,\r\n                    title: \'\',\r\n                    description: \'\',\r\n                    photos: [],\r\n                },\r\n                messages: {\r\n                    title: \'\',\r\n                    description: \'\',\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            let modelId = this.$route.params.id;\r\n            if (modelId != 0) {\r\n                window.axios.get(\'/user/post/\'+ modelId).then((response) => {\r\n                    this.post = response.data.data;\r\n                }).catch((e) => {\r\n                    console.log(e);\r\n                    this.$root.$children[0].snackbarText = e?.response?.error || \'Произошла ошибка\';\r\n                    this.$root.$children[0].snackbar = true;\r\n                });\r\n            }\r\n        },\r\n        methods: {\r\n            create() {\r\n                window.axios.post(\'/user/post\', this.post)\r\n                    .then((r) => {\r\n                        this.post.id = r.data.data.id;\r\n                        this.update();\r\n                    }).catch((e) => {\r\n                    if (e.response && e.response.status === 422) {\r\n                        let errors = e.response.data.errors\r\n                        Object.keys(this.messages).forEach((k)=> {\r\n                            this.messages[k] = errors[k]?.[0] || \'\';\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n             update() {\r\n                window.axios.put(\'/user/post/\'+ this.post.id, this.post)\r\n                    .then((r) => {\r\n                        let newPhotos = this.$refs.loader.getPhotos();\r\n                        if (newPhotos.length) {\r\n                            const formData = new FormData();\r\n                            newPhotos.forEach((photo, i) => {\r\n                                if (photo.name) formData.append(\'post_photos[\'+i+\']\', photo, photo.name);\r\n                                else formData.append(\'delete_photos[\'+i+\']\', photo)\r\n                            });\r\n                            formData.append(\'_method\', \'PUT\');\r\n                            try {\r\n                                window.axios.post(\'/user/post/\'+this.post.id, formData).then(() => {\r\n                                    this.$router.push({name: "uposts"});\r\n                                });\r\n                            } catch (e) {\r\n                                this.$root.$children[0].snackbarText =  `Ошибка сохранения фотографии`;\r\n                                this.$root.$children[0].snackbar = true;\r\n                                this.$router.push({name: "uposts"});\r\n                            }\r\n                        }\r\n                    }).catch((e) => {\r\n                    console.log(e);\r\n                    if (e.response && e.response.status === 422) {\r\n                        let errors = e.response.data.errors;\r\n                        Object.keys(this.messages).forEach((k)=> {\r\n                            this.messages[k] = errors[k]?.[0] || \'\';\r\n                        });\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n<\/script>\r\n\r\n<style>\r\n    .description .v-text-field__slot textarea {\r\n        display: none !important;\r\n    }\r\n    .description.v-text-field>.v-input__control>.v-input__slot:after ,\r\n    .description.v-text-field>.v-input__control>.v-input__slot:before{\r\n        display: none !important;\r\n    }\r\n</style>'],sourceRoot:""}]);const a=i},4208:(e,r,t)=>{"use strict";t.d(r,{Z:()=>f});var n=function(e,r){var t=document.createElement("canvas"),n=t.getContext("2d"),o=e.width,s=e.height;t.width=o,t.height=s,n.fillStyle="#fff",n.fillRect(0,0,t.width,t.height),r?r(n,t):n.drawImage(e,0,0,t.width,t.height);var i=t.toDataURL("image/jpeg",.4);return t=n=null,e=null,i},o=function(e,r){r=r||"";for(var t=atob(e),n=[],o=new ArrayBuffer(t.length),s=new Uint8Array(o),i=0;i<t.length;i++)s[i]=t.charCodeAt(i);return n.push(s),new Blob(n,{type:r})};const s={props:["progress"],name:"ProgressBar"};t(4865);var i=t(1900);const a={name:"EditPhotoCard",components:{ProgressBar:(0,i.Z)(s,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-row",{staticClass:"ma-0"},[t("div",{staticClass:"full"},[t("div",{staticClass:"active",style:{width:e.progress+"%"}})])])}),[],!1,null,"6ebf4eaa",null).exports},props:{focus:{type:Boolean,default:!1},preload:{type:Boolean,default:!0},cover:{type:String,default:""},filled:{type:Boolean,default:!1},file:{type:File|String}},data:function(e){return{open:!1,focused:!!e.$attrs.focus,src:"",loaded:!1,error:!1,progress:0,rotateTimeout:null}},mounted:function(){this.upload(this.file)},computed:{isCover:function(){return this.cover&&-1!==this.src.indexOf(this.cover)}},methods:{rotate:function(){var e=this;this.rotateTimeout&&(clearTimeout(this.rotateTimeout),this.rotateTimeout=null),this.rotateTimeout=setTimeout((function(){var r=new Image;r.crossOrigin="anonymous",r.onload=function(){var t=n(r,(function(e,t){e.save(),e.translate(t.width/2,t.height/2),e.rotate(90*Math.PI/180),e.drawImage(r,-r.width/2,-r.width/2),e.restore()})),s=o(t.split(",")[1],"image/jpeg");e.upload(s,e.src.split("/").reverse()[0])},r.src=e.src}),1e3)},readLocalSrc:function(e){var r=this;if(this.file instanceof Blob){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){r.src=t.result,r.$emit("change",r.src)}}else this.src=e;this.loaded=!0},upload:function(e,r){var t=this;if(this.preload&&e instanceof Blob){var s=new XMLHttpRequest;s.responseType="json";var i=new FormData;i.append("file",e,r||e.name),s.open("POST","/photo/upload",!0),s.upload.addEventListener("progress",(function(e){t.progress=100*e.loaded/e.total||100})),s.addEventListener("readystatechange",(function(i){if(4==s.readyState&&200==s.status)t.src=i.target.response.url,t.$emit("change",i.target.response.url),t.loaded=!0;else if(4==s.readyState&&200!=s.status){if(400==s.status&&!r){var a=new Image;return a.onload=function(){var r=n(a),s=o(r.split(",")[1],"image/jpeg");t.upload(s,e.name)},void(a.src=URL.createObjectURL(e))}t.readLocalSrc(e),t.error=t.loaded=!0}})),s.send(i)}else this.readLocalSrc(e)}},watch:{file:function(e){"string"==typeof e&&(this.src=e)}}};t(2380),t(4552);const l=(0,i.Z)(a,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"site-photo-card",class:{focused:e.focus,filled:e.filled}},[t("div",{staticClass:"site-photo-card-content",staticStyle:{"z-index":"1"}},[e._t("default",(function(){return[e.loaded&&e.src?t("v-img",{attrs:{src:e.src,cover:"",height:"100%"},on:{click:function(r){e.$emit("click",e.$attrs.value),e.open=!0}}}):e.loaded||e.error?e._e():t("v-row",{staticClass:"pa-8",staticStyle:{"align-items":"center"},attrs:{xs:"12"}},[t("progress-bar",{attrs:{progress:e.progress}})],1)]}))],2),e._v(" "),t("div",{staticClass:"site-photo-card-actions",staticStyle:{"z-index":"2"}},[e._t("actions",(function(){return[t("v-row",{staticClass:"pl-5 pr-5 pt-2 justify-end",attrs:{xs:"12"}},[t("v-btn",{staticClass:"mr-3",attrs:{fab:"",small:""},on:{click:function(r){return e.$emit("delete")}}},[t("v-icon",[e._v("mdi-delete")])],1)],1)]}))],2),e._v(" "),e.open?t("v-dialog",{attrs:{"content-class":"sm-photo-dialog",fullscreen:!0},model:{value:e.open,callback:function(r){e.open=r},expression:"open"}},[t("div",{staticClass:"dialog-image"},[e.loaded&&e.src?t("v-img",{attrs:{src:e.src,"max-height":"90vh",contain:""}}):e._e(),e._v(" "),t("v-btn",{staticClass:"close-btn",attrs:{icon:"",color:"gray"},on:{click:function(r){e.$emit("focusOut"),e.open=!1}}},[t("v-icon",[e._v("mdi-close")])],1)],1)]):e._e()],1)}),[],!1,null,"503f2afb",null).exports;const d={name:"DropArea",data:function(e){return{vm:e}},props:["yet"],mounted:function(e){var r=this,t=document.getElementById("drop-area");function n(e){e.preventDefault(),e.stopPropagation()}function o(e){t.classList.add("focus")}function s(e){t.classList.remove("focus")}["dragenter","dragover","dragleave","drop"].forEach((function(e){t.addEventListener(e,n,!1)})),["dragenter","dragover"].forEach((function(e){t.addEventListener(e,o,!1)})),["dragleave","drop"].forEach((function(e){t.addEventListener(e,s,!1)}));t.addEventListener("drop",(function(e){var t=e.dataTransfer.files;r.handleFiles(t)}),!1)},methods:{handleFiles:function(e){this.$emit("change",{target:{files:e}})}}};t(8671);const c=(0,i.Z)(d,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"drop-area",class:e.$vuetify.breakpoint.smAndDown?["drop-sm"]:[],attrs:{id:"drop-area"}},[t("form",{staticClass:"drop-form"},[t("input",{staticClass:"hide",attrs:{type:"file",id:"fileElem",multiple:"",accept:"image/*"},on:{change:function(r){return e.$emit("change",r)}}}),e._v(" "),t("label",{staticClass:"drop-btn",attrs:{for:"fileElem"}},[e._v(e._s(e.yet?"Загрузить еще":"Загрузить фото"))]),e._v(" "),t("p",{staticClass:"format-file-desc"},[e._v("Формат – jpg, png")]),e._v(" "),t("p",{staticClass:"file-desc hover"},[e._v("Отпустите фотографию сюда")])])])}),[],!1,null,"ee4fed0c",null).exports;function p(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return u(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}const h={name:"photo-loader",props:{radius:{type:Number},one:{type:Boolean,default:!1},photos:{type:Array,default:function(){return[]}},preload:{type:Boolean,default:!1}},components:{DropArea:c,EditPhotoCard:l},data:function(e){return{n:0,photo:"",loadedPhotos:[],deleted:[],carouselPhotos:e.photos,fileImg:null}},updated:function(){},methods:{deletePhoto:function(e,r){var t=this;e.name?this.loadedPhotos.forEach((function(r,n){r.name===e.name&&delete t.loadedPhotos[n]})):this.deleted.push(this.photos[r].id),delete this.carouselPhotos[r],this.carouselPhotos=p(this.carouselPhotos)},getPhotos:function(){return this.loadedPhotos.concat(this.deleted)},getFirst:function(){return this.loadedPhotos[0]},returnFormData:function(e){this.$emit("save-photo",e)},updatePhoto:function(e){this.photo=e,this.showCropperDialog=!1},clickOnInput:function(){document.getElementById("files").files=(new DataTransfer).files,document.getElementById("files").click()},addPhoto:function(e){var r=this;p(e.target.files).forEach((function(e){return r.fileImg=e,r.fileImg.size>5024e3?(r.$root.$children[0].snackbarText="Размер файла не может быть больше 5МБ",void(r.$root.$children[0].snackbar=!0)):r.loadedPhotos.length>10?(r.$root.$children[0].snackbarText="Вы не можете загрузить больше 10 фотографий",void(r.$root.$children[0].snackbar=!0)):(r.carouselPhotos=[].concat(p(r.carouselPhotos),[r.preload?URL.createObjectURL(r.fileImg):r.fileImg]),r.loadedPhotos.push(r.fileImg),r.n=r.loadedPhotos.length-1,void(r.fileImg=null))}))}},watch:{photos:function(e){this.carouselPhotos=e.map((function(e){return e.file}))}}};t(8126);const f=(0,i.Z)(h,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-card",{staticClass:"d-flex flex-column pt-4 pb-4",attrs:{"justify-center":"","align-center":"",elevation:"0"}},[e.one&&e.loadedPhotos.length?t("div",{staticClass:"text-center"},[e._v(e._s(e.loadedPhotos[0].name))]):e._e(),e._v(" "),e.one?e._e():t("v-row",{},[e._l(e.carouselPhotos,(function(r,n){return e.carouselPhotos[n]?t("v-col",{key:n,attrs:{xs:"6",md:"3",sm:"6"}},[t("edit-photo-card",{attrs:{preload:e.preload,filled:!0,file:r,contain:""},on:{delete:function(){return e.deletePhoto(r,n)}}})],1):e._e()})),e._v(" "),t("v-col",{attrs:{xs:"6",md:"3",sm:"6"}},[t("edit-photo-card",{on:{click:function(){return e.$refs.btn.click()}},scopedSlots:e._u([{key:"actions",fn:function(){return[t("div",{staticClass:"hidden"})]},proxy:!0}],null,!1,810021170)},[t("drop-area",{attrs:{yet:e.carouselPhotos.length},on:{change:e.addPhoto}})],1)],1)],2)],1)}),[],!1,null,"710130a2",null).exports},2890:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var n=t(5846),o=t(4208);const s={name:"UserPostEdit",components:{Editor:n.Z,PhotoLoader:o.Z},data:function(e){return{post:{id:e.$route.params.id,title:"",description:"",photos:[]},messages:{title:"",description:""}}},mounted:function(){var e=this,r=this.$route.params.id;0!=r&&window.axios.get("/user/post/"+r).then((function(r){e.post=r.data.data})).catch((function(r){var t;console.log(r),e.$root.$children[0].snackbarText=(null==r||null===(t=r.response)||void 0===t?void 0:t.error)||"Произошла ошибка",e.$root.$children[0].snackbar=!0}))},methods:{create:function(){var e=this;window.axios.post("/user/post",this.post).then((function(r){e.post.id=r.data.data.id,e.update()})).catch((function(r){if(r.response&&422===r.response.status){var t=r.response.data.errors;Object.keys(e.messages).forEach((function(r){var n;e.messages[r]=(null===(n=t[r])||void 0===n?void 0:n[0])||""}))}}))},update:function(){var e=this;window.axios.put("/user/post/"+this.post.id,this.post).then((function(r){var t=e.$refs.loader.getPhotos();if(t.length){var n=new FormData;t.forEach((function(e,r){e.name?n.append("post_photos["+r+"]",e,e.name):n.append("delete_photos["+r+"]",e)})),n.append("_method","PUT");try{window.axios.post("/user/post/"+e.post.id,n).then((function(){e.$router.push({name:"uposts"})}))}catch(r){e.$root.$children[0].snackbarText="Ошибка сохранения фотографии",e.$root.$children[0].snackbar=!0,e.$router.push({name:"uposts"})}}})).catch((function(r){if(console.log(r),r.response&&422===r.response.status){var t=r.response.data.errors;Object.keys(e.messages).forEach((function(r){var n;e.messages[r]=(null===(n=t[r])||void 0===n?void 0:n[0])||""}))}}))}}};t(8448);const i=(0,t(1900).Z)(s,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-container",{staticClass:"cover"},[t("v-toolbar-title",{staticClass:"mb-2",attrs:{align:"center",justify:"center"},domProps:{textContent:e._s(0==e.$route.params.id?"Добавление обращения":"Редактирование обращения")}}),e._v(" "),t("v-text-field",{attrs:{type:"text",name:"title",label:"Заголовок","error-messages":e.messages.title},model:{value:e.post.title,callback:function(r){e.$set(e.post,"title",r)},expression:"post.title"}}),e._v(" "),t("v-textarea",{staticClass:"description ",attrs:{name:"description",label:"Описание",hint:"Hint text",value:" ","error-messages":e.messages.description}}),e._v(" "),t("editor",{staticClass:"mt-2",attrs:{"api-key":"kapr0kh0v3vscnkppsxgig98vf6mgitaii8auw3p2pin1c5t"},model:{value:e.post.description,callback:function(r){e.$set(e.post,"description",r)},expression:"post.description"}}),e._v(" "),t("v-spacer"),e._v(" "),t("photo-loader",{ref:"loader",attrs:{photos:e.post.photos}}),e._v(" "),t("v-btn",{staticClass:"save-btn-text",attrs:{color:"success",disabled:!(e.post.id>0||e.post.description&&e.post.title)},on:{click:function(){return e.post.id>0?e.update():e.create()}}},[e._v("\n        Сохранить\n    ")])],1)}),[],!1,null,null,null).exports},8671:(e,r,t)=>{var n=t(4539);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(5346).Z)("01e09b4c",n,!0,{})},2380:(e,r,t)=>{var n=t(3934);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(5346).Z)("736a53c3",n,!0,{})},4552:(e,r,t)=>{var n=t(2446);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(5346).Z)("08c2778c",n,!0,{})},4865:(e,r,t)=>{var n=t(7609);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(5346).Z)("10dd9cee",n,!0,{})},8126:(e,r,t)=>{var n=t(2473);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(5346).Z)("11ea50ce",n,!0,{})},8448:(e,r,t)=>{var n=t(7979);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(5346).Z)("736126fd",n,!0,{})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHRpbnltY2UvdGlueW1jZS12dWUvbGliL2Nqcy9tYWluL3RzL1NjcmlwdExvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHRpbnltY2UvdGlueW1jZS12dWUvbGliL2Nqcy9tYWluL3RzL1RpbnlNQ0UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B0aW55bWNlL3RpbnltY2UtdnVlL2xpYi9janMvbWFpbi90cy9VdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHRpbnltY2UvdGlueW1jZS12dWUvbGliL2Nqcy9tYWluL3RzL2NvbXBvbmVudHMvRWRpdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdGlueW1jZS90aW55bWNlLXZ1ZS9saWIvY2pzL21haW4vdHMvY29tcG9uZW50cy9FZGl0b3JQcm9wVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B0aW55bWNlL3RpbnltY2UtdnVlL2xpYi9janMvbWFpbi90cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9Ecm9wQXJlYS52dWU/YzE4NSIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9FZGl0UGhvdG9DYXJkLnZ1ZT8wYTQ2Iiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL0VkaXRQaG90b0NhcmQudnVlP2IwMTQiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvUHJvZ3Jlc3NCYXIudnVlP2JjMjQiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvcGhvdG8tbG9hZGVyLnZ1ZT80NzM4Iiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9wYWdlcy9Vc2VyUG9zdEVkaXQudnVlP2VkOGEiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvcGhvdG8tbG9hZGVyLnZ1ZT84MjEzIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9pbWFnZS5qcyIsIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvUHJvZ3Jlc3NCYXIudnVlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL1Byb2dyZXNzQmFyLnZ1ZT9iYjU4Iiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL1Byb2dyZXNzQmFyLnZ1ZSIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9FZGl0UGhvdG9DYXJkLnZ1ZT81ODFmIiwid2VicGFjazovLy9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9FZGl0UGhvdG9DYXJkLnZ1ZSIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9Qcm9ncmVzc0Jhci52dWU/YjU2YiIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9FZGl0UGhvdG9DYXJkLnZ1ZSIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9FZGl0UGhvdG9DYXJkLnZ1ZT81MmE2Iiwid2VicGFjazovLy9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9Ecm9wQXJlYS52dWUiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvRHJvcEFyZWEudnVlPzhhYjQiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvRHJvcEFyZWEudnVlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL0Ryb3BBcmVhLnZ1ZT9jYWE5Iiwid2VicGFjazovLy9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9waG90by1sb2FkZXIudnVlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL3Bob3RvLWxvYWRlci52dWU/MjZlYSIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9waG90by1sb2FkZXIudnVlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9wYWdlcy9Vc2VyUG9zdEVkaXQudnVlPzA3NDYiLCJ3ZWJwYWNrOi8vL3Jlc291cmNlcy9qcy9wYWdlcy9Vc2VyUG9zdEVkaXQudnVlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9wYWdlcy9Vc2VyUG9zdEVkaXQudnVlP2E0YzUiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL3BhZ2VzL1VzZXJQb3N0RWRpdC52dWUiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvRHJvcEFyZWEudnVlP2Q0ODAiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvRWRpdFBob3RvQ2FyZC52dWU/NDNlMCIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9FZGl0UGhvdG9DYXJkLnZ1ZT9hNDJmIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL1Byb2dyZXNzQmFyLnZ1ZT9lMjFiIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL3Bob3RvLWxvYWRlci52dWU/MmQ1NSIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvcGFnZXMvVXNlclBvc3RFZGl0LnZ1ZT8xYTY1Il0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwic3RhdGUiLCJVdGlsc18xIiwiY3JlYXRlU3RhdGUiLCJsaXN0ZW5lcnMiLCJzY3JpcHRJZCIsInV1aWQiLCJzY3JpcHRMb2FkZWQiLCJTY3JpcHRMb2FkZXIiLCJsb2FkIiwiZG9jIiwidXJsIiwiY2FsbGJhY2siLCJwdXNoIiwiZ2V0RWxlbWVudEJ5SWQiLCJzY3JpcHRUYWciLCJjcmVhdGVFbGVtZW50IiwicmVmZXJyZXJQb2xpY3kiLCJ0eXBlIiwiaWQiLCJzcmMiLCJoYW5kbGVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJpbmplY3RTY3JpcHRUYWciLCJmb3JFYWNoIiwiZm4iLCJyZWluaXRpYWxpemUiLCJnZXRUaW55bWNlIiwiZ2xvYmFsIiwid2luZG93IiwiZyIsInRpbnltY2UiLCJ2YWxpZEV2ZW50cyIsImlzVmFsaWRLZXkiLCJrZXkiLCJtYXAiLCJldmVudCIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsImJpbmRIYW5kbGVycyIsImluaXRFdmVudCIsImVkaXRvciIsImtleXMiLCJmaWx0ZXIiLCJvbiIsInN1YnN0cmluZyIsImUiLCJiaW5kTW9kZWxIYW5kbGVycyIsImN0eCIsIm1vZGVsRXZlbnRzIiwiJHByb3BzIiwibm9ybWFsaXplZEV2ZW50cyIsIkFycmF5IiwiaXNBcnJheSIsImpvaW4iLCIkZW1pdCIsImdldENvbnRlbnQiLCJmb3JtYXQiLCJvdXRwdXRGb3JtYXQiLCJpbml0RWRpdG9yIiwiaW5pdGlhbFZhbHVlIiwic2V0Q29udGVudCIsImluaXRpYWxpemVkIiwiY2FjaGUiLCIkd2F0Y2giLCJ2YWwiLCJwcmV2VmFsIiwiJGxpc3RlbmVycyIsImlucHV0IiwidW5pcXVlIiwicHJlZml4IiwidGltZSIsIkRhdGUiLCJub3ciLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJTdHJpbmciLCJpc1RleHRhcmVhIiwiZWxlbWVudCIsInRhZ05hbWUiLCJub3JtYWxpemVQbHVnaW5BcnJheSIsInBsdWdpbnMiLCJzcGxpdCIsIm1lcmdlUGx1Z2lucyIsImluaXRQbHVnaW5zIiwiaW5wdXRQbHVnaW5zIiwiY29uY2F0IiwiaXNOdWxsT3JVbmRlZmluZWQiLCJfX2Fzc2lnbiIsInRoaXMiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwiU2NyaXB0TG9hZGVyXzEiLCJUaW55TUNFXzEiLCJFZGl0b3JQcm9wVHlwZXNfMSIsImluaXRpYWxpc2UiLCJmaW5hbEluaXQiLCJpbml0IiwicmVhZG9ubHkiLCJkaXNhYmxlZCIsInNlbGVjdG9yIiwiZWxlbWVudElkIiwidG9vbGJhciIsImlubGluZSIsImlubGluZUVkaXRvciIsInNldHVwIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiZGlzcGxheSIsIkVkaXRvciIsInByb3BzIiwiZWRpdG9yUHJvcHMiLCJjcmVhdGVkIiwid2F0Y2giLCJzZXRNb2RlIiwibW91bnRlZCIsIiRlbCIsIm93bmVyRG9jdW1lbnQiLCJjaGFubmVsIiwiY2xvdWRDaGFubmVsIiwiYXBpS2V5Iiwic2NyaXB0U3JjIiwidGlueW1jZVNjcmlwdFNyYyIsImJlZm9yZURlc3Ryb3kiLCJyZW1vdmUiLCJkZWFjdGl2YXRlZCIsIl9hIiwiYWN0aXZhdGVkIiwicmVuZGVyIiwiaCIsImF0dHJzIiwicmVuZGVySW5saW5lIiwicmVuZGVySWZyYW1lIiwiQm9vbGVhbiIsInZhbGlkYXRvciIsInByb3AiLCJFZGl0b3JfMSIsIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwibW9kdWxlIiwiY29tcHJlc3MiLCJpbWciLCJtb2RpZnlDb250ZXh0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsIndpZHRoIiwiaGVpZ2h0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJkcmF3SW1hZ2UiLCJiYXNlNjREYXRhIiwidG9EYXRhVVJMIiwiYjY0VG9CbG9iIiwiYjY0RGF0YSIsImNvbnRlbnRUeXBlIiwiYnl0ZUNoYXJhY3RlcnMiLCJhdG9iIiwiYnVmZmVyIiwiYUJ1ZmZlciIsIkFycmF5QnVmZmVyIiwidUJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJjaGFyQ29kZUF0IiwiQmxvYiIsIl92bSIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwic3RhdGljQ2xhc3MiLCJwcm9ncmVzcyIsImNsYXNzIiwiZm9jdXNlZCIsImZvY3VzIiwiZmlsbGVkIiwic3RhdGljU3R5bGUiLCJfdCIsImxvYWRlZCIsIiRldmVudCIsIiRhdHRycyIsIm9wZW4iLCJlcnJvciIsIl9lIiwiX3YiLCJtb2RlbCIsIiQkdiIsImV4cHJlc3Npb24iLCIkdnVldGlmeSIsImJyZWFrcG9pbnQiLCJzbUFuZERvd24iLCJfcyIsInlldCIsIm9uZSIsImxvYWRlZFBob3RvcyIsIm5hbWUiLCJfbCIsInBob3RvIiwiY2Fyb3VzZWxQaG90b3MiLCJwcmVsb2FkIiwiZGVsZXRlUGhvdG8iLCIkcmVmcyIsImJ0biIsImNsaWNrIiwic2NvcGVkU2xvdHMiLCJfdSIsInByb3h5IiwiYWRkUGhvdG8iLCJkb21Qcm9wcyIsIiRyb3V0ZSIsInBhcmFtcyIsIm1lc3NhZ2VzIiwidGl0bGUiLCJwb3N0IiwiJHNldCIsImRlc2NyaXB0aW9uIiwicmVmIiwicGhvdG9zIiwidXBkYXRlIiwiY3JlYXRlIiwiY29udGVudCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9jYWxzIiwiYWRkIl0sIm1hcHBpbmdzIjoia0ZBUUFBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELElBU1FDLEVBVEpDLEVBQVUsRUFBUSxNQUNsQkMsRUFBYyxXQUNkLE1BQU8sQ0FDSEMsVUFBVyxHQUNYQyxTQUFVSCxFQUFRSSxLQUFLLGVBQ3ZCQyxjQUFjLElBMkNsQkMsR0F2Q0lQLEVBQVFFLElBa0NMLENBQ0hNLEtBbkJPLFNBQVVDLEVBQUtDLEVBQUtDLEdBQ3ZCWCxFQUFNTSxhQUNOSyxLQUdBWCxFQUFNRyxVQUFVUyxLQUFLRCxHQUNoQkYsRUFBSUksZUFBZWIsRUFBTUksV0FyQmhCLFNBQVVBLEVBQVVLLEVBQUtDLEVBQUtDLEdBQ2hELElBQUlHLEVBQVlMLEVBQUlNLGNBQWMsVUFDbENELEVBQVVFLGVBQWlCLFNBQzNCRixFQUFVRyxLQUFPLHlCQUNqQkgsRUFBVUksR0FBS2QsRUFDZlUsRUFBVUssSUFBTVQsRUFDaEIsSUFBSVUsRUFBVSxXQUNWTixFQUFVTyxvQkFBb0IsT0FBUUQsR0FDdENULEtBRUpHLEVBQVVRLGlCQUFpQixPQUFRRixHQUMvQlgsRUFBSWMs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LENBQUMsQ0FBQ2xGLEVBQU9ySSxHQUFJdU4sRUFBUyxNQUM3REEsRUFBUUcsU0FBUXJGLEVBQU96SixRQUFVMk8sRUFBUUcsU0FHL0JDLEVBREgsV0FDTyxXQUFZSixHQUFTLEVBQU0sSyxlQ041QyxJQUFJQSxFQUFVLEVBQVEsTUFDbkJBLEVBQVFDLGFBQVlELEVBQVVBLEVBQVFFLFNBQ25CLGlCQUFaRixJQUFzQkEsRUFBVSxDQUFDLENBQUNsRixFQUFPckksR0FBSXVOLEVBQVMsTUFDN0RBLEVBQVFHLFNBQVFyRixFQUFPekosUUFBVTJPLEVBQVFHLFNBRy9CQyxFQURILFdBQ08sV0FBWUosR0FBUyxFQUFNLEssZUNONUMsSUFBSUEsRUFBVSxFQUFRLE1BQ25CQSxFQUFRQyxhQUFZRCxFQUFVQSxFQUFRRSxTQUNuQixpQkFBWkYsSUFBc0JBLEVBQVUsQ0FBQyxDQUFDbEYsRUFBT3JJLEdBQUl1TixFQUFTLE1BQzdEQSxFQUFRRyxTQUFRckYsRUFBT3pKLFFBQVUyTyxFQUFRRyxTQUcvQkMsRUFESCxXQUNPLFdBQVlKLEdBQVMsRUFBTSxLLGVDTjVDLElBQUlBLEVBQVUsRUFBUSxNQUNuQkEsRUFBUUMsYUFBWUQsRUFBVUEsRUFBUUUsU0FDbkIsaUJBQVpGLElBQXNCQSxFQUFVLENBQUMsQ0FBQ2xGLEVBQU9ySSxHQUFJdU4sRUFBUyxNQUM3REEsRUFBUUcsU0FBUXJGLEVBQU96SixRQUFVMk8sRUFBUUcsU0FHL0JDLEVBREgsV0FDTyxXQUFZSixHQUFTLEVBQU0iLCJmaWxlIjoianMvY2h1bmtzLzg5MDE4YTNlZjJlNTJjYmY4ZWVlZTcwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxOC1wcmVzZW50LCBFcGhveCwgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSAyIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVXRpbHNfMSA9IHJlcXVpcmUoXCIuL1V0aWxzXCIpO1xudmFyIGNyZWF0ZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxpc3RlbmVyczogW10sXG4gICAgICAgIHNjcmlwdElkOiBVdGlsc18xLnV1aWQoJ3Rpbnktc2NyaXB0JyksXG4gICAgICAgIHNjcmlwdExvYWRlZDogZmFsc2VcbiAgICB9O1xufTtcbnZhciBDcmVhdGVTY3JpcHRMb2FkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0YXRlID0gY3JlYXRlU3RhdGUoKTtcbiAgICB2YXIgaW5qZWN0U2NyaXB0VGFnID0gZnVuY3Rpb24gKHNjcmlwdElkLCBkb2MsIHVybCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHNjcmlwdFRhZyA9IGRvYy5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgc2NyaXB0VGFnLnJlZmVycmVyUG9saWN5ID0gJ29yaWdpbic7XG4gICAgICAgIHNjcmlwdFRhZy50eXBlID0gJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnO1xuICAgICAgICBzY3JpcHRUYWcuaWQgPSBzY3JpcHRJZDtcbiAgICAgICAgc2NyaXB0VGFnLnNyYyA9IHVybDtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzY3JpcHRUYWcucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIGhhbmRsZXIpO1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2NyaXB0VGFnLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBoYW5kbGVyKTtcbiAgICAgICAgaWYgKGRvYy5oZWFkKSB7XG4gICAgICAgICAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHRUYWcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgbG9hZCA9IGZ1bmN0aW9uIChkb2MsIHVybCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHN0YXRlLnNjcmlwdExvYWRlZCkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGlmICghZG9jLmdldEVsZW1lbnRCeUlkKHN0YXRlLnNjcmlwdElkKSkge1xuICAgICAgICAgICAgICAgIGluamVjdFNjcmlwdFRhZyhzdGF0ZS5zY3JpcHRJZCwgZG9jLCB1cmwsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7IHJldHVybiBmbigpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuc2NyaXB0TG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gT25seSB0byBiZSB1c2VkIGJ5IHRlc3RzLlxuICAgIHZhciByZWluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0YXRlID0gY3JlYXRlU3RhdGUoKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvYWQ6IGxvYWQsXG4gICAgICAgIHJlaW5pdGlhbGl6ZTogcmVpbml0aWFsaXplXG4gICAgfTtcbn07XG52YXIgU2NyaXB0TG9hZGVyID0gQ3JlYXRlU2NyaXB0TG9hZGVyKCk7XG5leHBvcnRzLlNjcmlwdExvYWRlciA9IFNjcmlwdExvYWRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTgtcHJlc2VudCwgRXBob3gsIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgMiBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGdldEdsb2JhbCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbCk7IH07XG52YXIgZ2V0VGlueW1jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsKCk7XG4gICAgcmV0dXJuIGdsb2JhbCAmJiBnbG9iYWwudGlueW1jZSA/IGdsb2JhbC50aW55bWNlIDogbnVsbDtcbn07XG5leHBvcnRzLmdldFRpbnltY2UgPSBnZXRUaW55bWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxOC1wcmVzZW50LCBFcGhveCwgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSAyIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdmFsaWRFdmVudHMgPSBbXG4gICAgJ29uQWN0aXZhdGUnLFxuICAgICdvbkFkZFVuZG8nLFxuICAgICdvbkJlZm9yZUFkZFVuZG8nLFxuICAgICdvbkJlZm9yZUV4ZWNDb21tYW5kJyxcbiAgICAnb25CZWZvcmVHZXRDb250ZW50JyxcbiAgICAnb25CZWZvcmVSZW5kZXJVSScsXG4gICAgJ29uQmVmb3JlU2V0Q29udGVudCcsXG4gICAgJ29uQmVmb3JlUGFzdGUnLFxuICAgICdvbkJsdXInLFxuICAgICdvbkNoYW5nZScsXG4gICAgJ29uQ2xlYXJVbmRvcycsXG4gICAgJ29uQ2xpY2snLFxuICAgICdvbkNvbnRleHRNZW51JyxcbiAgICAnb25Db3B5JyxcbiAgICAnb25DdXQnLFxuICAgICdvbkRibGNsaWNrJyxcbiAgICAnb25EZWFjdGl2YXRlJyxcbiAgICAnb25EaXJ0eScsXG4gICAgJ29uRHJhZycsXG4gICAgJ29uRHJhZ0Ryb3AnLFxuICAgICdvbkRyYWdFbmQnLFxuICAgICdvbkRyYWdHZXN0dXJlJyxcbiAgICAnb25EcmFnT3ZlcicsXG4gICAgJ29uRHJvcCcsXG4gICAgJ29uRXhlY0NvbW1hbmQnLFxuICAgICdvbkZvY3VzJyxcbiAgICAnb25Gb2N1c0luJyxcbiAgICAnb25Gb2N1c091dCcsXG4gICAgJ29uR2V0Q29udGVudCcsXG4gICAgJ29uSGlkZScsXG4gICAgJ29uSW5pdCcsXG4gICAgJ29uS2V5RG93bicsXG4gICAgJ29uS2V5UHJlc3MnLFxuICAgICdvbktleVVwJyxcbiAgICAnb25Mb2FkQ29udGVudCcsXG4gICAgJ29uTW91c2VEb3duJyxcbiAgICAnb25Nb3VzZUVudGVyJyxcbiAgICAnb25Nb3VzZUxlYXZlJyxcbiAgICAnb25Nb3VzZU1vdmUnLFxuICAgICdvbk1vdXNlT3V0JyxcbiAgICAnb25Nb3VzZU92ZXInLFxuICAgICdvbk1vdXNlVXAnLFxuICAgICdvbk5vZGVDaGFuZ2UnLFxuICAgICdvbk9iamVjdFJlc2l6ZVN0YXJ0JyxcbiAgICAnb25PYmplY3RSZXNpemVkJyxcbiAgICAnb25PYmplY3RTZWxlY3RlZCcsXG4gICAgJ29uUGFzdGUnLFxuICAgICdvblBvc3RQcm9jZXNzJyxcbiAgICAnb25Qb3N0UmVuZGVyJyxcbiAgICAnb25QcmVQcm9jZXNzJyxcbiAgICAnb25Qcm9ncmVzc1N0YXRlJyxcbiAgICAnb25SZWRvJyxcbiAgICAnb25SZW1vdmUnLFxuICAgICdvblJlc2V0JyxcbiAgICAnb25TYXZlQ29udGVudCcsXG4gICAgJ29uU2VsZWN0aW9uQ2hhbmdlJyxcbiAgICAnb25TZXRBdHRyaWInLFxuICAgICdvblNldENvbnRlbnQnLFxuICAgICdvblNob3cnLFxuICAgICdvblN1Ym1pdCcsXG4gICAgJ29uVW5kbycsXG4gICAgJ29uVmlzdWFsQWlkJ1xuXTtcbnZhciBpc1ZhbGlkS2V5ID0gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gdmFsaWRFdmVudHMubWFwKGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gZXZlbnQudG9Mb3dlckNhc2UoKTsgfSkuaW5kZXhPZihrZXkudG9Mb3dlckNhc2UoKSkgIT09IC0xOyB9O1xuZXhwb3J0cy5pc1ZhbGlkS2V5ID0gaXNWYWxpZEtleTtcbnZhciBiaW5kSGFuZGxlcnMgPSBmdW5jdGlvbiAoaW5pdEV2ZW50LCBsaXN0ZW5lcnMsIGVkaXRvcikge1xuICAgIE9iamVjdC5rZXlzKGxpc3RlbmVycylcbiAgICAgICAgLmZpbHRlcihpc1ZhbGlkS2V5KVxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gbGlzdGVuZXJzW2tleV07XG4gICAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ29uSW5pdCcpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKGluaXRFdmVudCwgZWRpdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVkaXRvci5vbihrZXkuc3Vic3RyaW5nKDIpLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gaGFuZGxlcihlLCBlZGl0b3IpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufTtcbmV4cG9ydHMuYmluZEhhbmRsZXJzID0gYmluZEhhbmRsZXJzO1xudmFyIGJpbmRNb2RlbEhhbmRsZXJzID0gZnVuY3Rpb24gKGN0eCwgZWRpdG9yKSB7XG4gICAgdmFyIG1vZGVsRXZlbnRzID0gY3R4LiRwcm9wcy5tb2RlbEV2ZW50cyA/IGN0eC4kcHJvcHMubW9kZWxFdmVudHMgOiBudWxsO1xuICAgIHZhciBub3JtYWxpemVkRXZlbnRzID0gQXJyYXkuaXNBcnJheShtb2RlbEV2ZW50cykgPyBtb2RlbEV2ZW50cy5qb2luKCcgJykgOiBtb2RlbEV2ZW50cztcbiAgICBlZGl0b3Iub24obm9ybWFsaXplZEV2ZW50cyA/IG5vcm1hbGl6ZWRFdmVudHMgOiAnY2hhbmdlIGlucHV0IHVuZG8gcmVkbycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3R4LiRlbWl0KCdpbnB1dCcsIGVkaXRvci5nZXRDb250ZW50KHsgZm9ybWF0OiBjdHguJHByb3BzLm91dHB1dEZvcm1hdCB9KSk7XG4gICAgfSk7XG59O1xuZXhwb3J0cy5iaW5kTW9kZWxIYW5kbGVycyA9IGJpbmRNb2RlbEhhbmRsZXJzO1xudmFyIGluaXRFZGl0b3IgPSBmdW5jdGlvbiAoaW5pdEV2ZW50LCBjdHgsIGVkaXRvcikge1xuICAgIHZhciB2YWx1ZSA9IGN0eC4kcHJvcHMudmFsdWUgPyBjdHguJHByb3BzLnZhbHVlIDogJyc7XG4gICAgdmFyIGluaXRpYWxWYWx1ZSA9IGN0eC4kcHJvcHMuaW5pdGlhbFZhbHVlID8gY3R4LiRwcm9wcy5pbml0aWFsVmFsdWUgOiAnJztcbiAgICBlZGl0b3Iuc2V0Q29udGVudCh2YWx1ZSB8fCAoY3R4LmluaXRpYWxpemVkID8gY3R4LmNhY2hlIDogaW5pdGlhbFZhbHVlKSk7XG4gICAgLy8gQWx3YXlzIGJpbmQgdGhlIHZhbHVlIGxpc3RlbmVyIGluIGNhc2UgdXNlcnMgdXNlIDp2YWx1ZSBpbnN0ZWFkIG9mIHYtbW9kZWxcbiAgICBjdHguJHdhdGNoKCd2YWx1ZScsIGZ1bmN0aW9uICh2YWwsIHByZXZWYWwpIHtcbiAgICAgICAgaWYgKGVkaXRvciAmJiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJiB2YWwgIT09IHByZXZWYWwgJiYgdmFsICE9PSBlZGl0b3IuZ2V0Q29udGVudCh7IGZvcm1hdDogY3R4LiRwcm9wcy5vdXRwdXRGb3JtYXQgfSkpIHtcbiAgICAgICAgICAgIGVkaXRvci5zZXRDb250ZW50KHZhbCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBjaGVja3MgaWYgdGhlIHYtbW9kZWwgc2hvcnRoYW5kIGlzIHVzZWQgKHdoaWNoIHNldHMgYW4gdi1vbjppbnB1dCBsaXN0ZW5lcikgYW5kIHRoZW4gYmluZHMgZWl0aGVyXG4gICAgLy8gc3BlY2lmaWVkIHRoZSBldmVudHMgb3IgZGVmYXVsdHMgdG8gXCJjaGFuZ2Uga2V5dXBcIiBldmVudCBhbmQgZW1pdHMgdGhlIGVkaXRvciBjb250ZW50IG9uIHRoYXQgZXZlbnRcbiAgICBpZiAoY3R4LiRsaXN0ZW5lcnMuaW5wdXQpIHtcbiAgICAgICAgYmluZE1vZGVsSGFuZGxlcnMoY3R4LCBlZGl0b3IpO1xuICAgIH1cbiAgICBiaW5kSGFuZGxlcnMoaW5pdEV2ZW50LCBjdHguJGxpc3RlbmVycywgZWRpdG9yKTtcbiAgICBjdHguaW5pdGlhbGl6ZWQgPSB0cnVlO1xufTtcbmV4cG9ydHMuaW5pdEVkaXRvciA9IGluaXRFZGl0b3I7XG52YXIgdW5pcXVlID0gMDtcbnZhciB1dWlkID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIHZhciB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICB2YXIgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMDAwMCk7XG4gICAgdW5pcXVlKys7XG4gICAgcmV0dXJuIHByZWZpeCArICdfJyArIHJhbmRvbSArIHVuaXF1ZSArIFN0cmluZyh0aW1lKTtcbn07XG5leHBvcnRzLnV1aWQgPSB1dWlkO1xudmFyIGlzVGV4dGFyZWEgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50ICE9PSBudWxsICYmIGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGV4dGFyZWEnO1xufTtcbmV4cG9ydHMuaXNUZXh0YXJlYSA9IGlzVGV4dGFyZWE7XG52YXIgbm9ybWFsaXplUGx1Z2luQXJyYXkgPSBmdW5jdGlvbiAocGx1Z2lucykge1xuICAgIGlmICh0eXBlb2YgcGx1Z2lucyA9PT0gJ3VuZGVmaW5lZCcgfHwgcGx1Z2lucyA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwbHVnaW5zKSA/IHBsdWdpbnMgOiBwbHVnaW5zLnNwbGl0KCcgJyk7XG59O1xudmFyIG1lcmdlUGx1Z2lucyA9IGZ1bmN0aW9uIChpbml0UGx1Z2lucywgaW5wdXRQbHVnaW5zKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZVBsdWdpbkFycmF5KGluaXRQbHVnaW5zKS5jb25jYXQobm9ybWFsaXplUGx1Z2luQXJyYXkoaW5wdXRQbHVnaW5zKSk7XG59O1xuZXhwb3J0cy5tZXJnZVBsdWdpbnMgPSBtZXJnZVBsdWdpbnM7XG52YXIgaXNOdWxsT3JVbmRlZmluZWQgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQ7IH07XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE4LXByZXNlbnQsIEVwaG94LCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIDIgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgU2NyaXB0TG9hZGVyXzEgPSByZXF1aXJlKFwiLi4vU2NyaXB0TG9hZGVyXCIpO1xudmFyIFRpbnlNQ0VfMSA9IHJlcXVpcmUoXCIuLi9UaW55TUNFXCIpO1xudmFyIFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vVXRpbHNcIik7XG52YXIgRWRpdG9yUHJvcFR5cGVzXzEgPSByZXF1aXJlKFwiLi9FZGl0b3JQcm9wVHlwZXNcIik7XG52YXIgcmVuZGVySW5saW5lID0gZnVuY3Rpb24gKGgsIGlkLCB0YWdOYW1lKSB7XG4gICAgcmV0dXJuIGgodGFnTmFtZSA/IHRhZ05hbWUgOiAnZGl2Jywge1xuICAgICAgICBhdHRyczogeyBpZDogaWQgfVxuICAgIH0pO1xufTtcbnZhciByZW5kZXJJZnJhbWUgPSBmdW5jdGlvbiAoaCwgaWQpIHtcbiAgICByZXR1cm4gaCgndGV4dGFyZWEnLCB7XG4gICAgICAgIGF0dHJzOiB7IGlkOiBpZCB9LFxuICAgICAgICBzdHlsZTogeyB2aXNpYmlsaXR5OiAnaGlkZGVuJyB9XG4gICAgfSk7XG59O1xudmFyIGluaXRpYWxpc2UgPSBmdW5jdGlvbiAoY3R4KSB7IHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGZpbmFsSW5pdCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBjdHguJHByb3BzLmluaXQpLCB7IHJlYWRvbmx5OiBjdHguJHByb3BzLmRpc2FibGVkLCBzZWxlY3RvcjogXCIjXCIgKyBjdHguZWxlbWVudElkLCBwbHVnaW5zOiBVdGlsc18xLm1lcmdlUGx1Z2lucyhjdHguJHByb3BzLmluaXQgJiYgY3R4LiRwcm9wcy5pbml0LnBsdWdpbnMsIGN0eC4kcHJvcHMucGx1Z2lucyksIHRvb2xiYXI6IGN0eC4kcHJvcHMudG9vbGJhciB8fCAoY3R4LiRwcm9wcy5pbml0ICYmIGN0eC4kcHJvcHMuaW5pdC50b29sYmFyKSwgaW5saW5lOiBjdHguaW5saW5lRWRpdG9yLCBzZXR1cDogZnVuY3Rpb24gKGVkaXRvcikge1xuICAgICAgICAgICAgY3R4LmVkaXRvciA9IGVkaXRvcjtcbiAgICAgICAgICAgIGVkaXRvci5vbignaW5pdCcsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBVdGlsc18xLmluaXRFZGl0b3IoZSwgY3R4LCBlZGl0b3IpOyB9KTtcbiAgICAgICAgICAgIGlmIChjdHguJHByb3BzLmluaXQgJiYgdHlwZW9mIGN0eC4kcHJvcHMuaW5pdC5zZXR1cCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGN0eC4kcHJvcHMuaW5pdC5zZXR1cChlZGl0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IH0pO1xuICAgIGlmIChVdGlsc18xLmlzVGV4dGFyZWEoY3R4LmVsZW1lbnQpKSB7XG4gICAgICAgIGN0eC5lbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSAnJztcbiAgICAgICAgY3R4LmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIH1cbiAgICBUaW55TUNFXzEuZ2V0VGlueW1jZSgpLmluaXQoZmluYWxJbml0KTtcbn07IH07XG5leHBvcnRzLkVkaXRvciA9IHtcbiAgICBwcm9wczogRWRpdG9yUHJvcFR5cGVzXzEuZWRpdG9yUHJvcHMsXG4gICAgY3JlYXRlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnRJZCA9IHRoaXMuJHByb3BzLmlkIHx8IFV0aWxzXzEudXVpZCgndGlueS12dWUnKTtcbiAgICAgICAgdGhpcy5pbmxpbmVFZGl0b3IgPSAodGhpcy4kcHJvcHMuaW5pdCAmJiB0aGlzLiRwcm9wcy5pbml0LmlubGluZSkgfHwgdGhpcy4kcHJvcHMuaW5saW5lO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgICBkaXNhYmxlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc2V0TW9kZSh0aGlzLmRpc2FibGVkID8gJ3JlYWRvbmx5JyA6ICdkZXNpZ24nKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLiRlbDtcbiAgICAgICAgaWYgKFRpbnlNQ0VfMS5nZXRUaW55bWNlKCkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGluaXRpYWxpc2UodGhpcykoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmVsZW1lbnQgJiYgdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBjaGFubmVsID0gdGhpcy4kcHJvcHMuY2xvdWRDaGFubmVsID8gdGhpcy4kcHJvcHMuY2xvdWRDaGFubmVsIDogJzUnO1xuICAgICAgICAgICAgdmFyIGFwaUtleSA9IHRoaXMuJHByb3BzLmFwaUtleSA/IHRoaXMuJHByb3BzLmFwaUtleSA6ICduby1hcGkta2V5JztcbiAgICAgICAgICAgIHZhciBzY3JpcHRTcmMgPSBVdGlsc18xLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMuJHByb3BzLnRpbnltY2VTY3JpcHRTcmMpID9cbiAgICAgICAgICAgICAgICBcImh0dHBzOi8vY2RuLnRpbnkuY2xvdWQvMS9cIiArIGFwaUtleSArIFwiL3RpbnltY2UvXCIgKyBjaGFubmVsICsgXCIvdGlueW1jZS5taW4uanNcIiA6XG4gICAgICAgICAgICAgICAgdGhpcy4kcHJvcHMudGlueW1jZVNjcmlwdFNyYztcbiAgICAgICAgICAgIFNjcmlwdExvYWRlcl8xLlNjcmlwdExvYWRlci5sb2FkKHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LCBzY3JpcHRTcmMsIGluaXRpYWxpc2UodGhpcykpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChUaW55TUNFXzEuZ2V0VGlueW1jZSgpICE9PSBudWxsKSB7XG4gICAgICAgICAgICBUaW55TUNFXzEuZ2V0VGlueW1jZSgpLnJlbW92ZSh0aGlzLmVkaXRvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRlYWN0aXZhdGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmlubGluZUVkaXRvcikge1xuICAgICAgICAgICAgdGhpcy5jYWNoZSA9IHRoaXMuZWRpdG9yLmdldENvbnRlbnQoKTtcbiAgICAgICAgICAgIChfYSA9IFRpbnlNQ0VfMS5nZXRUaW55bWNlKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmUodGhpcy5lZGl0b3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlubGluZUVkaXRvciAmJiB0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBpbml0aWFsaXNlKHRoaXMpKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5saW5lRWRpdG9yID8gcmVuZGVySW5saW5lKGgsIHRoaXMuZWxlbWVudElkLCB0aGlzLiRwcm9wcy50YWdOYW1lKSA6IHJlbmRlcklmcmFtZShoLCB0aGlzLmVsZW1lbnRJZCk7XG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTgtcHJlc2VudCwgRXBob3gsIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgMiBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lZGl0b3JQcm9wcyA9IHtcbiAgICBhcGlLZXk6IFN0cmluZyxcbiAgICBjbG91ZENoYW5uZWw6IFN0cmluZyxcbiAgICBpZDogU3RyaW5nLFxuICAgIGluaXQ6IE9iamVjdCxcbiAgICBpbml0aWFsVmFsdWU6IFN0cmluZyxcbiAgICBpbmxpbmU6IEJvb2xlYW4sXG4gICAgbW9kZWxFdmVudHM6IFtTdHJpbmcsIEFycmF5XSxcbiAgICBwbHVnaW5zOiBbU3RyaW5nLCBBcnJheV0sXG4gICAgdGFnTmFtZTogU3RyaW5nLFxuICAgIHRvb2xiYXI6IFtTdHJpbmcsIEFycmF5XSxcbiAgICB2YWx1ZTogU3RyaW5nLFxuICAgIGRpc2FibGVkOiBCb29sZWFuLFxuICAgIHRpbnltY2VTY3JpcHRTcmM6IFN0cmluZyxcbiAgICBvdXRwdXRGb3JtYXQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChwcm9wKSB7IHJldHVybiBwcm9wID09PSAnaHRtbCcgfHwgcHJvcCA9PT0gJ3RleHQnOyB9XG4gICAgfSxcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE4LXByZXNlbnQsIEVwaG94LCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIDIgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFZGl0b3JfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvRWRpdG9yXCIpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRWRpdG9yXzEuRWRpdG9yO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIuZHJvcC1hcmVhW2RhdGEtdi1lZTRmZWQwY106bm90KC5kcm9wLXNtKXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtoZWlnaHQ6MjAwcHg7YmFja2dyb3VuZDojZmZmO2JvcmRlcjoxcHggZGFzaGVkICNhZmFmYWY7Ym9yZGVyLXJhZGl1czo4cHg7b3ZlcmZsb3c6aGlkZGVufSNkcm9wLWFyZWEuZm9jdXNbZGF0YS12LWVlNGZlZDBjXXtiYWNrZ3JvdW5kOiNmOGY4Zjh9LmhvdmVyW2RhdGEtdi1lZTRmZWQwY117ZGlzcGxheTpub25lfS5mb2N1cyAuaGlkZVtkYXRhLXYtZWU0ZmVkMGNde2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmZvY3VzIC5ob3ZlcltkYXRhLXYtZWU0ZmVkMGNde2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50fXBbZGF0YS12LWVlNGZlZDBjXXttYXJnaW4tdG9wOjB9LmRyb3AtYXJlYTpub3QoLmRyb3Atc20pIC5kcm9wLWZvcm1bZGF0YS12LWVlNGZlZDBjXXtwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ei1pbmRleDo1MH0uZHJvcC1idG5bZGF0YS12LWVlNGZlZDBjXXtkaXNwbGF5OmlubGluZS1ibG9jaztjdXJzb3I6cG9pbnRlcjttaW4td2lkdGg6MTUwcHg7Ym9yZGVyLXJhZGl1czo0cHg7aGVpZ2h0OjM1cHg7cGFkZGluZzoxMHB4O2JhY2tncm91bmQ6I2Y4ZjhmODtmb250LXdlaWdodDo0MDA7Zm9udC1zdHlsZTpub3JtYWw7bGluZS1oZWlnaHQ6MTdweDtmb250LXNpemU6MThweDttYXJnaW4tYm90dG9tOjEwcHg7dGV4dC1hbGlnbjpjZW50ZXJ9LmRyb3Atc20gLmRyb3AtYnRuW2RhdGEtdi1lZTRmZWQwY117bWluLXdpZHRoOjEwMCV9I2ZpbGVFbGVtW2RhdGEtdi1lZTRmZWQwY117ZGlzcGxheTpub25lfS5maWxlLWRlc2NbZGF0YS12LWVlNGZlZDBjXXtmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDo1MDA7Zm9udC1zaXplOjE2cHg7bGluZS1oZWlnaHQ6MjJweDtjb2xvcjojNGE0YTRhfS5kcm9wLXNtIC5maWxlLWRlc2NbZGF0YS12LWVlNGZlZDBjXXtkaXNwbGF5Om5vbmV9LmZvcm1hdC1maWxlLWRlc2NbZGF0YS12LWVlNGZlZDBjXXtmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDo1MDA7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MTlweDt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojYWZhZmFmfVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL0Ryb3BBcmVhLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUEyREEsMENBQ0EsaUJBQUEsQ0FDQSxVQUFBLENBQ0EsWUFBQSxDQUNBLHNCQUFBLENBQ0Esa0JBQUEsQ0FDQSxZQUFBLENBQ0EsZUFBQSxDQUNBLHlCQUFBLENBQ0EsaUJBQUEsQ0FDQSxlQUNBLENBRUEsa0NBQ0Esa0JBQ0EsQ0FFQSx3QkFDQSxZQUNBLENBRUEsOEJBQ0Esc0JBQ0EsQ0FFQSwrQkFDQSx1QkFDQSxDQUVBLG1CQUNBLFlBQ0EsQ0FFQSxxREFDQSxpQkFBQSxDQUNBLFlBQUEsQ0FDQSxxQkFBQSxDQUNBLHNCQUFBLENBQ0Esa0JBQUEsQ0FDQSxVQUFBLENBQ0EsV0FBQSxDQUNBLFVBQ0EsQ0FHQSwyQkFDQSxvQkFBQSxDQUNBLGNBQUEsQ0FDQSxlQUFBLENBQ0EsaUJBQUEsQ0FDQSxXQUFBLENBQ0EsWUFBQSxDQUNBLGtCQUFBLENBQ0EsZUFBQSxDQUNBLGlCQUFBLENBQ0EsZ0JBQUEsQ0FDQSxjQUFBLENBQ0Esa0JBQUEsQ0FDQSxpQkFDQSxDQUNBLG9DQUNBLGNBQ0EsQ0FFQSwyQkFDQSxZQUNBLENBRUEsNEJBRUEsaUJBQUEsQ0FDQSxlQUFBLENBQ0EsY0FBQSxDQUNBLGdCQUFBLENBQ0EsYUFDQSxDQUVBLHFDQUNBLFlBQ0EsQ0FDQSxtQ0FDQSxpQkFBQSxDQUNBLGVBQUEsQ0FDQSxjQUFBLENBQ0EsZ0JBQUEsQ0FDQSxpQkFBQSxDQUNBLGFBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcclxcbiAgICA8ZGl2IGlkPVxcXCJkcm9wLWFyZWFcXFwiIGNsYXNzPVxcXCJkcm9wLWFyZWFcXFwiIDpjbGFzcz1cXFwiJHZ1ZXRpZnkuYnJlYWtwb2ludC5zbUFuZERvd24gPyBbJ2Ryb3Atc20nXSA6IFtdXFxcIj5cXHJcXG4gICAgICAgIDxmb3JtIGNsYXNzPVxcXCJkcm9wLWZvcm1cXFwiPlxcclxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJmaWxlXFxcIiBpZD1cXFwiZmlsZUVsZW1cXFwiIG11bHRpcGxlIGFjY2VwdD1cXFwiaW1hZ2UvKlxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgQGNoYW5nZT1cXFwiKGUpID0+ICRlbWl0KCdjaGFuZ2UnLCBlKVxcXCIgY2xhc3M9XFxcImhpZGVcXFwiPlxcclxcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiZHJvcC1idG5cXFwiIGZvcj1cXFwiZmlsZUVsZW1cXFwiPnt7IXlldCA/ICfQl9Cw0LPRgNGD0LfQuNGC0Ywg0YTQvtGC0L4nIDogJ9CX0LDQs9GA0YPQt9C40YLRjCDQtdGJ0LUnfX08L2xhYmVsPlxcclxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJmb3JtYXQtZmlsZS1kZXNjXFxcIj7QpNC+0YDQvNCw0YIg4oCTIGpwZywgcG5nPC9wPlxcclxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJmaWxlLWRlc2MgaG92ZXJcXFwiPtCe0YLQv9GD0YHRgtC40YLQtSDRhNC+0YLQvtCz0YDQsNGE0LjRjiDRgdGO0LTQsDwvcD5cXHJcXG4gICAgICAgIDwvZm9ybT5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC90ZW1wbGF0ZT5cXHJcXG5cXHJcXG48c2NyaXB0PlxcclxcbiAgICBleHBvcnQgZGVmYXVsdCB7XFxyXFxuICAgICAgICBuYW1lOiBcXFwiRHJvcEFyZWFcXFwiLFxcclxcbiAgICAgICAgZGF0YTogKHZtKSA9PiAoe3ZtfSksXFxyXFxuICAgICAgICBwcm9wczogWyd5ZXQnXSxcXHJcXG4gICAgICAgIG1vdW50ZWQodm0pIHtcXHJcXG4gICAgICAgICAgICBsZXQgZHJvcEFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcC1hcmVhJyk7XFxyXFxuICAgICAgICAgICAgWydkcmFnZW50ZXInLCAnZHJhZ292ZXInLCAnZHJhZ2xlYXZlJywgJ2Ryb3AnXS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgIGRyb3BBcmVhLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBwcmV2ZW50RGVmYXVsdHMsIGZhbHNlKVxcclxcbiAgICAgICAgICAgIH0pXFxyXFxuXFxyXFxuICAgICAgICAgICAgZnVuY3Rpb24gcHJldmVudERlZmF1bHRzKGUpIHtcXHJcXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXFxyXFxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcXHJcXG4gICAgICAgICAgICB9XFxyXFxuXFxyXFxuICAgICAgICAgICAgWydkcmFnZW50ZXInLCAnZHJhZ292ZXInXS5mb3JFYWNoKGV2ZW50TmFtZSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgIGRyb3BBcmVhLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmb2N1cywgZmFsc2UpXFxyXFxuICAgICAgICAgICAgfSk7XFxyXFxuICAgICAgICAgICAgWydkcmFnbGVhdmUnLCAnZHJvcCddLmZvckVhY2goZXZlbnROYW1lID0+IHtcXHJcXG4gICAgICAgICAgICAgICAgZHJvcEFyZWEuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHVuZm9jdXMsIGZhbHNlKVxcclxcbiAgICAgICAgICAgIH0pO1xcclxcblxcclxcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZvY3VzKGUpIHtcXHJcXG4gICAgICAgICAgICAgICAgZHJvcEFyZWEuY2xhc3NMaXN0LmFkZCgnZm9jdXMnKVxcclxcbiAgICAgICAgICAgIH1cXHJcXG5cXHJcXG4gICAgICAgICAgICBmdW5jdGlvbiB1bmZvY3VzKGUpIHtcXHJcXG4gICAgICAgICAgICAgICAgZHJvcEFyZWEuY2xhc3NMaXN0LnJlbW92ZSgnZm9jdXMnKVxcclxcbiAgICAgICAgICAgIH1cXHJcXG5cXHJcXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEcm9wID0gKGUpID0+IHtcXHJcXG4gICAgICAgICAgICAgICAgbGV0IGR0ID0gZS5kYXRhVHJhbnNmZXJcXHJcXG4gICAgICAgICAgICAgICAgbGV0IGZpbGVzID0gZHQuZmlsZXNcXHJcXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVGaWxlcyhmaWxlcylcXHJcXG4gICAgICAgICAgICB9XFxyXFxuICAgICAgICAgICAgZHJvcEFyZWEuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZURyb3AsIGZhbHNlKTtcXHJcXG4gICAgICAgIH0sXFxyXFxuICAgICAgICBtZXRob2RzOiB7XFxyXFxuICAgICAgICAgICAgaGFuZGxlRmlsZXMoZmlsZXMpIHtcXHJcXG4gICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywge3RhcmdldDp7ZmlsZXN9fSk7XFxyXFxuICAgICAgICAgICAgfVxcclxcbiAgICAgICAgfVxcclxcbiAgICB9XFxyXFxuPC9zY3JpcHQ+XFxyXFxuXFxyXFxuPHN0eWxlIHNjb3BlZD5cXHJcXG4gICAgLmRyb3AtYXJlYTpub3QoLmRyb3Atc20pIHtcXHJcXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gICAgICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICAgICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgICAgIGhlaWdodDogMjAwcHg7XFxyXFxuICAgICAgICBiYWNrZ3JvdW5kOiAjRkZGRkZGO1xcclxcbiAgICAgICAgYm9yZGVyOiAxcHggZGFzaGVkICNBRkFGQUY7XFxyXFxuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XFxyXFxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgICNkcm9wLWFyZWEuZm9jdXMge1xcclxcbiAgICAgICAgYmFja2dyb3VuZDogI0Y4RjhGODtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuaG92ZXIge1xcclxcbiAgICAgICAgZGlzcGxheTogbm9uZTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuZm9jdXMgLmhpZGUge1xcclxcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5mb2N1cyAuaG92ZXIge1xcclxcbiAgICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICBwIHtcXHJcXG4gICAgICAgIG1hcmdpbi10b3A6IDA7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLmRyb3AtYXJlYTpub3QoLmRyb3Atc20pIC5kcm9wLWZvcm0ge1xcclxcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICAgICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgICAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgICAgIGhlaWdodDogMTAwJTtcXHJcXG4gICAgICAgIHotaW5kZXg6IDUwO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuXFxyXFxuICAgIC5kcm9wLWJ0biB7XFxyXFxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICAgICAgICBtaW4td2lkdGg6IDE1MHB4O1xcclxcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xcclxcbiAgICAgICAgaGVpZ2h0OiAzNXB4O1xcclxcbiAgICAgICAgcGFkZGluZzogMTBweDtcXHJcXG4gICAgICAgIGJhY2tncm91bmQ6ICNGOEY4Rjg7XFxyXFxuICAgICAgICBmb250LXdlaWdodDogNDAwO1xcclxcbiAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xcclxcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE3cHg7XFxyXFxuICAgICAgICBmb250LXNpemU6IDE4cHg7XFxyXFxuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcclxcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgICB9XFxyXFxuICAgIC5kcm9wLXNtIC5kcm9wLWJ0bntcXHJcXG4gICAgICAgIG1pbi13aWR0aDogMTAwJTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAjZmlsZUVsZW0ge1xcclxcbiAgICAgICAgZGlzcGxheTogbm9uZTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuZmlsZS1kZXNjIHtcXHJcXG5cXHJcXG4gICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcXHJcXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XFxyXFxuICAgICAgICBmb250LXNpemU6IDE2cHg7XFxyXFxuICAgICAgICBsaW5lLWhlaWdodDogMjJweDtcXHJcXG4gICAgICAgIGNvbG9yOiAjNEE0QTRBO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5kcm9wLXNtIC5maWxlLWRlc2Mge1xcclxcbiAgICAgICAgZGlzcGxheTogbm9uZVxcclxcbiAgICB9XFxyXFxuICAgIC5mb3JtYXQtZmlsZS1kZXNjIHtcXHJcXG4gICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcXHJcXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XFxyXFxuICAgICAgICBmb250LXNpemU6IDE0cHg7XFxyXFxuICAgICAgICBsaW5lLWhlaWdodDogMTlweDtcXHJcXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgICAgIGNvbG9yOiAjQUZBRkFGO1xcclxcbiAgICB9XFxyXFxuPC9zdHlsZT5cXHJcXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIuc2l0ZS1waG90by1jYXJkW2RhdGEtdi01MDNmMmFmYl17cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyLXJhZGl1czo4cHg7b3ZlcmZsb3c6aGlkZGVufS5zaXRlLXBob3RvLWNhcmQuZmlsbGVkW2RhdGEtdi01MDNmMmFmYl17YmFja2dyb3VuZC1jb2xvcjojZjhmOGY4fS5zaXRlLXBob3RvLWNhcmQuZm9jdXNlZFtkYXRhLXYtNTAzZjJhZmJdLC5zaXRlLXBob3RvLWNhcmRbZGF0YS12LTUwM2YyYWZiXTpob3Zlcntib3gtc2hhZG93OjAgMCA5cHggaHNsYSgwLDAlLDU0LjklLC40OSk7Ym9yZGVyLXJhZGl1czo4cHh9LnNpdGUtcGhvdG8tY2FyZFtkYXRhLXYtNTAzZjJhZmJdOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCI7ZGlzcGxheTpibG9jaztwYWRkaW5nLWJvdHRvbTo1NiV9LnNpdGUtcGhvdG8tY2FyZC1hY3Rpb25zW2RhdGEtdi01MDNmMmFmYl17cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDtjdXJzb3I6cG9pbnRlcn0uc2l0ZS1waG90by1jYXJkLWNvbnRlbnRbZGF0YS12LTUwM2YyYWZiXXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtjdXJzb3I6cG9pbnRlcn0uZWRpdC1waG90by1pY29uW2RhdGEtdi01MDNmMmFmYl17bWFyZ2luLWxlZnQ6OHB4fVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL0VkaXRQaG90b0NhcmQudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQW9KQSxrQ0FDQSxpQkFBQSxDQUNBLFVBQUEsQ0FDQSxlQUFBLENBR0EsaUJBQUEsQ0FDQSxlQUNBLENBRUEseUNBQ0Esd0JBQ0EsQ0FFQSxrRkFDQSx1Q0FBQSxDQUNBLGlCQUNBLENBRUEsd0NBQ0EsVUFBQSxDQUNBLGFBQUEsQ0FDQSxrQkFDQSxDQUVBLDBDQUNBLGlCQUFBLENBQ0EsT0FBQSxDQUNBLGNBQ0EsQ0FFQSwwQ0FDQSxpQkFBQSxDQUNBLFVBQUEsQ0FDQSxXQUFBLENBQ0EsWUFBQSxDQUNBLHNCQUFBLENBQ0EscUJBQUEsQ0FDQSxjQUNBLENBRUEsa0NBQ0EsZUFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcInNpdGUtcGhvdG8tY2FyZFxcXCJcXHJcXG4gICAgICAgICA6Y2xhc3M9XFxcIntmb2N1c2VkOiBmb2N1cywgZmlsbGVkfVxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzaXRlLXBob3RvLWNhcmQtY29udGVudFxcXCIgc3R5bGU9XFxcInotaW5kZXg6IDE7XFxcIj5cXHJcXG4gICAgICAgICAgICA8c2xvdCBuYW1lPVxcXCJkZWZhdWx0XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPHYtaW1nIHYtaWY9XFxcImxvYWRlZCAmJiBzcmNcXFwiIDpzcmM9XFxcInNyY1xcXCIgY292ZXJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD1cXFwiMTAwJVxcXCIgQGNsaWNrPVxcXCIkZW1pdCgnY2xpY2snLCAkYXR0cnNbJ3ZhbHVlJ10pOyBvcGVuPXRydWVcXFwiLz5cXHJcXG4gICAgICAgICAgICAgICAgPHYtcm93IHYtZWxzZS1pZj1cXFwiIWxvYWRlZCAmJiAhZXJyb3JcXFwiIHhzPVxcXCIxMlxcXCIgY2xhc3M9XFxcInBhLThcXFwiIHN0eWxlPVxcXCJhbGlnbi1pdGVtczogY2VudGVyXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxwcm9ncmVzcy1iYXIgOnByb2dyZXNzPVxcXCJwcm9ncmVzc1xcXCIvPlxcclxcbiAgICAgICAgICAgICAgICA8L3Ytcm93PlxcclxcbiAgICAgICAgICAgIDwvc2xvdD5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwic2l0ZS1waG90by1jYXJkLWFjdGlvbnNcXFwiIHN0eWxlPVxcXCJ6LWluZGV4OiAyO1xcXCI+XFxyXFxuICAgICAgICAgICAgPHNsb3QgbmFtZT1cXFwiYWN0aW9uc1xcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDx2LXJvdyB4cz1cXFwiMTJcXFwiIGNsYXNzPVxcXCJwbC01IHByLTUgcHQtMiBqdXN0aWZ5LWVuZFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8di1idG4gZmFiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hbGxcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XFxcIiRlbWl0KCdkZWxldGUnKVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwibXItM1xcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHYtaWNvbj5tZGktZGVsZXRlPC92LWljb24+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L3YtYnRuPlxcclxcbiAgICAgICAgICAgICAgICA8L3Ytcm93PlxcclxcbiAgICAgICAgICAgIDwvc2xvdD5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPHYtZGlhbG9nIHYtbW9kZWw9XFxcIm9wZW5cXFwiIHYtaWY9XFxcIm9wZW5cXFwiIGNvbnRlbnQtY2xhc3M9XFxcInNtLXBob3RvLWRpYWxvZ1xcXCJcXHJcXG4gICAgICAgICAgICAgICAgICA6ZnVsbHNjcmVlbj1cXFwidHJ1ZVxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZGlhbG9nLWltYWdlXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPHYtaW1nIHYtaWY9XFxcImxvYWRlZCAmJiBzcmNcXFwiIDpzcmM9XFxcInNyY1xcXCIgbWF4LWhlaWdodD1cXFwiOTB2aFxcXCIgY29udGFpbi8+XFxyXFxuICAgICAgICAgICAgICAgIDx2LWJ0biBpY29uIEBjbGljaz1cXFwiJGVtaXQoJ2ZvY3VzT3V0Jyk7IG9wZW49ZmFsc2U7XFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XFxcImdyYXlcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiY2xvc2UtYnRuXFxcIiA+PHYtaWNvbj5tZGktY2xvc2U8L3YtaWNvbj48L3YtYnRuPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPC92LWRpYWxvZz5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC90ZW1wbGF0ZT5cXHJcXG5cXHJcXG48c2NyaXB0PlxcclxcbiAgICBpbXBvcnQge2I2NFRvQmxvYiwgY29tcHJlc3N9IGZyb20gXFxcIi4uLy4uL2ltYWdlXFxcIjtcXHJcXG4gICAgaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gXFxcIi4vUHJvZ3Jlc3NCYXJcXFwiO1xcclxcblxcclxcbiAgICBleHBvcnQgZGVmYXVsdCB7XFxyXFxuICAgICAgICBuYW1lOiBcXFwiRWRpdFBob3RvQ2FyZFxcXCIsXFxyXFxuICAgICAgICBjb21wb25lbnRzOiB7UHJvZ3Jlc3NCYXJ9LFxcclxcbiAgICAgICAgcHJvcHM6IHtcXHJcXG4gICAgICAgICAgICBmb2N1czoge3R5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlLH0sXFxyXFxuICAgICAgICAgICAgcHJlbG9hZDoge3R5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUsfSxcXHJcXG4gICAgICAgICAgICBjb3Zlcjoge3R5cGU6IFN0cmluZywgZGVmYXVsdDogXFxcIlxcXCJ9LFxcclxcbiAgICAgICAgICAgIGZpbGxlZDoge3R5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlfSxcXHJcXG4gICAgICAgICAgICBmaWxlOiB7dHlwZTogRmlsZSB8IFN0cmluZ31cXHJcXG4gICAgICAgIH0sXFxyXFxuICAgICAgICBkYXRhOiAodm0pID0+ICh7XFxyXFxuICAgICAgICAgICAgb3BlbjogZmFsc2UsXFxyXFxuICAgICAgICAgICAgZm9jdXNlZDogISF2bS4kYXR0cnNbJ2ZvY3VzJ10sXFxyXFxuICAgICAgICAgICAgc3JjOiAnJyxcXHJcXG4gICAgICAgICAgICBsb2FkZWQ6IGZhbHNlLFxcclxcbiAgICAgICAgICAgIGVycm9yOiBmYWxzZSxcXHJcXG4gICAgICAgICAgICBwcm9ncmVzczogMCxcXHJcXG4gICAgICAgICAgICByb3RhdGVUaW1lb3V0OiBudWxsLFxcclxcbiAgICAgICAgfSksXFxyXFxuICAgICAgICBtb3VudGVkKCkge1xcclxcbiAgICAgICAgICAgIHRoaXMudXBsb2FkKHRoaXMuZmlsZSlcXHJcXG4gICAgICAgIH0sXFxyXFxuICAgICAgICBjb21wdXRlZDoge1xcclxcbiAgICAgICAgICAgIGlzQ292ZXIoKSB7XFxyXFxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvdmVyICYmIHRoaXMuc3JjLmluZGV4T2YodGhpcy5jb3ZlcikgIT09IC0xXFxyXFxuICAgICAgICAgICAgfVxcclxcbiAgICAgICAgfSxcXHJcXG4gICAgICAgIG1ldGhvZHM6IHtcXHJcXG4gICAgICAgICAgICByb3RhdGUoKSB7XFxyXFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZVRpbWVvdXQpIHtcXHJcXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJvdGF0ZVRpbWVvdXQpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVUaW1lb3V0ID0gbnVsbDtcXHJcXG4gICAgICAgICAgICAgICAgfVxcclxcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbWcgPSBuZXcgSW1hZ2UoKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9IFxcXCJhbm9ueW1vdXNcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb21wcmVzc1VybCA9IGNvbXByZXNzKGltZywgKGN0eCwgY2FudmFzKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKDkwICogTWF0aC5QSSAvIDE4MCk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAtaW1nLndpZHRoIC8gMiwgLWltZy53aWR0aCAvIDIpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBibG9iID0gYjY0VG9CbG9iKGNvbXByZXNzVXJsLnNwbGl0KCcsJylbMV0sICdpbWFnZS9qcGVnJyk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGxvYWQoYmxvYiwgdGhpcy5zcmMuc3BsaXQoJy8nKS5yZXZlcnNlKClbMF0pO1xcclxcbiAgICAgICAgICAgICAgICAgICAgfTtcXHJcXG4gICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSB0aGlzLnNyYztcXHJcXG4gICAgICAgICAgICAgICAgfSwgMTAwMClcXHJcXG4gICAgICAgICAgICB9LFxcclxcbiAgICAgICAgICAgIHJlYWRMb2NhbFNyYyhmaWxlKSB7XFxyXFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbGUgaW5zdGFuY2VvZiBCbG9iKSB7XFxyXFxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNyYyA9IHJlYWRlci5yZXN1bHQ7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdGhpcy5zcmMpXFxyXFxuICAgICAgICAgICAgICAgICAgICB9XFxyXFxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLnNyYyA9IGZpbGU7XFxyXFxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcXHJcXG4gICAgICAgICAgICB9LFxcclxcbiAgICAgICAgICAgIHVwbG9hZChmaWxlLCBjYW52YXNGaWxlTmFtZSkge1xcclxcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucHJlbG9hZCB8fCAhKGZpbGUgaW5zdGFuY2VvZiBCbG9iKSkge1xcclxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkTG9jYWxTcmMoZmlsZSk7XFxyXFxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XFxyXFxuICAgICAgICAgICAgICAgIH1cXHJcXG4gICAgICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXFxyXFxuICAgICAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XFxyXFxuICAgICAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpXFxyXFxuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUsIGNhbnZhc0ZpbGVOYW1lIHx8IGZpbGUubmFtZSlcXHJcXG4gICAgICAgICAgICAgICAgeGhyLm9wZW4oJ1BPU1QnLCAnL3Bob3RvL3VwbG9hZCcsIHRydWUpXFxyXFxuICAgICAgICAgICAgICAgIHhoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcXFwicHJvZ3Jlc3NcXFwiLCAoZSkgPT4ge1xcclxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IChlLmxvYWRlZCAqIDEwMC4wIC8gZS50b3RhbCkgfHwgMTAwO1xcclxcbiAgICAgICAgICAgICAgICB9KVxcclxcbiAgICAgICAgICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIChlKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCAmJiB4aHIuc3RhdHVzID09IDIwMCkge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3JjID0gZS50YXJnZXQucmVzcG9uc2UudXJsO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGUudGFyZ2V0LnJlc3BvbnNlLnVybCk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlO1xcclxcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0ICYmIHhoci5zdGF0dXMgIT0gMjAwKSB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT0gNDAwICYmICFjYW52YXNGaWxlTmFtZSkge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL9CU0LvRjyDRhNCw0LnQu9C+0LIg0YEg0LHQuNGC0YvQvCDQvNCw0LnQvNGC0LjQv9C+0Lwg0YDQuNGB0YPQtdC8INC90LAg0LrQsNC90LLQtSDQuCDQvtGC0L/RgNCw0LLQu9GP0LXQvCDRgNC10LfRg9C70YzRgtCw0YJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXByZXNzVXJsID0gY29tcHJlc3MoaW1nKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBibG9iID0gYjY0VG9CbG9iKGNvbXByZXNzVXJsLnNwbGl0KCcsJylbMV0sICdpbWFnZS9qcGVnJyk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwbG9hZChibG9iLCBmaWxlLm5hbWUpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRMb2NhbFNyYyhmaWxlKVxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB0aGlzLmxvYWRlZCA9IHRydWU7XFxyXFxuICAgICAgICAgICAgICAgICAgICB9XFxyXFxuXFxyXFxuICAgICAgICAgICAgICAgIH0pXFxyXFxuICAgICAgICAgICAgICAgIHhoci5zZW5kKGZvcm1EYXRhKVxcclxcbiAgICAgICAgICAgIH1cXHJcXG4gICAgICAgIH0sXFxyXFxuICAgICAgICB3YXRjaDoge1xcclxcbiAgICAgICAgICAgIGZpbGUobnYpIHtcXHJcXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBudiA9PT0gJ3N0cmluZycpIHRoaXMuc3JjID0gbnY7XFxyXFxuICAgICAgICAgICAgfVxcclxcbiAgICAgICAgfVxcclxcbiAgICB9XFxyXFxuPC9zY3JpcHQ+XFxyXFxuXFxyXFxuPHN0eWxlIHNjb3BlZD5cXHJcXG4gICAgLnNpdGUtcGhvdG8tY2FyZCB7XFxyXFxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuICAgICAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgICAgIGJhY2tncm91bmQ6ICNGRkZGRkY7XFxyXFxuICAgICAgICAvKiBHcmV5IDgwMCAqL1xcclxcblxcclxcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xcclxcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuc2l0ZS1waG90by1jYXJkLmZpbGxlZCB7XFxyXFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjhGOEY4O1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5zaXRlLXBob3RvLWNhcmQuZm9jdXNlZCwgLnNpdGUtcGhvdG8tY2FyZDpob3ZlciB7XFxyXFxuICAgICAgICBib3gtc2hhZG93OiAwcHggMHB4IDlweCByZ2JhKDE0MCwgMTQwLCAxNDAsIDAuNDkpO1xcclxcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5zaXRlLXBob3RvLWNhcmQ6YWZ0ZXIge1xcclxcbiAgICAgICAgY29udGVudDogXFxcIlxcXCI7XFxyXFxuICAgICAgICBkaXNwbGF5OiBibG9jaztcXHJcXG4gICAgICAgIHBhZGRpbmctYm90dG9tOiA1NiU7IC8qIDE2LzkgKi9cXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuc2l0ZS1waG90by1jYXJkLWFjdGlvbnMge1xcclxcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICAgICAgcmlnaHQ6IDA7XFxyXFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLnNpdGUtcGhvdG8tY2FyZC1jb250ZW50IHtcXHJcXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgICAgICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuZWRpdC1waG90by1pY29uIHtcXHJcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XFxyXFxuICAgIH1cXHJcXG48L3N0eWxlPlxcclxcbjxzdHlsZT5cXHJcXG5cXHJcXG4gICAgLnNtLXBob3RvLWRpYWxvZyAucGhvdG8tY292ZXIge1xcclxcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICAgICAgdG9wOiAzMnB4O1xcclxcbiAgICAgICAgbGVmdDogMzJweDtcXHJcXG4gICAgICAgIHotaW5kZXg6IDEwMTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuc20tcGhvdG8tZGlhbG9nIC5jbG9zZS1idG4ge1xcclxcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICAgICAgdG9wOiAzMnB4O1xcclxcbiAgICAgICAgcmlnaHQ6IDMycHg7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLnNtLXBob3RvLWRpYWxvZyAuYm90dG9tIHtcXHJcXG4gICAgICAgIHJpZ2h0OiAzMnB4O1xcclxcbiAgICAgICAgYm90dG9tOiAzMnB4O1xcclxcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xcclxcbiAgICAgICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLnNtLXBob3RvLWRpYWxvZyB7XFxyXFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgICAgICB6LWluZGV4OiAxMDA7XFxyXFxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xcclxcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxMDUsIDEwOSwgMTE2LCAwLjYpO1xcclxcbiAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpO1xcclxcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5kaWFsb2ctaW1hZ2UgLnYtaW1hZ2V7XFxyXFxuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XFxyXFxuICAgIH1cXHJcXG4gICAgLmRpYWxvZy1pbWFnZSB7XFxyXFxuICAgICAgICB3aWR0aDogZml0LWNvbnRlbnQ7XFxyXFxuICAgICAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xcclxcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xcclxcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICAgICAgcGFkZGluZzogMTZweDtcXHJcXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcXHJcXG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XFxyXFxuICAgIH1cXHJcXG48L3N0eWxlPlxcclxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi5zbS1waG90by1kaWFsb2cgLnBob3RvLWNvdmVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDozMnB4O2xlZnQ6MzJweDt6LWluZGV4OjEwMX0uc20tcGhvdG8tZGlhbG9nIC5jbG9zZS1idG57cG9zaXRpb246YWJzb2x1dGU7dG9wOjMycHg7cmlnaHQ6MzJweH0uc20tcGhvdG8tZGlhbG9nIC5ib3R0b217cmlnaHQ6MzJweDtib3R0b206MzJweDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDotd2Via2l0LWZpdC1jb250ZW50O3dpZHRoOi1tb3otZml0LWNvbnRlbnQ7d2lkdGg6Zml0LWNvbnRlbnQ7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvd30uc20tcGhvdG8tZGlhbG9ne3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTAwO2Rpc3BsYXk6ZmxleDtib3gtc2hhZG93Om5vbmUhaW1wb3J0YW50O2JhY2tncm91bmQ6cmdiYSgxMDUsMTA5LDExNiwuNik7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6Ymx1cigxMHB4KTtiYWNrZHJvcC1maWx0ZXI6Ymx1cigxMHB4KTthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uZGlhbG9nLWltYWdlLC5kaWFsb2ctaW1hZ2UgLnYtaW1hZ2V7Ym9yZGVyLXJhZGl1czo4cHh9LmRpYWxvZy1pbWFnZXt3aWR0aDotd2Via2l0LWZpdC1jb250ZW50O3dpZHRoOi1tb3otZml0LWNvbnRlbnQ7d2lkdGg6Zml0LWNvbnRlbnQ7aGVpZ2h0Oi13ZWJraXQtZml0LWNvbnRlbnQ7aGVpZ2h0Oi1tb3otZml0LWNvbnRlbnQ7aGVpZ2h0OmZpdC1jb250ZW50O21heC13aWR0aDoxMDAlO3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MTZweDtvdmVyZmxvdzpoaWRkZW59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvRWRpdFBob3RvQ2FyZC52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBbU1BLDhCQUNBLGlCQUFBLENBQ0EsUUFBQSxDQUNBLFNBQUEsQ0FDQSxXQUNBLENBRUEsNEJBQ0EsaUJBQUEsQ0FDQSxRQUFBLENBQ0EsVUFDQSxDQUVBLHlCQUNBLFVBQUEsQ0FDQSxXQUFBLENBQ0EsaUJBQUEsQ0FDQSx5QkFBQSxDQUFBLHNCQUFBLENBQUEsaUJBQUEsQ0FDQSxZQUFBLENBQ0Esa0JBQ0EsQ0FFQSxpQkFDQSxpQkFBQSxDQUNBLFdBQUEsQ0FDQSxZQUFBLENBQ0EseUJBQUEsQ0FDQSwrQkFBQSxDQUNBLGtDQUFBLENBQUEsMEJBQUEsQ0FDQSxrQkFBQSxDQUNBLHNCQUNBLENBS0EscUNBRkEsaUJBVUEsQ0FSQSxjQUNBLHlCQUFBLENBQUEsc0JBQUEsQ0FBQSxpQkFBQSxDQUNBLDBCQUFBLENBQUEsdUJBQUEsQ0FBQSxrQkFBQSxDQUNBLGNBQUEsQ0FDQSxpQkFBQSxDQUNBLFlBQUEsQ0FFQSxlQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwic2l0ZS1waG90by1jYXJkXFxcIlxcclxcbiAgICAgICAgIDpjbGFzcz1cXFwie2ZvY3VzZWQ6IGZvY3VzLCBmaWxsZWR9XFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInNpdGUtcGhvdG8tY2FyZC1jb250ZW50XFxcIiBzdHlsZT1cXFwiei1pbmRleDogMTtcXFwiPlxcclxcbiAgICAgICAgICAgIDxzbG90IG5hbWU9XFxcImRlZmF1bHRcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8di1pbWcgdi1pZj1cXFwibG9hZGVkICYmIHNyY1xcXCIgOnNyYz1cXFwic3JjXFxcIiBjb3ZlclxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVxcXCIxMDAlXFxcIiBAY2xpY2s9XFxcIiRlbWl0KCdjbGljaycsICRhdHRyc1sndmFsdWUnXSk7IG9wZW49dHJ1ZVxcXCIvPlxcclxcbiAgICAgICAgICAgICAgICA8di1yb3cgdi1lbHNlLWlmPVxcXCIhbG9hZGVkICYmICFlcnJvclxcXCIgeHM9XFxcIjEyXFxcIiBjbGFzcz1cXFwicGEtOFxcXCIgc3R5bGU9XFxcImFsaWduLWl0ZW1zOiBjZW50ZXJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHByb2dyZXNzLWJhciA6cHJvZ3Jlc3M9XFxcInByb2dyZXNzXFxcIi8+XFxyXFxuICAgICAgICAgICAgICAgIDwvdi1yb3c+XFxyXFxuICAgICAgICAgICAgPC9zbG90PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzaXRlLXBob3RvLWNhcmQtYWN0aW9uc1xcXCIgc3R5bGU9XFxcInotaW5kZXg6IDI7XFxcIj5cXHJcXG4gICAgICAgICAgICA8c2xvdCBuYW1lPVxcXCJhY3Rpb25zXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPHYtcm93IHhzPVxcXCIxMlxcXCIgY2xhc3M9XFxcInBsLTUgcHItNSBwdC0yIGp1c3RpZnktZW5kXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx2LWJ0biBmYWJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cXFwiJGVtaXQoJ2RlbGV0ZScpXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJtci0zXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8di1pY29uPm1kaS1kZWxldGU8L3YtaWNvbj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvdi1idG4+XFxyXFxuICAgICAgICAgICAgICAgIDwvdi1yb3c+XFxyXFxuICAgICAgICAgICAgPC9zbG90PlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8di1kaWFsb2cgdi1tb2RlbD1cXFwib3BlblxcXCIgdi1pZj1cXFwib3BlblxcXCIgY29udGVudC1jbGFzcz1cXFwic20tcGhvdG8tZGlhbG9nXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgIDpmdWxsc2NyZWVuPVxcXCJ0cnVlXFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJkaWFsb2ctaW1hZ2VcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8di1pbWcgdi1pZj1cXFwibG9hZGVkICYmIHNyY1xcXCIgOnNyYz1cXFwic3JjXFxcIiBtYXgtaGVpZ2h0PVxcXCI5MHZoXFxcIiBjb250YWluLz5cXHJcXG4gICAgICAgICAgICAgICAgPHYtYnRuIGljb24gQGNsaWNrPVxcXCIkZW1pdCgnZm9jdXNPdXQnKTsgb3Blbj1mYWxzZTtcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cXFwiZ3JheVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJjbG9zZS1idG5cXFwiID48di1pY29uPm1kaS1jbG9zZTwvdi1pY29uPjwvdi1idG4+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8L3YtZGlhbG9nPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L3RlbXBsYXRlPlxcclxcblxcclxcbjxzY3JpcHQ+XFxyXFxuICAgIGltcG9ydCB7YjY0VG9CbG9iLCBjb21wcmVzc30gZnJvbSBcXFwiLi4vLi4vaW1hZ2VcXFwiO1xcclxcbiAgICBpbXBvcnQgUHJvZ3Jlc3NCYXIgZnJvbSBcXFwiLi9Qcm9ncmVzc0JhclxcXCI7XFxyXFxuXFxyXFxuICAgIGV4cG9ydCBkZWZhdWx0IHtcXHJcXG4gICAgICAgIG5hbWU6IFxcXCJFZGl0UGhvdG9DYXJkXFxcIixcXHJcXG4gICAgICAgIGNvbXBvbmVudHM6IHtQcm9ncmVzc0Jhcn0sXFxyXFxuICAgICAgICBwcm9wczoge1xcclxcbiAgICAgICAgICAgIGZvY3VzOiB7dHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UsfSxcXHJcXG4gICAgICAgICAgICBwcmVsb2FkOiB7dHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZSx9LFxcclxcbiAgICAgICAgICAgIGNvdmVyOiB7dHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcXFwiXFxcIn0sXFxyXFxuICAgICAgICAgICAgZmlsbGVkOiB7dHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2V9LFxcclxcbiAgICAgICAgICAgIGZpbGU6IHt0eXBlOiBGaWxlIHwgU3RyaW5nfVxcclxcbiAgICAgICAgfSxcXHJcXG4gICAgICAgIGRhdGE6ICh2bSkgPT4gKHtcXHJcXG4gICAgICAgICAgICBvcGVuOiBmYWxzZSxcXHJcXG4gICAgICAgICAgICBmb2N1c2VkOiAhIXZtLiRhdHRyc1snZm9jdXMnXSxcXHJcXG4gICAgICAgICAgICBzcmM6ICcnLFxcclxcbiAgICAgICAgICAgIGxvYWRlZDogZmFsc2UsXFxyXFxuICAgICAgICAgICAgZXJyb3I6IGZhbHNlLFxcclxcbiAgICAgICAgICAgIHByb2dyZXNzOiAwLFxcclxcbiAgICAgICAgICAgIHJvdGF0ZVRpbWVvdXQ6IG51bGwsXFxyXFxuICAgICAgICB9KSxcXHJcXG4gICAgICAgIG1vdW50ZWQoKSB7XFxyXFxuICAgICAgICAgICAgdGhpcy51cGxvYWQodGhpcy5maWxlKVxcclxcbiAgICAgICAgfSxcXHJcXG4gICAgICAgIGNvbXB1dGVkOiB7XFxyXFxuICAgICAgICAgICAgaXNDb3ZlcigpIHtcXHJcXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY292ZXIgJiYgdGhpcy5zcmMuaW5kZXhPZih0aGlzLmNvdmVyKSAhPT0gLTFcXHJcXG4gICAgICAgICAgICB9XFxyXFxuICAgICAgICB9LFxcclxcbiAgICAgICAgbWV0aG9kczoge1xcclxcbiAgICAgICAgICAgIHJvdGF0ZSgpIHtcXHJcXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlVGltZW91dCkge1xcclxcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucm90YXRlVGltZW91dCk7XFxyXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVRpbWVvdXQgPSBudWxsO1xcclxcbiAgICAgICAgICAgICAgICB9XFxyXFxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xcclxcbiAgICAgICAgICAgICAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gXFxcImFub255bW91c1xcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXByZXNzVXJsID0gY29tcHJlc3MoaW1nLCAoY3R4LCBjYW52YXMpID0+IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMik7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoOTAgKiBNYXRoLlBJIC8gMTgwKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIC1pbWcud2lkdGggLyAyLCAtaW1nLndpZHRoIC8gMik7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJsb2IgPSBiNjRUb0Jsb2IoY29tcHJlc3NVcmwuc3BsaXQoJywnKVsxXSwgJ2ltYWdlL2pwZWcnKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwbG9hZChibG9iLCB0aGlzLnNyYy5zcGxpdCgnLycpLnJldmVyc2UoKVswXSk7XFxyXFxuICAgICAgICAgICAgICAgICAgICB9O1xcclxcbiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IHRoaXMuc3JjO1xcclxcbiAgICAgICAgICAgICAgICB9LCAxMDAwKVxcclxcbiAgICAgICAgICAgIH0sXFxyXFxuICAgICAgICAgICAgcmVhZExvY2FsU3JjKGZpbGUpIHtcXHJcXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsZSBpbnN0YW5jZW9mIEJsb2IpIHtcXHJcXG4gICAgICAgICAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XFxyXFxuICAgICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4ge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3JjID0gcmVhZGVyLnJlc3VsdDtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLnNyYylcXHJcXG4gICAgICAgICAgICAgICAgICAgIH1cXHJcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuc3JjID0gZmlsZTtcXHJcXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlO1xcclxcbiAgICAgICAgICAgIH0sXFxyXFxuICAgICAgICAgICAgdXBsb2FkKGZpbGUsIGNhbnZhc0ZpbGVOYW1lKSB7XFxyXFxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wcmVsb2FkIHx8ICEoZmlsZSBpbnN0YW5jZW9mIEJsb2IpKSB7XFxyXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRMb2NhbFNyYyhmaWxlKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcXHJcXG4gICAgICAgICAgICAgICAgfVxcclxcbiAgICAgICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcXHJcXG4gICAgICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcXHJcXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKClcXHJcXG4gICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSwgY2FudmFzRmlsZU5hbWUgfHwgZmlsZS5uYW1lKVxcclxcbiAgICAgICAgICAgICAgICB4aHIub3BlbignUE9TVCcsICcvcGhvdG8vdXBsb2FkJywgdHJ1ZSlcXHJcXG4gICAgICAgICAgICAgICAgeGhyLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKFxcXCJwcm9ncmVzc1xcXCIsIChlKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gKGUubG9hZGVkICogMTAwLjAgLyBlLnRvdGFsKSB8fCAxMDA7XFxyXFxuICAgICAgICAgICAgICAgIH0pXFxyXFxuICAgICAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgKGUpID0+IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0ICYmIHhoci5zdGF0dXMgPT0gMjAwKSB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcmMgPSBlLnRhcmdldC5yZXNwb25zZS51cmw7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgZS50YXJnZXQucmVzcG9uc2UudXJsKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XFxyXFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHhoci5yZWFkeVN0YXRlID09IDQgJiYgeGhyLnN0YXR1cyAhPSAyMDApIHtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PSA0MDAgJiYgIWNhbnZhc0ZpbGVOYW1lKSB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v0JTQu9GPINGE0LDQudC70L7QsiDRgSDQsdC40YLRi9C8INC80LDQudC80YLQuNC/0L7QvCDRgNC40YHRg9C10Lwg0L3QsCDQutCw0L3QstC1INC4INC+0YLQv9GA0LDQstC70Y/QtdC8INGA0LXQt9GD0LvRjNGC0LDRglxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1nID0gbmV3IEltYWdlKCk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tcHJlc3NVcmwgPSBjb21wcmVzcyhpbWcpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJsb2IgPSBiNjRUb0Jsb2IoY29tcHJlc3NVcmwuc3BsaXQoJywnKVsxXSwgJ2ltYWdlL2pwZWcnKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBsb2FkKGJsb2IsIGZpbGUubmFtZSk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZExvY2FsU3JjKGZpbGUpXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IHRoaXMubG9hZGVkID0gdHJ1ZTtcXHJcXG4gICAgICAgICAgICAgICAgICAgIH1cXHJcXG5cXHJcXG4gICAgICAgICAgICAgICAgfSlcXHJcXG4gICAgICAgICAgICAgICAgeGhyLnNlbmQoZm9ybURhdGEpXFxyXFxuICAgICAgICAgICAgfVxcclxcbiAgICAgICAgfSxcXHJcXG4gICAgICAgIHdhdGNoOiB7XFxyXFxuICAgICAgICAgICAgZmlsZShudikge1xcclxcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG52ID09PSAnc3RyaW5nJykgdGhpcy5zcmMgPSBudjtcXHJcXG4gICAgICAgICAgICB9XFxyXFxuICAgICAgICB9XFxyXFxuICAgIH1cXHJcXG48L3NjcmlwdD5cXHJcXG5cXHJcXG48c3R5bGUgc2NvcGVkPlxcclxcbiAgICAuc2l0ZS1waG90by1jYXJkIHtcXHJcXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gICAgICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICAgICAgYmFja2dyb3VuZDogI0ZGRkZGRjtcXHJcXG4gICAgICAgIC8qIEdyZXkgODAwICovXFxyXFxuXFxyXFxuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XFxyXFxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5zaXRlLXBob3RvLWNhcmQuZmlsbGVkIHtcXHJcXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGOEY4Rjg7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLnNpdGUtcGhvdG8tY2FyZC5mb2N1c2VkLCAuc2l0ZS1waG90by1jYXJkOmhvdmVyIHtcXHJcXG4gICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggOXB4IHJnYmEoMTQwLCAxNDAsIDE0MCwgMC40OSk7XFxyXFxuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLnNpdGUtcGhvdG8tY2FyZDphZnRlciB7XFxyXFxuICAgICAgICBjb250ZW50OiBcXFwiXFxcIjtcXHJcXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDU2JTsgLyogMTYvOSAqL1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5zaXRlLXBob3RvLWNhcmQtYWN0aW9ucyB7XFxyXFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgICAgICByaWdodDogMDtcXHJcXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuc2l0ZS1waG90by1jYXJkLWNvbnRlbnQge1xcclxcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICAgICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgICAgICBoZWlnaHQ6IDEwMCU7XFxyXFxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5lZGl0LXBob3RvLWljb24ge1xcclxcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDhweDtcXHJcXG4gICAgfVxcclxcbjwvc3R5bGU+XFxyXFxuPHN0eWxlPlxcclxcblxcclxcbiAgICAuc20tcGhvdG8tZGlhbG9nIC5waG90by1jb3ZlciB7XFxyXFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgICAgICB0b3A6IDMycHg7XFxyXFxuICAgICAgICBsZWZ0OiAzMnB4O1xcclxcbiAgICAgICAgei1pbmRleDogMTAxO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5zbS1waG90by1kaWFsb2cgLmNsb3NlLWJ0biB7XFxyXFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgICAgICB0b3A6IDMycHg7XFxyXFxuICAgICAgICByaWdodDogMzJweDtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuc20tcGhvdG8tZGlhbG9nIC5ib3R0b20ge1xcclxcbiAgICAgICAgcmlnaHQ6IDMycHg7XFxyXFxuICAgICAgICBib3R0b206IDMycHg7XFxyXFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgICAgICB3aWR0aDogZml0LWNvbnRlbnQ7XFxyXFxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuc20tcGhvdG8tZGlhbG9nIHtcXHJcXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgICAgIHotaW5kZXg6IDEwMDtcXHJcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgICAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XFxyXFxuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDEwNSwgMTA5LCAxMTYsIDAuNik7XFxyXFxuICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7XFxyXFxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLmRpYWxvZy1pbWFnZSAudi1pbWFnZXtcXHJcXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcXHJcXG4gICAgfVxcclxcbiAgICAuZGlhbG9nLWltYWdlIHtcXHJcXG4gICAgICAgIHdpZHRoOiBmaXQtY29udGVudDtcXHJcXG4gICAgICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XFxyXFxuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XFxyXFxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuICAgICAgICBwYWRkaW5nOiAxNnB4O1xcclxcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xcclxcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG4gICAgfVxcclxcbjwvc3R5bGU+XFxyXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLmZ1bGxbZGF0YS12LTZlYmY0ZWFhXXt3aWR0aDoxMDAlO3Bvc2l0aW9uOnJlbGF0aXZlO2JhY2tncm91bmQ6I2UxZTFlMX0uYWN0aXZlW2RhdGEtdi02ZWJmNGVhYV0sLmZ1bGxbZGF0YS12LTZlYmY0ZWFhXXtoZWlnaHQ6NHB4O2JvcmRlci1yYWRpdXM6MnB4fS5hY3RpdmVbZGF0YS12LTZlYmY0ZWFhXXtiYWNrZ3JvdW5kOiMyZTNlNGUhaW1wb3J0YW50fVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL1Byb2dyZXNzQmFyLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFnQkEsdUJBQ0EsVUFBQSxDQUNBLGlCQUFBLENBRUEsa0JBRUEsQ0FDQSxnREFKQSxVQUFBLENBRUEsaUJBTUEsQ0FKQSx5QkFFQSw0QkFFQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxyXFxuICAgIDx2LXJvdyBjbGFzcz1cXFwibWEtMFxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmdWxsXFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhY3RpdmVcXFwiIDpzdHlsZT1cXFwie3dpZHRoOiBwcm9ncmVzcysnJSd9XFxcIi8+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC92LXJvdz5cXHJcXG48L3RlbXBsYXRlPlxcclxcblxcclxcbjxzY3JpcHQ+XFxyXFxuICAgIGV4cG9ydCBkZWZhdWx0IHtcXHJcXG4gICAgICAgIHByb3BzOiBbJ3Byb2dyZXNzJ10sXFxyXFxuICAgICAgICBuYW1lOiBcXFwiUHJvZ3Jlc3NCYXJcXFwiXFxyXFxuICAgIH1cXHJcXG48L3NjcmlwdD5cXHJcXG5cXHJcXG48c3R5bGUgc2NvcGVkPlxcclxcbiAgICAuZnVsbHtcXHJcXG4gICAgICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICAgICAgaGVpZ2h0OiA0cHg7XFxyXFxuICAgICAgICBiYWNrZ3JvdW5kOiAjRTFFMUUxO1xcclxcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xcclxcbiAgICB9XFxyXFxuICAgIC5hY3RpdmV7XFxyXFxuICAgICAgICBoZWlnaHQ6IDRweDtcXHJcXG4gICAgICAgIGJhY2tncm91bmQ6ICMyZTNlNGUgIWltcG9ydGFudDtcXHJcXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcXHJcXG4gICAgfVxcclxcbjwvc3R5bGU+XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLnBob3RvLWlucHV0W2RhdGEtdi03MTAxMzBhMl17cG9zaXRpb246YWJzb2x1dGU7dmlzaWJpbGl0eTpoaWRkZW59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvcGhvdG8tbG9hZGVyLnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUEySEEsOEJBQ0EsaUJBQUEsQ0FDQSxpQkFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxyXFxuICAgIDx2LWNhcmQgY2xhc3M9XFxcImQtZmxleCBmbGV4LWNvbHVtbiBwdC00IHBiLTRcXFwiIGp1c3RpZnktY2VudGVyIGFsaWduLWNlbnRlciBlbGV2YXRpb249XFxcIjBcXFwiPlxcclxcbiAgICAgICAgPGRpdiB2LWlmPVxcXCJvbmUgJiYgbG9hZGVkUGhvdG9zLmxlbmd0aFxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIj57e2xvYWRlZFBob3Rvc1swXS5uYW1lfX08L2Rpdj5cXHJcXG4gICAgICAgIDx2LXJvdyB2LWlmPVxcXCIhb25lXFxcIiBjbGFzcz1cXFwiXFxcIj5cXHJcXG4gICAgICAgICAgICA8di1jb2wgeHM9XFxcIjZcXFwiIG1kPVxcXCIzXFxcIiBzbT1cXFwiNlxcXCIgdi1mb3I9XFxcIihwaG90bywgaSkgaW4gY2Fyb3VzZWxQaG90b3NcXFwiIDprZXk9XFxcImlcXFwiIHYtaWY9XFxcIiEhY2Fyb3VzZWxQaG90b3NbaV1cXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8ZWRpdC1waG90by1jYXJkXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgOnByZWxvYWQ9XFxcInByZWxvYWRcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgOmZpbGxlZD1cXFwidHJ1ZVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA6ZmlsZT1cXFwicGhvdG9cXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgQGRlbGV0ZT1cXFwiKCkgPT4gZGVsZXRlUGhvdG8ocGhvdG8sIGkpXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5cXHJcXG4gICAgICAgICAgICAgICAgLz5cXHJcXG4gICAgICAgICAgICA8L3YtY29sPlxcclxcbiAgICAgICAgICAgIDx2LWNvbCB4cz1cXFwiNlxcXCIgbWQ9XFxcIjNcXFwiIHNtPVxcXCI2XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPGVkaXQtcGhvdG8tY2FyZFxcclxcbiAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVxcXCIoKSA9PiAkcmVmcy5idG4uY2xpY2soKVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8ZHJvcC1hcmVhIEBjaGFuZ2U9XFxcImFkZFBob3RvXFxcIiA6eWV0PVxcXCJjYXJvdXNlbFBob3Rvcy5sZW5ndGhcXFwiLz5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LXNsb3Q6YWN0aW9ucz5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoaWRkZW5cXFwiPjwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cXHJcXG4gICAgICAgICAgICAgICAgPC9lZGl0LXBob3RvLWNhcmQ+XFxyXFxuICAgICAgICAgICAgPC92LWNvbD5cXHJcXG4gICAgICAgIDwvdi1yb3c+XFxyXFxuICAgIDwvdi1jYXJkPlxcclxcbjwvdGVtcGxhdGU+XFxyXFxuXFxyXFxuPHNjcmlwdD5cXHJcXG5cXHJcXG4gICAgaW1wb3J0IEVkaXRQaG90b0NhcmQgZnJvbSBcXFwiLi9FZGl0UGhvdG9DYXJkXFxcIjtcXHJcXG4gICAgaW1wb3J0IERyb3BBcmVhIGZyb20gXFxcIi4vRHJvcEFyZWFcXFwiO1xcclxcblxcclxcbiAgICBleHBvcnQgZGVmYXVsdCB7XFxyXFxuICAgICAgICBuYW1lOiAncGhvdG8tbG9hZGVyJyxcXHJcXG4gICAgICAgIHByb3BzOiB7XFxyXFxuICAgICAgICAgICAgcmFkaXVzOiB7XFxyXFxuICAgICAgICAgICAgICAgIHR5cGU6IE51bWJlcixcXHJcXG4gICAgICAgICAgICB9LFxcclxcbiAgICAgICAgICAgIG9uZToge1xcclxcbiAgICAgICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxcclxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBmYWxzZSxcXHJcXG4gICAgICAgICAgICB9LFxcclxcbiAgICAgICAgICAgIHBob3Rvczoge1xcclxcbiAgICAgICAgICAgICAgICB0eXBlOiBBcnJheSxcXHJcXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gKFtdKSxcXHJcXG4gICAgICAgICAgICB9LFxcclxcbiAgICAgICAgICAgIHByZWxvYWQ6IHtcXHJcXG4gICAgICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcXHJcXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsXFxyXFxuICAgICAgICAgICAgfVxcclxcbiAgICAgICAgfSxcXHJcXG4gICAgICAgIGNvbXBvbmVudHM6IHtEcm9wQXJlYSwgRWRpdFBob3RvQ2FyZH0sXFxyXFxuICAgICAgICBkYXRhOiAodm0pID0+ICh7XFxyXFxuICAgICAgICAgICAgICAgIG46IDAsXFxyXFxuICAgICAgICAgICAgICAgIHBob3RvOiAnJyxcXHJcXG4gICAgICAgICAgICAgICAgbG9hZGVkUGhvdG9zOiBbXSxcXHJcXG4gICAgICAgICAgICAgICAgZGVsZXRlZDogW10sXFxyXFxuICAgICAgICAgICAgICAgIGNhcm91c2VsUGhvdG9zOiB2bS5waG90b3MsXFxyXFxuICAgICAgICAgICAgICAgIGZpbGVJbWc6IG51bGwsXFxyXFxuICAgICAgICB9KSxcXHJcXG4gICAgICAgIHVwZGF0ZWQoKSB7XFxyXFxuICAgICAgICB9LFxcclxcbiAgICAgICAgbWV0aG9kczoge1xcclxcbiAgICAgICAgICAgIGRlbGV0ZVBob3RvKHBob3RvLCBjcGkpIHtcXHJcXG4gICAgICAgICAgICAgICAgaWYgKHBob3RvLm5hbWUpIHtcXHJcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkUGhvdG9zLmZvckVhY2goKGZpbGUsIGkpID0+IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5uYW1lID09PSBwaG90by5uYW1lKSBkZWxldGUgdGhpcy5sb2FkZWRQaG90b3NbaV07XFxyXFxuICAgICAgICAgICAgICAgICAgICB9KTtcXHJcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXHJcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlZC5wdXNoKHRoaXMucGhvdG9zW2NwaV0uaWQpO1xcclxcbiAgICAgICAgICAgICAgICB9XFxyXFxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhcm91c2VsUGhvdG9zW2NwaV07XFxyXFxuICAgICAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxQaG90b3MgPSBbLi4udGhpcy5jYXJvdXNlbFBob3Rvc107XFxyXFxuICAgICAgICAgICAgfSxcXHJcXG4gICAgICAgICAgICBnZXRQaG90b3MoKSB7XFxyXFxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRlZFBob3Rvcy5jb25jYXQodGhpcy5kZWxldGVkKTtcXHJcXG4gICAgICAgICAgICB9LFxcclxcbiAgICAgICAgICAgIGdldEZpcnN0KCkge1xcclxcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkZWRQaG90b3NbMF07XFxyXFxuICAgICAgICAgICAgfSxcXHJcXG4gICAgICAgICAgICByZXR1cm5Gb3JtRGF0YSh2YWwpIHtcXHJcXG4gICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2F2ZS1waG90bycsIHZhbClcXHJcXG4gICAgICAgICAgICB9LFxcclxcbiAgICAgICAgICAgIHVwZGF0ZVBob3RvKHZhbCkge1xcclxcbiAgICAgICAgICAgICAgICB0aGlzLnBob3RvID0gdmFsXFxyXFxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Nyb3BwZXJEaWFsb2cgPSBmYWxzZVxcclxcbiAgICAgICAgICAgIH0sXFxyXFxuICAgICAgICAgICAgY2xpY2tPbklucHV0KCkge1xcclxcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZXMnKS5maWxlcyA9IChuZXcgRGF0YVRyYW5zZmVyKCkpLmZpbGVzO1xcclxcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZXMnKS5jbGljaygpXFxyXFxuXFxyXFxuICAgICAgICAgICAgfSxcXHJcXG4gICAgICAgICAgICBhZGRQaG90byhldmVudCkge1xcclxcbiAgICAgICAgICAgICAgICBbLi4uZXZlbnQudGFyZ2V0LmZpbGVzXS5mb3JFYWNoKChwaG90bykgPT4ge1xcclxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxlSW1nID0gcGhvdG87XFxyXFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxlSW1nLnNpemUgPiA1MDI0MDAwKSB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kY2hpbGRyZW5bMF0uc25hY2tiYXJUZXh0ID0gJ9Cg0LDQt9C80LXRgCDRhNCw0LnQu9CwINC90LUg0LzQvtC20LXRgiDQsdGL0YLRjCDQsdC+0LvRjNGI0LUgNdCc0JEnXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kY2hpbGRyZW5bMF0uc25hY2tiYXIgPSB0cnVlXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xcclxcbiAgICAgICAgICAgICAgICAgICAgfVxcclxcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubG9hZGVkUGhvdG9zLmxlbmd0aCA+IDEwKSB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kY2hpbGRyZW5bMF0uc25hY2tiYXJUZXh0ID0gJ9CS0Ysg0L3QtSDQvNC+0LbQtdGC0LUg0LfQsNCz0YDRg9C30LjRgtGMINCx0L7Qu9GM0YjQtSAxMCDRhNC+0YLQvtCz0YDQsNGE0LjQuSdcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRjaGlsZHJlblswXS5zbmFja2JhciA9IHRydWVcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XFxyXFxuICAgICAgICAgICAgICAgICAgICB9XFxyXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcm91c2VsUGhvdG9zID0gW1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY2Fyb3VzZWxQaG90b3MsXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkID8gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmZpbGVJbWcpIDogdGhpcy5maWxlSW1nXFxyXFxuICAgICAgICAgICAgICAgICAgICBdO1xcclxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZWRQaG90b3MucHVzaCh0aGlzLmZpbGVJbWcpXFxyXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm4gPSB0aGlzLmxvYWRlZFBob3Rvcy5sZW5ndGggLSAxXFxyXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVJbWcgPSBudWxsO1xcclxcbiAgICAgICAgICAgICAgICB9KVxcclxcbiAgICAgICAgICAgIH0sXFxyXFxuICAgICAgICB9LFxcclxcbiAgICAgICAgd2F0Y2g6IHtcXHJcXG4gICAgICAgICAgICBwaG90b3MobnYpIHtcXHJcXG4gICAgICAgICAgICAgICAgdGhpcy5jYXJvdXNlbFBob3RvcyA9IG52Lm1hcCgoZmlsZSkgPT4gZmlsZS5maWxlKTtcXHJcXG4gICAgICAgICAgICB9XFxyXFxuICAgICAgICB9XFxyXFxuICAgIH1cXHJcXG48L3NjcmlwdD5cXHJcXG5cXHJcXG48c3R5bGUgc2NvcGVkPlxcclxcbiAgICAucGhvdG8taW5wdXQge1xcclxcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xcclxcbiAgICB9XFxyXFxuPC9zdHlsZT5cXHJcXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIuZGVzY3JpcHRpb24udi10ZXh0LWZpZWxkPi52LWlucHV0X19jb250cm9sPi52LWlucHV0X19zbG90OmFmdGVyLC5kZXNjcmlwdGlvbi52LXRleHQtZmllbGQ+LnYtaW5wdXRfX2NvbnRyb2w+LnYtaW5wdXRfX3Nsb3Q6YmVmb3JlLC5kZXNjcmlwdGlvbiAudi10ZXh0LWZpZWxkX19zbG90IHRleHRhcmVhe2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vcmVzb3VyY2VzL2pzL3BhZ2VzL1VzZXJQb3N0RWRpdC52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBZ0lBLDZLQUVBLHNCQUNBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjx0ZW1wbGF0ZT5cXHJcXG4gICAgPHYtY29udGFpbmVyXFxyXFxuICAgICAgICAgICAgY2xhc3M9XFxcImNvdmVyXFxcIj5cXHJcXG4gICAgICAgIDx2LXRvb2xiYXItdGl0bGUgYWxpZ249XFxcImNlbnRlclxcXCIganVzdGlmeT1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwibWItMlxcXCJcXHJcXG4gICAgICAgIHYtdGV4dD1cXFwiJHJvdXRlLnBhcmFtcy5pZCAgPT0gMCA/ICfQlNC+0LHQsNCy0LvQtdC90LjQtSDQvtCx0YDQsNGJ0LXQvdC40Y8nIDogICfQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC+0LHRgNCw0YnQtdC90LjRjydcXFwiPlxcclxcbiAgICAgICAgPC92LXRvb2xiYXItdGl0bGU+XFxyXFxuICAgICAgICA8di10ZXh0LWZpZWxkXFxyXFxuICAgICAgICAgICAgdHlwZT1cXFwidGV4dFxcXCJcXHJcXG4gICAgICAgICAgICBuYW1lPVxcXCJ0aXRsZVxcXCJcXHJcXG4gICAgICAgICAgICBsYWJlbD1cXFwi0JfQsNCz0L7Qu9C+0LLQvtC6XFxcIlxcclxcbiAgICAgICAgICAgIHYtbW9kZWw9XFxcInBvc3QudGl0bGVcXFwiXFxyXFxuICAgICAgICAgICAgOmVycm9yLW1lc3NhZ2VzPVxcXCJtZXNzYWdlcy50aXRsZVxcXCJcXHJcXG4gICAgICAgICAgICA+XFxyXFxuICAgICAgICA8L3YtdGV4dC1maWVsZD5cXHJcXG4gICAgICAgIDx2LXRleHRhcmVhXFxyXFxuICAgICAgICAgICAgICAgIG5hbWU9XFxcImRlc2NyaXB0aW9uXFxcIlxcclxcbiAgICAgICAgICAgICAgICBsYWJlbD1cXFwi0J7Qv9C40YHQsNC90LjQtVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgaGludD1cXFwiSGludCB0ZXh0XFxcIlxcclxcbiAgICAgICAgICAgICAgICA6dmFsdWU9XFxcIicgJ1xcXCJcXHJcXG4gICAgICAgICAgICAgICAgY2xhc3M9XFxcImRlc2NyaXB0aW9uIFxcXCJcXHJcXG4gICAgICAgICAgICAgICAgOmVycm9yLW1lc3NhZ2VzPVxcXCJtZXNzYWdlcy5kZXNjcmlwdGlvblxcXCJcXHJcXG4gICAgICAgID48L3YtdGV4dGFyZWE+XFxyXFxuICAgICAgICA8ZWRpdG9yXFxyXFxuICAgICAgICAgICAgICAgIGFwaS1rZXk9XFxcImthcHIwa2gwdjN2c2Nua3Bwc3hnaWc5OHZmNm1naXRhaWk4YXV3M3AycGluMWM1dFxcXCJcXHJcXG4gICAgICAgICAgICAgICAgY2xhc3M9XFxcIm10LTJcXFwiXFxyXFxuICAgICAgICAgICAgICAgIHYtbW9kZWw9XFxcInBvc3QuZGVzY3JpcHRpb25cXFwiXFxyXFxuICAgICAgICA+XFxyXFxuICAgICAgICA8L2VkaXRvcj5cXHJcXG4gICAgICAgIDx2LXNwYWNlci8+XFxyXFxuICAgICAgICA8cGhvdG8tbG9hZGVyIHJlZj1cXFwibG9hZGVyXFxcIiAgOnBob3Rvcz1cXFwicG9zdC5waG90b3NcXFwiLz5cXHJcXG4gICAgICAgIDx2LWJ0biBjbGFzcz1cXFwic2F2ZS1idG4tdGV4dFxcXCJcXHJcXG4gICAgICAgICAgICAgICBAY2xpY2s9XFxcIigpID0+IHBvc3QuaWQ+MCA/IHVwZGF0ZSgpIDogY3JlYXRlKClcXFwiXFxyXFxuICAgICAgICAgICAgICAgY29sb3I9XFxcInN1Y2Nlc3NcXFwiXFxyXFxuICAgICAgICAgICAgICAgOmRpc2FibGVkPVxcXCIhKHBvc3QuaWQ+IDApICYmICghcG9zdC5kZXNjcmlwdGlvbiB8fCAhcG9zdC50aXRsZSlcXFwiPlxcclxcbiAgICAgICAgICAgINCh0L7RhdGA0LDQvdC40YLRjFxcclxcbiAgICAgICAgPC92LWJ0bj5cXHJcXG4gICAgPC92LWNvbnRhaW5lcj5cXHJcXG48L3RlbXBsYXRlPlxcclxcblxcclxcbjxzY3JpcHQ+XFxyXFxuICAgIGltcG9ydCBFZGl0b3IgZnJvbSAnQHRpbnltY2UvdGlueW1jZS12dWUnO1xcclxcbiAgICBpbXBvcnQgUGhvdG9Mb2FkZXIgZnJvbSAnQC9jb21wb25lbnRzL3Bob3RvLWxvYWRlcidcXHJcXG4gICAgZXhwb3J0IGRlZmF1bHQge1xcclxcbiAgICAgICAgbmFtZTogXFxcIlVzZXJQb3N0RWRpdFxcXCIsXFxyXFxuICAgICAgICBjb21wb25lbnRzOiB7XFxyXFxuICAgICAgICAgICAgRWRpdG9yLFxcclxcbiAgICAgICAgICAgIFBob3RvTG9hZGVyXFxyXFxuICAgICAgICB9LFxcclxcbiAgICAgICAgZGF0YTogKHZtKSA9PiB7XFxyXFxuICAgICAgICAgICAgcmV0dXJuIHtcXHJcXG4gICAgICAgICAgICAgICAgcG9zdDoge1xcclxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHZtLiRyb3V0ZS5wYXJhbXMuaWQsXFxyXFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXFxyXFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXFxyXFxuICAgICAgICAgICAgICAgICAgICBwaG90b3M6IFtdLFxcclxcbiAgICAgICAgICAgICAgICB9LFxcclxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczoge1xcclxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxcclxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxcclxcbiAgICAgICAgICAgICAgICB9XFxyXFxuICAgICAgICAgICAgfVxcclxcbiAgICAgICAgfSxcXHJcXG4gICAgICAgIG1vdW50ZWQoKSB7XFxyXFxuICAgICAgICAgICAgbGV0IG1vZGVsSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7XFxyXFxuICAgICAgICAgICAgaWYgKG1vZGVsSWQgIT0gMCkge1xcclxcbiAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MuZ2V0KCcvdXNlci9wb3N0LycrIG1vZGVsSWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7XFxyXFxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGNoaWxkcmVuWzBdLnNuYWNrYmFyVGV4dCA9IGU/LnJlc3BvbnNlPy5lcnJvciB8fCAn0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCc7XFxyXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRjaGlsZHJlblswXS5zbmFja2JhciA9IHRydWU7XFxyXFxuICAgICAgICAgICAgICAgIH0pO1xcclxcbiAgICAgICAgICAgIH1cXHJcXG4gICAgICAgIH0sXFxyXFxuICAgICAgICBtZXRob2RzOiB7XFxyXFxuICAgICAgICAgICAgY3JlYXRlKCkge1xcclxcbiAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MucG9zdCgnL3VzZXIvcG9zdCcsIHRoaXMucG9zdClcXHJcXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0LmlkID0gci5kYXRhLmRhdGEuaWQ7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5yZXNwb25zZSAmJiBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDIyKSB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9ycyA9IGUucmVzcG9uc2UuZGF0YS5lcnJvcnNcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLm1lc3NhZ2VzKS5mb3JFYWNoKChrKT0+IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlc1trXSA9IGVycm9yc1trXT8uWzBdIHx8ICcnO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xcclxcbiAgICAgICAgICAgICAgICAgICAgfVxcclxcbiAgICAgICAgICAgICAgICB9KVxcclxcbiAgICAgICAgICAgIH0sXFxyXFxuICAgICAgICAgICAgIHVwZGF0ZSgpIHtcXHJcXG4gICAgICAgICAgICAgICAgd2luZG93LmF4aW9zLnB1dCgnL3VzZXIvcG9zdC8nKyB0aGlzLnBvc3QuaWQsIHRoaXMucG9zdClcXHJcXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1Bob3RvcyA9IHRoaXMuJHJlZnMubG9hZGVyLmdldFBob3RvcygpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdQaG90b3MubGVuZ3RoKSB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Bob3Rvcy5mb3JFYWNoKChwaG90bywgaSkgPT4ge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBob3RvLm5hbWUpIGZvcm1EYXRhLmFwcGVuZCgncG9zdF9waG90b3NbJytpKyddJywgcGhvdG8sIHBob3RvLm5hbWUpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBmb3JtRGF0YS5hcHBlbmQoJ2RlbGV0ZV9waG90b3NbJytpKyddJywgcGhvdG8pXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ19tZXRob2QnLCAnUFVUJyk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MucG9zdCgnL3VzZXIvcG9zdC8nK3RoaXMucG9zdC5pZCwgZm9ybURhdGEpLnRoZW4oKCkgPT4ge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiBcXFwidXBvc3RzXFxcIn0pO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGNoaWxkcmVuWzBdLnNuYWNrYmFyVGV4dCA9ICBg0J7RiNC40LHQutCwINGB0L7RhdGA0LDQvdC10L3QuNGPINGE0L7RgtC+0LPRgNCw0YTQuNC4YDtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGNoaWxkcmVuWzBdLnNuYWNrYmFyID0gdHJ1ZTtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiBcXFwidXBvc3RzXFxcIn0pO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcclxcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucmVzcG9uc2UgJiYgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQyMikge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJvcnMgPSBlLnJlc3BvbnNlLmRhdGEuZXJyb3JzO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMubWVzc2FnZXMpLmZvckVhY2goKGspPT4ge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzW2tdID0gZXJyb3JzW2tdPy5bMF0gfHwgJyc7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XFxyXFxuICAgICAgICAgICAgICAgICAgICB9XFxyXFxuICAgICAgICAgICAgICAgIH0pXFxyXFxuICAgICAgICAgICAgfVxcclxcbiAgICAgICAgfVxcclxcbiAgICB9XFxyXFxuPC9zY3JpcHQ+XFxyXFxuXFxyXFxuPHN0eWxlPlxcclxcbiAgICAuZGVzY3JpcHRpb24gLnYtdGV4dC1maWVsZF9fc2xvdCB0ZXh0YXJlYSB7XFxyXFxuICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XFxyXFxuICAgIH1cXHJcXG4gICAgLmRlc2NyaXB0aW9uLnYtdGV4dC1maWVsZD4udi1pbnB1dF9fY29udHJvbD4udi1pbnB1dF9fc2xvdDphZnRlciAsXFxyXFxuICAgIC5kZXNjcmlwdGlvbi52LXRleHQtZmllbGQ+LnYtaW5wdXRfX2NvbnRyb2w+LnYtaW5wdXRfX3Nsb3Q6YmVmb3Jle1xcclxcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xcclxcbiAgICB9XFxyXFxuPC9zdHlsZT5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ3YtY2FyZCcse3N0YXRpY0NsYXNzOlwiZC1mbGV4IGZsZXgtY29sdW1uIHB0LTQgcGItNFwiLGF0dHJzOntcImp1c3RpZnktY2VudGVyXCI6XCJcIixcImFsaWduLWNlbnRlclwiOlwiXCIsXCJlbGV2YXRpb25cIjpcIjBcIn19LFsoX3ZtLm9uZSAmJiBfdm0ubG9hZGVkUGhvdG9zLmxlbmd0aCk/X2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwidGV4dC1jZW50ZXJcIn0sW192bS5fdihfdm0uX3MoX3ZtLmxvYWRlZFBob3Rvc1swXS5uYW1lKSldKTpfdm0uX2UoKSxfdm0uX3YoXCIgXCIpLCghX3ZtLm9uZSk/X2MoJ3Ytcm93Jyx7fSxbX3ZtLl9sKChfdm0uY2Fyb3VzZWxQaG90b3MpLGZ1bmN0aW9uKHBob3RvLGkpe3JldHVybiAoISFfdm0uY2Fyb3VzZWxQaG90b3NbaV0pP19jKCd2LWNvbCcse2tleTppLGF0dHJzOntcInhzXCI6XCI2XCIsXCJtZFwiOlwiM1wiLFwic21cIjpcIjZcIn19LFtfYygnZWRpdC1waG90by1jYXJkJyx7YXR0cnM6e1wicHJlbG9hZFwiOl92bS5wcmVsb2FkLFwiZmlsbGVkXCI6dHJ1ZSxcImZpbGVcIjpwaG90byxcImNvbnRhaW5cIjpcIlwifSxvbjp7XCJkZWxldGVcIjpmdW5jdGlvbiAoKSB7IHJldHVybiBfdm0uZGVsZXRlUGhvdG8ocGhvdG8sIGkpOyB9fX0pXSwxKTpfdm0uX2UoKX0pLF92bS5fdihcIiBcIiksX2MoJ3YtY29sJyx7YXR0cnM6e1wieHNcIjpcIjZcIixcIm1kXCI6XCIzXCIsXCJzbVwiOlwiNlwifX0sW19jKCdlZGl0LXBob3RvLWNhcmQnLHtvbjp7XCJjbGlja1wiOmZ1bmN0aW9uICgpIHsgcmV0dXJuIF92bS4kcmVmcy5idG4uY2xpY2soKTsgfX0sc2NvcGVkU2xvdHM6X3ZtLl91KFt7a2V5OlwiYWN0aW9uc1wiLGZuOmZ1bmN0aW9uKCl7cmV0dXJuIFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJoaWRkZW5cIn0pXX0scHJveHk6dHJ1ZX1dLG51bGwsZmFsc2UsODEwMDIxMTcwKX0sW19jKCdkcm9wLWFyZWEnLHthdHRyczp7XCJ5ZXRcIjpfdm0uY2Fyb3VzZWxQaG90b3MubGVuZ3RofSxvbjp7XCJjaGFuZ2VcIjpfdm0uYWRkUGhvdG99fSldLDEpXSwxKV0sMik6X3ZtLl9lKCldLDEpfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJcclxuZXhwb3J0IGNvbnN0IGNvbXByZXNzID0gKGltZywgbW9kaWZ5Q29udGV4dCkgPT4ge1xyXG4gICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXHJcbiAgICBsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXHJcbiAgICBsZXQgd2lkdGggPSBpbWcud2lkdGhcclxuICAgIGxldCBoZWlnaHQgPSBpbWcuaGVpZ2h0XHJcbiAgICAvLyBsb2coaW1nLndpZHRoLCBpbWcuaGVpZ2h0KVxyXG4gICAgLy8gbG9nKHdpZHRoLCBoZWlnaHQpXHJcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aFxyXG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodFxyXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2ZmZidcclxuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KVxyXG4gICAgaWYgKG1vZGlmeUNvbnRleHQpIG1vZGlmeUNvbnRleHQoY29udGV4dCwgY2FudmFzKTtcclxuICAgIGVsc2UgY29udGV4dC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpXHJcbiAgICBsZXQgYmFzZTY0RGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAwLjQpXHJcbiAgICBjYW52YXMgPSBjb250ZXh0ID0gbnVsbFxyXG4gICAgLy8gbG9nKGJhc2U2NERhdGEubGVuZ3RoKVxyXG4gICAgaW1nID0gbnVsbFxyXG4gICAgcmV0dXJuIGJhc2U2NERhdGFcclxufVxyXG5cclxuLy8gYmFzZTY0IGlzIGNvbnZlcnRlZCB0byBiaW5hcnkgZmlsZVxyXG5leHBvcnQgY29uc3QgYjY0VG9CbG9iID0gKGI2NERhdGEsIGNvbnRlbnRUeXBlKSA9PiB7XHJcbiAgICBjb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlIHx8ICcnXHJcblxyXG4gICAgbGV0IGJ5dGVDaGFyYWN0ZXJzID0gYXRvYihiNjREYXRhKSAvLyBEZWNvZGUgYmFzZTY0IGRhdGEgYXMgYSBiaW5hcnkgc3RyaW5nXHJcbiAgICBsZXQgYnVmZmVyID0gW10gLy8gTm90ZSB0aGF0IHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgYmxvYiBtdXN0IGJlIGFuIGFycmF5XHJcblxyXG4gICAgLy8gdHlwZSBhcnJheSBpcyB1c2VkIHRvIHByb2Nlc3MgYmluYXJ5IGZpbGVzXHJcbiAgICBsZXQgYUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihieXRlQ2hhcmFjdGVycy5sZW5ndGgpXHJcbiAgICBsZXQgdUJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGFCdWZmZXIpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVDaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdUJ1ZmZlcltpXSA9IGJ5dGVDaGFyYWN0ZXJzLmNoYXJDb2RlQXQoaSkgLy8gZ2V0IFVuaWNvZGUgZW5jb2RpbmcsIHN0b3JlIGluIHR5cGUgYXJyYXlcclxuICAgIH1cclxuICAgIGJ1ZmZlci5wdXNoKHVCdWZmZXIpXHJcbiAgICAvLyBPcmRpbmFyeSBhcnJheSBpcyB1bmFibGUgdG8gZ2VuZXJhdGUgYmluYXJ5IGZpbGVzXHJcbiAgICByZXR1cm4gbmV3IEJsb2IoYnVmZmVyLCB7IC8vIGdlbmVyYXRlIGEgYmluYXJ5IGZpbGVcclxuICAgICAgICB0eXBlOiBjb250ZW50VHlwZVxyXG4gICAgfSlcclxufVxyXG4iLCI8dGVtcGxhdGU+XHJcbiAgICA8di1yb3cgY2xhc3M9XCJtYS0wXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZ1bGxcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGl2ZVwiIDpzdHlsZT1cInt3aWR0aDogcHJvZ3Jlc3MrJyUnfVwiLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvdi1yb3c+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG4gICAgZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgICAgIHByb3BzOiBbJ3Byb2dyZXNzJ10sXHJcbiAgICAgICAgbmFtZTogXCJQcm9ncmVzc0JhclwiXHJcbiAgICB9XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlIHNjb3BlZD5cclxuICAgIC5mdWxse1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICBoZWlnaHQ6IDRweDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjRTFFMUUxO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIH1cclxuICAgIC5hY3RpdmV7XHJcbiAgICAgICAgaGVpZ2h0OiA0cHg7XHJcbiAgICAgICAgYmFja2dyb3VuZDogIzJlM2U0ZSAhaW1wb3J0YW50O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIH1cclxuPC9zdHlsZT4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTVbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vUHJvZ3Jlc3NCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTVbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vUHJvZ3Jlc3NCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9Qcm9ncmVzc0Jhci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NmViZjRlYWEmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vUHJvZ3Jlc3NCYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9Qcm9ncmVzc0Jhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vUHJvZ3Jlc3NCYXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NmViZjRlYWEmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjZlYmY0ZWFhXCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0VkaXRQaG90b0NhcmQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTVbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vRWRpdFBob3RvQ2FyZC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCI8dGVtcGxhdGU+XHJcbiAgICA8ZGl2IGNsYXNzPVwic2l0ZS1waG90by1jYXJkXCJcclxuICAgICAgICAgOmNsYXNzPVwie2ZvY3VzZWQ6IGZvY3VzLCBmaWxsZWR9XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNpdGUtcGhvdG8tY2FyZC1jb250ZW50XCIgc3R5bGU9XCJ6LWluZGV4OiAxO1wiPlxyXG4gICAgICAgICAgICA8c2xvdCBuYW1lPVwiZGVmYXVsdFwiPlxyXG4gICAgICAgICAgICAgICAgPHYtaW1nIHYtaWY9XCJsb2FkZWQgJiYgc3JjXCIgOnNyYz1cInNyY1wiIGNvdmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMTAwJVwiIEBjbGljaz1cIiRlbWl0KCdjbGljaycsICRhdHRyc1sndmFsdWUnXSk7IG9wZW49dHJ1ZVwiLz5cclxuICAgICAgICAgICAgICAgIDx2LXJvdyB2LWVsc2UtaWY9XCIhbG9hZGVkICYmICFlcnJvclwiIHhzPVwiMTJcIiBjbGFzcz1cInBhLThcIiBzdHlsZT1cImFsaWduLWl0ZW1zOiBjZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cHJvZ3Jlc3MtYmFyIDpwcm9ncmVzcz1cInByb2dyZXNzXCIvPlxyXG4gICAgICAgICAgICAgICAgPC92LXJvdz5cclxuICAgICAgICAgICAgPC9zbG90PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzaXRlLXBob3RvLWNhcmQtYWN0aW9uc1wiIHN0eWxlPVwiei1pbmRleDogMjtcIj5cclxuICAgICAgICAgICAgPHNsb3QgbmFtZT1cImFjdGlvbnNcIj5cclxuICAgICAgICAgICAgICAgIDx2LXJvdyB4cz1cIjEyXCIgY2xhc3M9XCJwbC01IHByLTUgcHQtMiBqdXN0aWZ5LWVuZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx2LWJ0biBmYWJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwiJGVtaXQoJ2RlbGV0ZScpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtci0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2LWljb24+bWRpLWRlbGV0ZTwvdi1pY29uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdi1idG4+XHJcbiAgICAgICAgICAgICAgICA8L3Ytcm93PlxyXG4gICAgICAgICAgICA8L3Nsb3Q+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPHYtZGlhbG9nIHYtbW9kZWw9XCJvcGVuXCIgdi1pZj1cIm9wZW5cIiBjb250ZW50LWNsYXNzPVwic20tcGhvdG8tZGlhbG9nXCJcclxuICAgICAgICAgICAgICAgICAgOmZ1bGxzY3JlZW49XCJ0cnVlXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctaW1hZ2VcIj5cclxuICAgICAgICAgICAgICAgIDx2LWltZyB2LWlmPVwibG9hZGVkICYmIHNyY1wiIDpzcmM9XCJzcmNcIiBtYXgtaGVpZ2h0PVwiOTB2aFwiIGNvbnRhaW4vPlxyXG4gICAgICAgICAgICAgICAgPHYtYnRuIGljb24gQGNsaWNrPVwiJGVtaXQoJ2ZvY3VzT3V0Jyk7IG9wZW49ZmFsc2U7XCJcclxuICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1cImdyYXlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY2xvc2UtYnRuXCIgPjx2LWljb24+bWRpLWNsb3NlPC92LWljb24+PC92LWJ0bj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC92LWRpYWxvZz5cclxuICAgIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuICAgIGltcG9ydCB7YjY0VG9CbG9iLCBjb21wcmVzc30gZnJvbSBcIi4uLy4uL2ltYWdlXCI7XHJcbiAgICBpbXBvcnQgUHJvZ3Jlc3NCYXIgZnJvbSBcIi4vUHJvZ3Jlc3NCYXJcIjtcclxuXHJcbiAgICBleHBvcnQgZGVmYXVsdCB7XHJcbiAgICAgICAgbmFtZTogXCJFZGl0UGhvdG9DYXJkXCIsXHJcbiAgICAgICAgY29tcG9uZW50czoge1Byb2dyZXNzQmFyfSxcclxuICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICBmb2N1czoge3R5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlLH0sXHJcbiAgICAgICAgICAgIHByZWxvYWQ6IHt0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlLH0sXHJcbiAgICAgICAgICAgIGNvdmVyOiB7dHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcIlwifSxcclxuICAgICAgICAgICAgZmlsbGVkOiB7dHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2V9LFxyXG4gICAgICAgICAgICBmaWxlOiB7dHlwZTogRmlsZSB8IFN0cmluZ31cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGE6ICh2bSkgPT4gKHtcclxuICAgICAgICAgICAgb3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIGZvY3VzZWQ6ICEhdm0uJGF0dHJzWydmb2N1cyddLFxyXG4gICAgICAgICAgICBzcmM6ICcnLFxyXG4gICAgICAgICAgICBsb2FkZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBlcnJvcjogZmFsc2UsXHJcbiAgICAgICAgICAgIHByb2dyZXNzOiAwLFxyXG4gICAgICAgICAgICByb3RhdGVUaW1lb3V0OiBudWxsLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIG1vdW50ZWQoKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBsb2FkKHRoaXMuZmlsZSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXB1dGVkOiB7XHJcbiAgICAgICAgICAgIGlzQ292ZXIoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb3ZlciAmJiB0aGlzLnNyYy5pbmRleE9mKHRoaXMuY292ZXIpICE9PSAtMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIHJvdGF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZVRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yb3RhdGVUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCJcclxuICAgICAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tcHJlc3NVcmwgPSBjb21wcmVzcyhpbWcsIChjdHgsIGNhbnZhcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZSg5MCAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIC1pbWcud2lkdGggLyAyLCAtaW1nLndpZHRoIC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJsb2IgPSBiNjRUb0Jsb2IoY29tcHJlc3NVcmwuc3BsaXQoJywnKVsxXSwgJ2ltYWdlL2pwZWcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGxvYWQoYmxvYiwgdGhpcy5zcmMuc3BsaXQoJy8nKS5yZXZlcnNlKClbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IHRoaXMuc3JjO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVhZExvY2FsU3JjKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbGUgaW5zdGFuY2VvZiBCbG9iKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcmMgPSByZWFkZXIucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLnNyYylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgdGhpcy5zcmMgPSBmaWxlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1cGxvYWQoZmlsZSwgY2FudmFzRmlsZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wcmVsb2FkIHx8ICEoZmlsZSBpbnN0YW5jZW9mIEJsb2IpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkTG9jYWxTcmMoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXHJcbiAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKClcclxuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUsIGNhbnZhc0ZpbGVOYW1lIHx8IGZpbGUubmFtZSlcclxuICAgICAgICAgICAgICAgIHhoci5vcGVuKCdQT1NUJywgJy9waG90by91cGxvYWQnLCB0cnVlKVxyXG4gICAgICAgICAgICAgICAgeGhyLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gKGUubG9hZGVkICogMTAwLjAgLyBlLnRvdGFsKSB8fCAxMDA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0ICYmIHhoci5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3JjID0gZS50YXJnZXQucmVzcG9uc2UudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBlLnRhcmdldC5yZXNwb25zZS51cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0ICYmIHhoci5zdGF0dXMgIT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09IDQwMCAmJiAhY2FudmFzRmlsZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v0JTQu9GPINGE0LDQudC70L7QsiDRgSDQsdC40YLRi9C8INC80LDQudC80YLQuNC/0L7QvCDRgNC40YHRg9C10Lwg0L3QsCDQutCw0L3QstC1INC4INC+0YLQv9GA0LDQstC70Y/QtdC8INGA0LXQt9GD0LvRjNGC0LDRglxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tcHJlc3NVcmwgPSBjb21wcmVzcyhpbWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBibG9iID0gYjY0VG9CbG9iKGNvbXByZXNzVXJsLnNwbGl0KCcsJylbMV0sICdpbWFnZS9qcGVnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGxvYWQoYmxvYiwgZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRMb2NhbFNyYyhmaWxlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gdGhpcy5sb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgeGhyLnNlbmQoZm9ybURhdGEpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHdhdGNoOiB7XHJcbiAgICAgICAgICAgIGZpbGUobnYpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbnYgPT09ICdzdHJpbmcnKSB0aGlzLnNyYyA9IG52O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZSBzY29wZWQ+XHJcbiAgICAuc2l0ZS1waG90by1jYXJkIHtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYmFja2dyb3VuZDogI0ZGRkZGRjtcclxuICAgICAgICAvKiBHcmV5IDgwMCAqL1xyXG5cclxuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIH1cclxuXHJcbiAgICAuc2l0ZS1waG90by1jYXJkLmZpbGxlZCB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0Y4RjhGODtcclxuICAgIH1cclxuXHJcbiAgICAuc2l0ZS1waG90by1jYXJkLmZvY3VzZWQsIC5zaXRlLXBob3RvLWNhcmQ6aG92ZXIge1xyXG4gICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggOXB4IHJnYmEoMTQwLCAxNDAsIDE0MCwgMC40OSk7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5zaXRlLXBob3RvLWNhcmQ6YWZ0ZXIge1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDU2JTsgLyogMTYvOSAqL1xyXG4gICAgfVxyXG5cclxuICAgIC5zaXRlLXBob3RvLWNhcmQtYWN0aW9ucyB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICAuc2l0ZS1waG90by1jYXJkLWNvbnRlbnQge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICAuZWRpdC1waG90by1pY29uIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogOHB4O1xyXG4gICAgfVxyXG48L3N0eWxlPlxyXG48c3R5bGU+XHJcblxyXG4gICAgLnNtLXBob3RvLWRpYWxvZyAucGhvdG8tY292ZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDMycHg7XHJcbiAgICAgICAgbGVmdDogMzJweDtcclxuICAgICAgICB6LWluZGV4OiAxMDE7XHJcbiAgICB9XHJcblxyXG4gICAgLnNtLXBob3RvLWRpYWxvZyAuY2xvc2UtYnRuIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAzMnB4O1xyXG4gICAgICAgIHJpZ2h0OiAzMnB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5zbS1waG90by1kaWFsb2cgLmJvdHRvbSB7XHJcbiAgICAgICAgcmlnaHQ6IDMycHg7XHJcbiAgICAgICAgYm90dG9tOiAzMnB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgfVxyXG5cclxuICAgIC5zbS1waG90by1kaWFsb2cge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB6LWluZGV4OiAxMDA7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxMDUsIDEwOSwgMTE2LCAwLjYpO1xyXG4gICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIC5kaWFsb2ctaW1hZ2UgLnYtaW1hZ2V7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgfVxyXG4gICAgLmRpYWxvZy1pbWFnZSB7XHJcbiAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICBwYWRkaW5nOiAxNnB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgfVxyXG48L3N0eWxlPlxyXG4iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygndi1yb3cnLHtzdGF0aWNDbGFzczpcIm1hLTBcIn0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImZ1bGxcIn0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImFjdGl2ZVwiLHN0eWxlOih7d2lkdGg6IF92bS5wcm9ncmVzcysnJSd9KX0pXSldKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9FZGl0UGhvdG9DYXJkLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01MDNmMmFmYiZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9FZGl0UGhvdG9DYXJkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vRWRpdFBob3RvQ2FyZC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vRWRpdFBob3RvQ2FyZC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD01MDNmMmFmYiZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIlxuaW1wb3J0IHN0eWxlMSBmcm9tIFwiLi9FZGl0UGhvdG9DYXJkLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0xJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCI1MDNmMmFmYlwiLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCdkaXYnLHtzdGF0aWNDbGFzczpcInNpdGUtcGhvdG8tY2FyZFwiLGNsYXNzOntmb2N1c2VkOiBfdm0uZm9jdXMsIGZpbGxlZDogX3ZtLmZpbGxlZH19LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJzaXRlLXBob3RvLWNhcmQtY29udGVudFwiLHN0YXRpY1N0eWxlOntcInotaW5kZXhcIjpcIjFcIn19LFtfdm0uX3QoXCJkZWZhdWx0XCIsZnVuY3Rpb24oKXtyZXR1cm4gWyhfdm0ubG9hZGVkICYmIF92bS5zcmMpP19jKCd2LWltZycse2F0dHJzOntcInNyY1wiOl92bS5zcmMsXCJjb3ZlclwiOlwiXCIsXCJoZWlnaHRcIjpcIjEwMCVcIn0sb246e1wiY2xpY2tcIjpmdW5jdGlvbigkZXZlbnQpe192bS4kZW1pdCgnY2xpY2snLCBfdm0uJGF0dHJzWyd2YWx1ZSddKTsgX3ZtLm9wZW49dHJ1ZX19fSk6KCFfdm0ubG9hZGVkICYmICFfdm0uZXJyb3IpP19jKCd2LXJvdycse3N0YXRpY0NsYXNzOlwicGEtOFwiLHN0YXRpY1N0eWxlOntcImFsaWduLWl0ZW1zXCI6XCJjZW50ZXJcIn0sYXR0cnM6e1wieHNcIjpcIjEyXCJ9fSxbX2MoJ3Byb2dyZXNzLWJhcicse2F0dHJzOntcInByb2dyZXNzXCI6X3ZtLnByb2dyZXNzfX0pXSwxKTpfdm0uX2UoKV19KV0sMiksX3ZtLl92KFwiIFwiKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJzaXRlLXBob3RvLWNhcmQtYWN0aW9uc1wiLHN0YXRpY1N0eWxlOntcInotaW5kZXhcIjpcIjJcIn19LFtfdm0uX3QoXCJhY3Rpb25zXCIsZnVuY3Rpb24oKXtyZXR1cm4gW19jKCd2LXJvdycse3N0YXRpY0NsYXNzOlwicGwtNSBwci01IHB0LTIganVzdGlmeS1lbmRcIixhdHRyczp7XCJ4c1wiOlwiMTJcIn19LFtfYygndi1idG4nLHtzdGF0aWNDbGFzczpcIm1yLTNcIixhdHRyczp7XCJmYWJcIjpcIlwiLFwic21hbGxcIjpcIlwifSxvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS4kZW1pdCgnZGVsZXRlJyl9fX0sW19jKCd2LWljb24nLFtfdm0uX3YoXCJtZGktZGVsZXRlXCIpXSldLDEpXSwxKV19KV0sMiksX3ZtLl92KFwiIFwiKSwoX3ZtLm9wZW4pP19jKCd2LWRpYWxvZycse2F0dHJzOntcImNvbnRlbnQtY2xhc3NcIjpcInNtLXBob3RvLWRpYWxvZ1wiLFwiZnVsbHNjcmVlblwiOnRydWV9LG1vZGVsOnt2YWx1ZTooX3ZtLm9wZW4pLGNhbGxiYWNrOmZ1bmN0aW9uICgkJHYpIHtfdm0ub3Blbj0kJHZ9LGV4cHJlc3Npb246XCJvcGVuXCJ9fSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiZGlhbG9nLWltYWdlXCJ9LFsoX3ZtLmxvYWRlZCAmJiBfdm0uc3JjKT9fYygndi1pbWcnLHthdHRyczp7XCJzcmNcIjpfdm0uc3JjLFwibWF4LWhlaWdodFwiOlwiOTB2aFwiLFwiY29udGFpblwiOlwiXCJ9fSk6X3ZtLl9lKCksX3ZtLl92KFwiIFwiKSxfYygndi1idG4nLHtzdGF0aWNDbGFzczpcImNsb3NlLWJ0blwiLGF0dHJzOntcImljb25cIjpcIlwiLFwiY29sb3JcIjpcImdyYXlcIn0sb246e1wiY2xpY2tcIjpmdW5jdGlvbigkZXZlbnQpe192bS4kZW1pdCgnZm9jdXNPdXQnKTsgX3ZtLm9wZW49ZmFsc2U7fX19LFtfYygndi1pY29uJyxbX3ZtLl92KFwibWRpLWNsb3NlXCIpXSldLDEpXSwxKV0pOl92bS5fZSgpXSwxKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxyXG4gICAgPGRpdiBpZD1cImRyb3AtYXJlYVwiIGNsYXNzPVwiZHJvcC1hcmVhXCIgOmNsYXNzPVwiJHZ1ZXRpZnkuYnJlYWtwb2ludC5zbUFuZERvd24gPyBbJ2Ryb3Atc20nXSA6IFtdXCI+XHJcbiAgICAgICAgPGZvcm0gY2xhc3M9XCJkcm9wLWZvcm1cIj5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgaWQ9XCJmaWxlRWxlbVwiIG11bHRpcGxlIGFjY2VwdD1cImltYWdlLypcIlxyXG4gICAgICAgICAgICAgICAgICAgQGNoYW5nZT1cIihlKSA9PiAkZW1pdCgnY2hhbmdlJywgZSlcIiBjbGFzcz1cImhpZGVcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZHJvcC1idG5cIiBmb3I9XCJmaWxlRWxlbVwiPnt7IXlldCA/ICfQl9Cw0LPRgNGD0LfQuNGC0Ywg0YTQvtGC0L4nIDogJ9CX0LDQs9GA0YPQt9C40YLRjCDQtdGJ0LUnfX08L2xhYmVsPlxyXG4gICAgICAgICAgICA8cCBjbGFzcz1cImZvcm1hdC1maWxlLWRlc2NcIj7QpNC+0YDQvNCw0YIg4oCTIGpwZywgcG5nPC9wPlxyXG4gICAgICAgICAgICA8cCBjbGFzcz1cImZpbGUtZGVzYyBob3ZlclwiPtCe0YLQv9GD0YHRgtC40YLQtSDRhNC+0YLQvtCz0YDQsNGE0LjRjiDRgdGO0LTQsDwvcD5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICA8L2Rpdj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQ+XHJcbiAgICBleHBvcnQgZGVmYXVsdCB7XHJcbiAgICAgICAgbmFtZTogXCJEcm9wQXJlYVwiLFxyXG4gICAgICAgIGRhdGE6ICh2bSkgPT4gKHt2bX0pLFxyXG4gICAgICAgIHByb3BzOiBbJ3lldCddLFxyXG4gICAgICAgIG1vdW50ZWQodm0pIHtcclxuICAgICAgICAgICAgbGV0IGRyb3BBcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3AtYXJlYScpO1xyXG4gICAgICAgICAgICBbJ2RyYWdlbnRlcicsICdkcmFnb3ZlcicsICdkcmFnbGVhdmUnLCAnZHJvcCddLmZvckVhY2goZXZlbnROYW1lID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3BBcmVhLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBwcmV2ZW50RGVmYXVsdHMsIGZhbHNlKVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcHJldmVudERlZmF1bHRzKGUpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBbJ2RyYWdlbnRlcicsICdkcmFnb3ZlciddLmZvckVhY2goZXZlbnROYW1lID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3BBcmVhLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmb2N1cywgZmFsc2UpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBbJ2RyYWdsZWF2ZScsICdkcm9wJ10uZm9yRWFjaChldmVudE5hbWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcEFyZWEuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHVuZm9jdXMsIGZhbHNlKVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZvY3VzKGUpIHtcclxuICAgICAgICAgICAgICAgIGRyb3BBcmVhLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzJylcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdW5mb2N1cyhlKSB7XHJcbiAgICAgICAgICAgICAgICBkcm9wQXJlYS5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1cycpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZURyb3AgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGR0ID0gZS5kYXRhVHJhbnNmZXJcclxuICAgICAgICAgICAgICAgIGxldCBmaWxlcyA9IGR0LmZpbGVzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUZpbGVzKGZpbGVzKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRyb3BBcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVEcm9wLCBmYWxzZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIGhhbmRsZUZpbGVzKGZpbGVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB7dGFyZ2V0OntmaWxlc319KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgc2NvcGVkPlxyXG4gICAgLmRyb3AtYXJlYTpub3QoLmRyb3Atc20pIHtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIGhlaWdodDogMjAwcHg7XHJcbiAgICAgICAgYmFja2dyb3VuZDogI0ZGRkZGRjtcclxuICAgICAgICBib3JkZXI6IDFweCBkYXNoZWQgI0FGQUZBRjtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIH1cclxuXHJcbiAgICAjZHJvcC1hcmVhLmZvY3VzIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjRjhGOEY4O1xyXG4gICAgfVxyXG5cclxuICAgIC5ob3ZlciB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgIH1cclxuXHJcbiAgICAuZm9jdXMgLmhpZGUge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAuZm9jdXMgLmhvdmVyIHtcclxuICAgICAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIHAge1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLmRyb3AtYXJlYTpub3QoLmRyb3Atc20pIC5kcm9wLWZvcm0ge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogNTA7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC5kcm9wLWJ0biB7XHJcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICBtaW4td2lkdGg6IDE1MHB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICBoZWlnaHQ6IDM1cHg7XHJcbiAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjRjhGOEY4O1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxN3B4O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIH1cclxuICAgIC5kcm9wLXNtIC5kcm9wLWJ0bntcclxuICAgICAgICBtaW4td2lkdGg6IDEwMCU7XHJcbiAgICB9XHJcblxyXG4gICAgI2ZpbGVFbGVtIHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgIC5maWxlLWRlc2Mge1xyXG5cclxuICAgICAgICBmb250LXN0eWxlOiBub3JtYWw7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDIycHg7XHJcbiAgICAgICAgY29sb3I6ICM0QTRBNEE7XHJcbiAgICB9XHJcblxyXG4gICAgLmRyb3Atc20gLmZpbGUtZGVzYyB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZVxyXG4gICAgfVxyXG4gICAgLmZvcm1hdC1maWxlLWRlc2Mge1xyXG4gICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcclxuICAgICAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgICBsaW5lLWhlaWdodDogMTlweDtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgY29sb3I6ICNBRkFGQUY7XHJcbiAgICB9XHJcbjwvc3R5bGU+XHJcbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNVswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9Ecm9wQXJlYS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNVswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9Ecm9wQXJlYS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0Ryb3BBcmVhLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1lZTRmZWQwYyZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9Ecm9wQXJlYS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL0Ryb3BBcmVhLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9Ecm9wQXJlYS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD1lZTRmZWQwYyZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiZWU0ZmVkMGNcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJkcm9wLWFyZWFcIixjbGFzczpfdm0uJHZ1ZXRpZnkuYnJlYWtwb2ludC5zbUFuZERvd24gPyBbJ2Ryb3Atc20nXSA6IFtdLGF0dHJzOntcImlkXCI6XCJkcm9wLWFyZWFcIn19LFtfYygnZm9ybScse3N0YXRpY0NsYXNzOlwiZHJvcC1mb3JtXCJ9LFtfYygnaW5wdXQnLHtzdGF0aWNDbGFzczpcImhpZGVcIixhdHRyczp7XCJ0eXBlXCI6XCJmaWxlXCIsXCJpZFwiOlwiZmlsZUVsZW1cIixcIm11bHRpcGxlXCI6XCJcIixcImFjY2VwdFwiOlwiaW1hZ2UvKlwifSxvbjp7XCJjaGFuZ2VcIjpmdW5jdGlvbiAoZSkgeyByZXR1cm4gX3ZtLiRlbWl0KCdjaGFuZ2UnLCBlKTsgfX19KSxfdm0uX3YoXCIgXCIpLF9jKCdsYWJlbCcse3N0YXRpY0NsYXNzOlwiZHJvcC1idG5cIixhdHRyczp7XCJmb3JcIjpcImZpbGVFbGVtXCJ9fSxbX3ZtLl92KF92bS5fcyghX3ZtLnlldCA/ICfQl9Cw0LPRgNGD0LfQuNGC0Ywg0YTQvtGC0L4nIDogJ9CX0LDQs9GA0YPQt9C40YLRjCDQtdGJ0LUnKSldKSxfdm0uX3YoXCIgXCIpLF9jKCdwJyx7c3RhdGljQ2xhc3M6XCJmb3JtYXQtZmlsZS1kZXNjXCJ9LFtfdm0uX3YoXCLQpNC+0YDQvNCw0YIg4oCTIGpwZywgcG5nXCIpXSksX3ZtLl92KFwiIFwiKSxfYygncCcse3N0YXRpY0NsYXNzOlwiZmlsZS1kZXNjIGhvdmVyXCJ9LFtfdm0uX3YoXCLQntGC0L/Rg9GB0YLQuNGC0LUg0YTQvtGC0L7Qs9GA0LDRhNC40Y4g0YHRjtC00LBcIildKV0pXSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cclxuICAgIDx2LWNhcmQgY2xhc3M9XCJkLWZsZXggZmxleC1jb2x1bW4gcHQtNCBwYi00XCIganVzdGlmeS1jZW50ZXIgYWxpZ24tY2VudGVyIGVsZXZhdGlvbj1cIjBcIj5cclxuICAgICAgICA8ZGl2IHYtaWY9XCJvbmUgJiYgbG9hZGVkUGhvdG9zLmxlbmd0aFwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj57e2xvYWRlZFBob3Rvc1swXS5uYW1lfX08L2Rpdj5cclxuICAgICAgICA8di1yb3cgdi1pZj1cIiFvbmVcIiBjbGFzcz1cIlwiPlxyXG4gICAgICAgICAgICA8di1jb2wgeHM9XCI2XCIgbWQ9XCIzXCIgc209XCI2XCIgdi1mb3I9XCIocGhvdG8sIGkpIGluIGNhcm91c2VsUGhvdG9zXCIgOmtleT1cImlcIiB2LWlmPVwiISFjYXJvdXNlbFBob3Rvc1tpXVwiPlxyXG4gICAgICAgICAgICAgICAgPGVkaXQtcGhvdG8tY2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6cHJlbG9hZD1cInByZWxvYWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6ZmlsbGVkPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDpmaWxlPVwicGhvdG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBAZGVsZXRlPVwiKCkgPT4gZGVsZXRlUGhvdG8ocGhvdG8sIGkpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpblxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC92LWNvbD5cclxuICAgICAgICAgICAgPHYtY29sIHhzPVwiNlwiIG1kPVwiM1wiIHNtPVwiNlwiPlxyXG4gICAgICAgICAgICAgICAgPGVkaXQtcGhvdG8tY2FyZFxyXG4gICAgICAgICAgICAgICAgICAgIEBjbGljaz1cIigpID0+ICRyZWZzLmJ0bi5jbGljaygpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRyb3AtYXJlYSBAY2hhbmdlPVwiYWRkUGhvdG9cIiA6eWV0PVwiY2Fyb3VzZWxQaG90b3MubGVuZ3RoXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LXNsb3Q6YWN0aW9ucz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhpZGRlblwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICA8L2VkaXQtcGhvdG8tY2FyZD5cclxuICAgICAgICAgICAgPC92LWNvbD5cclxuICAgICAgICA8L3Ytcm93PlxyXG4gICAgPC92LWNhcmQ+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG5cclxuICAgIGltcG9ydCBFZGl0UGhvdG9DYXJkIGZyb20gXCIuL0VkaXRQaG90b0NhcmRcIjtcclxuICAgIGltcG9ydCBEcm9wQXJlYSBmcm9tIFwiLi9Ecm9wQXJlYVwiO1xyXG5cclxuICAgIGV4cG9ydCBkZWZhdWx0IHtcclxuICAgICAgICBuYW1lOiAncGhvdG8tbG9hZGVyJyxcclxuICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICByYWRpdXM6IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25lOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBob3Rvczoge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogQXJyYXksXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiAoW10pLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcmVsb2FkOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBvbmVudHM6IHtEcm9wQXJlYSwgRWRpdFBob3RvQ2FyZH0sXHJcbiAgICAgICAgZGF0YTogKHZtKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgbjogMCxcclxuICAgICAgICAgICAgICAgIHBob3RvOiAnJyxcclxuICAgICAgICAgICAgICAgIGxvYWRlZFBob3RvczogW10sXHJcbiAgICAgICAgICAgICAgICBkZWxldGVkOiBbXSxcclxuICAgICAgICAgICAgICAgIGNhcm91c2VsUGhvdG9zOiB2bS5waG90b3MsXHJcbiAgICAgICAgICAgICAgICBmaWxlSW1nOiBudWxsLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHVwZGF0ZWQoKSB7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIGRlbGV0ZVBob3RvKHBob3RvLCBjcGkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwaG90by5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZWRQaG90b3MuZm9yRWFjaCgoZmlsZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5uYW1lID09PSBwaG90by5uYW1lKSBkZWxldGUgdGhpcy5sb2FkZWRQaG90b3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlZC5wdXNoKHRoaXMucGhvdG9zW2NwaV0uaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2Fyb3VzZWxQaG90b3NbY3BpXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxQaG90b3MgPSBbLi4udGhpcy5jYXJvdXNlbFBob3Rvc107XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldFBob3RvcygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRlZFBob3Rvcy5jb25jYXQodGhpcy5kZWxldGVkKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0Rmlyc3QoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkZWRQaG90b3NbMF07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJldHVybkZvcm1EYXRhKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2F2ZS1waG90bycsIHZhbClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdXBkYXRlUGhvdG8odmFsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBob3RvID0gdmFsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dDcm9wcGVyRGlhbG9nID0gZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2xpY2tPbklucHV0KCkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVzJykuZmlsZXMgPSAobmV3IERhdGFUcmFuc2ZlcigpKS5maWxlcztcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlcycpLmNsaWNrKClcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFkZFBob3RvKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBbLi4uZXZlbnQudGFyZ2V0LmZpbGVzXS5mb3JFYWNoKChwaG90bykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZUltZyA9IHBob3RvO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbGVJbWcuc2l6ZSA+IDUwMjQwMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kY2hpbGRyZW5bMF0uc25hY2tiYXJUZXh0ID0gJ9Cg0LDQt9C80LXRgCDRhNCw0LnQu9CwINC90LUg0LzQvtC20LXRgiDQsdGL0YLRjCDQsdC+0LvRjNGI0LUgNdCc0JEnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGNoaWxkcmVuWzBdLnNuYWNrYmFyID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxvYWRlZFBob3Rvcy5sZW5ndGggPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRjaGlsZHJlblswXS5zbmFja2JhclRleHQgPSAn0JLRiyDQvdC1INC80L7QttC10YLQtSDQt9Cw0LPRgNGD0LfQuNGC0Ywg0LHQvtC70YzRiNC1IDEwINGE0L7RgtC+0LPRgNCw0YTQuNC5J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRjaGlsZHJlblswXS5zbmFja2JhciA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcm91c2VsUGhvdG9zID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmNhcm91c2VsUGhvdG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWxvYWQgPyBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuZmlsZUltZykgOiB0aGlzLmZpbGVJbWdcclxuICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkUGhvdG9zLnB1c2godGhpcy5maWxlSW1nKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubiA9IHRoaXMubG9hZGVkUGhvdG9zLmxlbmd0aCAtIDFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHdhdGNoOiB7XHJcbiAgICAgICAgICAgIHBob3Rvcyhudikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYXJvdXNlbFBob3RvcyA9IG52Lm1hcCgoZmlsZSkgPT4gZmlsZS5maWxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgc2NvcGVkPlxyXG4gICAgLnBob3RvLWlucHV0IHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgfVxyXG48L3N0eWxlPlxyXG4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTVbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vcGhvdG8tbG9hZGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3Bob3RvLWxvYWRlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL3Bob3RvLWxvYWRlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NzEwMTMwYTImc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vcGhvdG8tbG9hZGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vcGhvdG8tbG9hZGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9waG90by1sb2FkZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NzEwMTMwYTImc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjcxMDEzMGEyXCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ3YtY29udGFpbmVyJyx7c3RhdGljQ2xhc3M6XCJjb3ZlclwifSxbX2MoJ3YtdG9vbGJhci10aXRsZScse3N0YXRpY0NsYXNzOlwibWItMlwiLGF0dHJzOntcImFsaWduXCI6XCJjZW50ZXJcIixcImp1c3RpZnlcIjpcImNlbnRlclwifSxkb21Qcm9wczp7XCJ0ZXh0Q29udGVudFwiOl92bS5fcyhfdm0uJHJvdXRlLnBhcmFtcy5pZCAgPT0gMCA/ICfQlNC+0LHQsNCy0LvQtdC90LjQtSDQvtCx0YDQsNGJ0LXQvdC40Y8nIDogICfQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC+0LHRgNCw0YnQtdC90LjRjycpfX0pLF92bS5fdihcIiBcIiksX2MoJ3YtdGV4dC1maWVsZCcse2F0dHJzOntcInR5cGVcIjpcInRleHRcIixcIm5hbWVcIjpcInRpdGxlXCIsXCJsYWJlbFwiOlwi0JfQsNCz0L7Qu9C+0LLQvtC6XCIsXCJlcnJvci1tZXNzYWdlc1wiOl92bS5tZXNzYWdlcy50aXRsZX0sbW9kZWw6e3ZhbHVlOihfdm0ucG9zdC50aXRsZSksY2FsbGJhY2s6ZnVuY3Rpb24gKCQkdikge192bS4kc2V0KF92bS5wb3N0LCBcInRpdGxlXCIsICQkdil9LGV4cHJlc3Npb246XCJwb3N0LnRpdGxlXCJ9fSksX3ZtLl92KFwiIFwiKSxfYygndi10ZXh0YXJlYScse3N0YXRpY0NsYXNzOlwiZGVzY3JpcHRpb24gXCIsYXR0cnM6e1wibmFtZVwiOlwiZGVzY3JpcHRpb25cIixcImxhYmVsXCI6XCLQntC/0LjRgdCw0L3QuNC1XCIsXCJoaW50XCI6XCJIaW50IHRleHRcIixcInZhbHVlXCI6JyAnLFwiZXJyb3ItbWVzc2FnZXNcIjpfdm0ubWVzc2FnZXMuZGVzY3JpcHRpb259fSksX3ZtLl92KFwiIFwiKSxfYygnZWRpdG9yJyx7c3RhdGljQ2xhc3M6XCJtdC0yXCIsYXR0cnM6e1wiYXBpLWtleVwiOlwia2FwcjBraDB2M3ZzY25rcHBzeGdpZzk4dmY2bWdpdGFpaThhdXczcDJwaW4xYzV0XCJ9LG1vZGVsOnt2YWx1ZTooX3ZtLnBvc3QuZGVzY3JpcHRpb24pLGNhbGxiYWNrOmZ1bmN0aW9uICgkJHYpIHtfdm0uJHNldChfdm0ucG9zdCwgXCJkZXNjcmlwdGlvblwiLCAkJHYpfSxleHByZXNzaW9uOlwicG9zdC5kZXNjcmlwdGlvblwifX0pLF92bS5fdihcIiBcIiksX2MoJ3Ytc3BhY2VyJyksX3ZtLl92KFwiIFwiKSxfYygncGhvdG8tbG9hZGVyJyx7cmVmOlwibG9hZGVyXCIsYXR0cnM6e1wicGhvdG9zXCI6X3ZtLnBvc3QucGhvdG9zfX0pLF92bS5fdihcIiBcIiksX2MoJ3YtYnRuJyx7c3RhdGljQ2xhc3M6XCJzYXZlLWJ0bi10ZXh0XCIsYXR0cnM6e1wiY29sb3JcIjpcInN1Y2Nlc3NcIixcImRpc2FibGVkXCI6IShfdm0ucG9zdC5pZD4gMCkgJiYgKCFfdm0ucG9zdC5kZXNjcmlwdGlvbiB8fCAhX3ZtLnBvc3QudGl0bGUpfSxvbjp7XCJjbGlja1wiOmZ1bmN0aW9uICgpIHsgcmV0dXJuIF92bS5wb3N0LmlkPjAgPyBfdm0udXBkYXRlKCkgOiBfdm0uY3JlYXRlKCk7IH19fSxbX3ZtLl92KFwiXFxuICAgICAgICDQodC+0YXRgNCw0L3QuNGC0YxcXG4gICAgXCIpXSldLDEpfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XHJcbiAgICA8di1jb250YWluZXJcclxuICAgICAgICAgICAgY2xhc3M9XCJjb3ZlclwiPlxyXG4gICAgICAgIDx2LXRvb2xiYXItdGl0bGUgYWxpZ249XCJjZW50ZXJcIiBqdXN0aWZ5PVwiY2VudGVyXCIgY2xhc3M9XCJtYi0yXCJcclxuICAgICAgICB2LXRleHQ9XCIkcm91dGUucGFyYW1zLmlkICA9PSAwID8gJ9CU0L7QsdCw0LLQu9C10L3QuNC1INC+0LHRgNCw0YnQtdC90LjRjycgOiAgJ9Cg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0L7QsdGA0LDRidC10L3QuNGPJ1wiPlxyXG4gICAgICAgIDwvdi10b29sYmFyLXRpdGxlPlxyXG4gICAgICAgIDx2LXRleHQtZmllbGRcclxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICBuYW1lPVwidGl0bGVcIlxyXG4gICAgICAgICAgICBsYWJlbD1cItCX0LDQs9C+0LvQvtCy0L7QulwiXHJcbiAgICAgICAgICAgIHYtbW9kZWw9XCJwb3N0LnRpdGxlXCJcclxuICAgICAgICAgICAgOmVycm9yLW1lc3NhZ2VzPVwibWVzc2FnZXMudGl0bGVcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgPC92LXRleHQtZmllbGQ+XHJcbiAgICAgICAgPHYtdGV4dGFyZWFcclxuICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICBsYWJlbD1cItCe0L/QuNGB0LDQvdC40LVcIlxyXG4gICAgICAgICAgICAgICAgaGludD1cIkhpbnQgdGV4dFwiXHJcbiAgICAgICAgICAgICAgICA6dmFsdWU9XCInICdcIlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJkZXNjcmlwdGlvbiBcIlxyXG4gICAgICAgICAgICAgICAgOmVycm9yLW1lc3NhZ2VzPVwibWVzc2FnZXMuZGVzY3JpcHRpb25cIlxyXG4gICAgICAgID48L3YtdGV4dGFyZWE+XHJcbiAgICAgICAgPGVkaXRvclxyXG4gICAgICAgICAgICAgICAgYXBpLWtleT1cImthcHIwa2gwdjN2c2Nua3Bwc3hnaWc5OHZmNm1naXRhaWk4YXV3M3AycGluMWM1dFwiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cIm10LTJcIlxyXG4gICAgICAgICAgICAgICAgdi1tb2RlbD1cInBvc3QuZGVzY3JpcHRpb25cIlxyXG4gICAgICAgID5cclxuICAgICAgICA8L2VkaXRvcj5cclxuICAgICAgICA8di1zcGFjZXIvPlxyXG4gICAgICAgIDxwaG90by1sb2FkZXIgcmVmPVwibG9hZGVyXCIgIDpwaG90b3M9XCJwb3N0LnBob3Rvc1wiLz5cclxuICAgICAgICA8di1idG4gY2xhc3M9XCJzYXZlLWJ0bi10ZXh0XCJcclxuICAgICAgICAgICAgICAgQGNsaWNrPVwiKCkgPT4gcG9zdC5pZD4wID8gdXBkYXRlKCkgOiBjcmVhdGUoKVwiXHJcbiAgICAgICAgICAgICAgIGNvbG9yPVwic3VjY2Vzc1wiXHJcbiAgICAgICAgICAgICAgIDpkaXNhYmxlZD1cIiEocG9zdC5pZD4gMCkgJiYgKCFwb3N0LmRlc2NyaXB0aW9uIHx8ICFwb3N0LnRpdGxlKVwiPlxyXG4gICAgICAgICAgICDQodC+0YXRgNCw0L3QuNGC0YxcclxuICAgICAgICA8L3YtYnRuPlxyXG4gICAgPC92LWNvbnRhaW5lcj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQ+XHJcbiAgICBpbXBvcnQgRWRpdG9yIGZyb20gJ0B0aW55bWNlL3RpbnltY2UtdnVlJztcclxuICAgIGltcG9ydCBQaG90b0xvYWRlciBmcm9tICdAL2NvbXBvbmVudHMvcGhvdG8tbG9hZGVyJ1xyXG4gICAgZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgICAgIG5hbWU6IFwiVXNlclBvc3RFZGl0XCIsXHJcbiAgICAgICAgY29tcG9uZW50czoge1xyXG4gICAgICAgICAgICBFZGl0b3IsXHJcbiAgICAgICAgICAgIFBob3RvTG9hZGVyXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXRhOiAodm0pID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBvc3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogdm0uJHJvdXRlLnBhcmFtcy5pZCxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBob3RvczogW10sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3VudGVkKCkge1xyXG4gICAgICAgICAgICBsZXQgbW9kZWxJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDtcclxuICAgICAgICAgICAgaWYgKG1vZGVsSWQgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmF4aW9zLmdldCgnL3VzZXIvcG9zdC8nKyBtb2RlbElkKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTtcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kY2hpbGRyZW5bMF0uc25hY2tiYXJUZXh0ID0gZT8ucmVzcG9uc2U/LmVycm9yIHx8ICfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRjaGlsZHJlblswXS5zbmFja2JhciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWV0aG9kczoge1xyXG4gICAgICAgICAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MucG9zdCgnL3VzZXIvcG9zdCcsIHRoaXMucG9zdClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigocikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3QuaWQgPSByLmRhdGEuZGF0YS5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlICYmIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MjIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9ycyA9IGUucmVzcG9uc2UuZGF0YS5lcnJvcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5tZXNzYWdlcykuZm9yRWFjaCgoayk9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzW2tdID0gZXJyb3JzW2tdPy5bMF0gfHwgJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MucHV0KCcvdXNlci9wb3N0LycrIHRoaXMucG9zdC5pZCwgdGhpcy5wb3N0KVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdQaG90b3MgPSB0aGlzLiRyZWZzLmxvYWRlci5nZXRQaG90b3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Bob3Rvcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQaG90b3MuZm9yRWFjaCgocGhvdG8sIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGhvdG8ubmFtZSkgZm9ybURhdGEuYXBwZW5kKCdwb3N0X3Bob3Rvc1snK2krJ10nLCBwaG90bywgcGhvdG8ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBmb3JtRGF0YS5hcHBlbmQoJ2RlbGV0ZV9waG90b3NbJytpKyddJywgcGhvdG8pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnX21ldGhvZCcsICdQVVQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmF4aW9zLnBvc3QoJy91c2VyL3Bvc3QvJyt0aGlzLnBvc3QuaWQsIGZvcm1EYXRhKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6IFwidXBvc3RzXCJ9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRjaGlsZHJlblswXS5zbmFja2JhclRleHQgPSAgYNCe0YjQuNCx0LrQsCDRgdC+0YXRgNCw0L3QtdC90LjRjyDRhNC+0YLQvtCz0YDQsNGE0LjQuGA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kY2hpbGRyZW5bMF0uc25hY2tiYXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiBcInVwb3N0c1wifSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlICYmIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MjIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9ycyA9IGUucmVzcG9uc2UuZGF0YS5lcnJvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMubWVzc2FnZXMpLmZvckVhY2goKGspPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlc1trXSA9IGVycm9yc1trXT8uWzBdIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZT5cclxuICAgIC5kZXNjcmlwdGlvbiAudi10ZXh0LWZpZWxkX19zbG90IHRleHRhcmVhIHtcclxuICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiAgICAuZGVzY3JpcHRpb24udi10ZXh0LWZpZWxkPi52LWlucHV0X19jb250cm9sPi52LWlucHV0X19zbG90OmFmdGVyICxcclxuICAgIC5kZXNjcmlwdGlvbi52LXRleHQtZmllbGQ+LnYtaW5wdXRfX2NvbnRyb2w+LnYtaW5wdXRfX3Nsb3Q6YmVmb3Jle1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcclxuICAgIH1cclxuPC9zdHlsZT4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTVbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vVXNlclBvc3RFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1VzZXJQb3N0RWRpdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL1VzZXJQb3N0RWRpdC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MWY3MzA4N2QmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vVXNlclBvc3RFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vVXNlclBvc3RFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9Vc2VyUG9zdEVkaXQudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC05WzBdLnJ1bGVzWzBdLnVzZVsxXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTlbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vRHJvcEFyZWEudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9ZWU0ZmVkMGMmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjAxZTA5YjRjXCIsIGNvbnRlbnQsIHRydWUsIHt9KTsiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtOVswXS5ydWxlc1swXS51c2VbMV0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC05WzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0VkaXRQaG90b0NhcmQudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTAzZjJhZmImc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjczNmE1M2MzXCIsIGNvbnRlbnQsIHRydWUsIHt9KTsiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtOVswXS5ydWxlc1swXS51c2VbMV0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC05WzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0VkaXRQaG90b0NhcmQudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTEmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjA4YzI3NzhjXCIsIGNvbnRlbnQsIHRydWUsIHt9KTsiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtOVswXS5ydWxlc1swXS51c2VbMV0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC05WzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1Byb2dyZXNzQmFyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTZlYmY0ZWFhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCIxMGRkOWNlZVwiLCBjb250ZW50LCB0cnVlLCB7fSk7IiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTlbMF0ucnVsZXNbMF0udXNlWzFdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtOVswXS5ydWxlc1swXS51c2VbMl0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9waG90by1sb2FkZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NzEwMTMwYTImc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjExZWE1MGNlXCIsIGNvbnRlbnQsIHRydWUsIHt9KTsiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtOVswXS5ydWxlc1swXS51c2VbMV0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC05WzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1VzZXJQb3N0RWRpdC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiNzM2MTI2ZmRcIiwgY29udGVudCwgdHJ1ZSwge30pOyJdLCJzb3VyY2VSb290IjoiIn0=