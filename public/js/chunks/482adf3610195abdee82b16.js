(self.webpackChunk=self.webpackChunk||[]).push([[482],{434:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,s=n(4082),i=function(){return{listeners:[],scriptId:s.uuid("tiny-script"),scriptLoaded:!1}},r=(o=i(),{load:function(t,e,n){o.scriptLoaded?n():(o.listeners.push(n),t.getElementById(o.scriptId)||function(t,e,n,o){var s=e.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=t,s.src=n;var i=function(){s.removeEventListener("load",i),o()};s.addEventListener("load",i),e.head&&e.head.appendChild(s)}(o.scriptId,t,e,(function(){o.listeners.forEach((function(t){return t()})),o.scriptLoaded=!0})))},reinitialize:function(){o=i()}});e.ScriptLoader=r},8537:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getTinymce=function(){var t="undefined"!=typeof window?window:n.g;return t&&t.tinymce?t.tinymce:null}},4082:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(t){return-1!==n.map((function(t){return t.toLowerCase()})).indexOf(t.toLowerCase())};e.isValidKey=o;var s=function(t,e,n){Object.keys(e).filter(o).forEach((function(o){var s=e[o];"function"==typeof s&&("onInit"===o?s(t,n):n.on(o.substring(2),(function(t){return s(t,n)})))}))};e.bindHandlers=s;var i=function(t,e){var n=t.$props.modelEvents?t.$props.modelEvents:null,o=Array.isArray(n)?n.join(" "):n;e.on(o||"change input undo redo",(function(){t.$emit("input",e.getContent({format:t.$props.outputFormat}))}))};e.bindModelHandlers=i;e.initEditor=function(t,e,n){var o=e.$props.value?e.$props.value:"",r=e.$props.initialValue?e.$props.initialValue:"";n.setContent(o||(e.initialized?e.cache:r)),e.$watch("value",(function(t,o){n&&"string"==typeof t&&t!==o&&t!==n.getContent({format:e.$props.outputFormat})&&n.setContent(t)})),e.$listeners.input&&i(e,n),s(t,e.$listeners,n),e.initialized=!0};var r=0;e.uuid=function(t){var e=Date.now();return t+"_"+Math.floor(1e9*Math.random())+ ++r+String(e)};e.isTextarea=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()};var a=function(t){return void 0===t||""===t?[]:Array.isArray(t)?t:t.split(" ")};e.mergePlugins=function(t,e){return a(t).concat(a(e))};e.isNullOrUndefined=function(t){return null==t}},2282:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(434),i=n(8537),r=n(4082),a=n(7431),l=function(t){return function(){var e=o(o({},t.$props.init),{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:r.mergePlugins(t.$props.init&&t.$props.init.plugins,t.$props.plugins),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",(function(n){return r.initEditor(n,t,e)})),t.$props.init&&"function"==typeof t.$props.init.setup&&t.$props.init.setup(e)}});r.isTextarea(t.element)&&(t.element.style.visibility="",t.element.style.display=""),i.getTinymce().init(e)}};e.Editor={props:a.editorProps,created:function(){this.elementId=this.$props.id||r.uuid("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==i.getTinymce())l(this)();else if(this.element&&this.element.ownerDocument){var t=this.$props.cloudChannel?this.$props.cloudChannel:"5",e=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=r.isNullOrUndefined(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc;s.ScriptLoader.load(this.element.ownerDocument,n,l(this))}},beforeDestroy:function(){null!==i.getTinymce()&&i.getTinymce().remove(this.editor)},deactivated:function(){var t;this.inlineEditor||(this.cache=this.editor.getContent(),null===(t=i.getTinymce())||void 0===t||t.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&l(this)()},render:function(t){return this.inlineEditor?function(t,e,n){return t(n||"div",{attrs:{id:e}})}(t,this.elementId,this.$props.tagName):function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})}(t,this.elementId)}}},7431:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorProps={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}}},5846:(t,e,n)=>{"use strict";var o=n(2282);e.Z=o.Editor},4247:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n(4015),s=n.n(o),i=n(3645),r=n.n(i)()(s());r.push([t.id,".photo-input[data-v-595d1e4d]{position:absolute;visibility:hidden}.user-photo[data-v-595d1e4d]{border-radius:200px;width:300px;height:auto;max-height:500px;border:1px solid #01aefe}.user-photo-module[data-v-595d1e4d]{display:flex;flex-direction:column;justify-content:center;align-items:center}","",{version:3,sources:["webpack://./resources/js/components/photo-loader.vue"],names:[],mappings:"AA2FA,8BACA,iBAAA,CACA,iBACA,CAEA,6BACA,mBAAA,CACA,WAAA,CACA,WAAA,CACA,gBAAA,CACA,wBACA,CAEA,oCACA,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,kBACA",sourcesContent:['<template>\n    <v-card class="d-flex flex-column" justify-center align-center elevation="0">\n        <input\n                type="file"\n                id="files"\n                @change="addPhoto"\n                class="photo-input"\n                placeholder="azaz"\n                accept="image/jpeg,image/png,image/jpg"\n        />\n\n        <v-btn class="btn my-2" @click="clickOnInput" v-if="!one || !carouselPhotos.length">Добавить фотографию</v-btn>\n        <div v-if="one && loadedPhotos.length" class="text-center">{{loadedPhotos[0].name}}</div>\n        <div v-if="!one && carouselPhotos.length" class="user-photo-module">\n            <v-carousel v-model="n">\n                <v-carousel-item\n                        v-for="(photo, i) in carouselPhotos"\n                        :key="i"\n                        :src="photo"\n                        contain\n                >\n                </v-carousel-item>\n            </v-carousel>\n        </div>\n    </v-card>\n</template>\n\n<script>\n\n    export default {\n        name: \'photo-loader\',\n        props: {\n            radius: {\n                type: Number,\n            },\n            one: {\n                type: Boolean,\n                default: false,\n            }\n        },\n        components: {},\n        data() {\n            return {\n                n: 0,\n                photo: \'\',\n                loadedPhotos: [],\n                carouselPhotos:[],\n                fileImg: null,\n            }\n        },\n        methods: {\n            getPhotos() {\n                return this.loadedPhotos;\n            },\n            getFirst() {\n                return this.loadedPhotos[0];\n            },\n            returnFormData(val) {\n                this.$emit(\'save-photo\', val)\n            },\n            updatePhoto(val) {\n                this.photo = val\n                this.showCropperDialog = false\n            },\n            clickOnInput() {\n                document.getElementById(\'files\').files = (new DataTransfer()).files;\n                document.getElementById(\'files\').click()\n\n            },\n            addPhoto(event) {\n                this.fileImg = event.target.files[0]\n                if (this.fileImg.size > 5024000) {\n                    this.$root.$children[0].snackbarText = \'Размер файла не может быть больше 5МБ\'\n                    this.$root.$children[0].snackbar = true\n                    return;\n                }\n                if(this.loadedPhotos.length > 10) {\n                    this.$root.$children[0].snackbarText = \'Вы не можете загрузить больше 10 фотографий\'\n                    this.$root.$children[0].snackbar = true\n                    return;\n                }\n                this.carouselPhotos.push(URL.createObjectURL(this.fileImg))\n                this.loadedPhotos.push(this.fileImg)\n                this.n = this.loadedPhotos.length-1\n                this.fileImg = null;\n            },\n        },\n    }\n<\/script>\n\n<style scoped>\n    .photo-input {\n        position: absolute;\n        visibility: hidden;\n    }\n\n    .user-photo {\n        border-radius: 200px;\n        width: 300px;\n        height: auto;\n        max-height: 500px;\n        border: 1px solid #01aefe;\n    }\n\n    .user-photo-module {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n</style>\n'],sourceRoot:""}]);const a=r},8243:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n(4015),s=n.n(o),i=n(3645),r=n.n(i)()(s());r.push([t.id,".description.v-text-field>.v-input__control>.v-input__slot:after,.description.v-text-field>.v-input__control>.v-input__slot:before,.description .v-text-field__slot textarea{display:none!important}","",{version:3,sources:["webpack://./resources/js/pages/PostEdit.vue"],names:[],mappings:"AAsIA,6KAEA,sBACA",sourcesContent:['<template>\n    <v-container\n            class="cover">\n        <v-toolbar-title align="center" justify="center" class="mb-2"\n        v-text="$route.params.id  == 0 ? \'Добавление новости\' :  \'Редактирование новости\'">\n        </v-toolbar-title>\n        <v-text-field\n            type="text"\n            name="title"\n            label="Заголовок"\n            v-model="post.title"\n            :error-messages="messages.title"\n            >\n        </v-text-field>\n        <v-textarea\n                name="description"\n                label="Описание"\n                hint="Hint text"\n                :value="\' \'"\n                class="description "\n                :error-messages="messages.description"\n        ></v-textarea>\n        <editor\n                api-key="kapr0kh0v3vscnkppsxgig98vf6mgitaii8auw3p2pin1c5t"\n                class="mt-2"\n                v-model="post.description"\n        >\n        </editor>\n        <v-spacer/>\n        <photo-loader v-if="$route.params.id > 0" ref="loader"></photo-loader>\n        <v-btn class="save-btn"\n               v-if="$route.params.id == 0"\n               color="success"\n               fab\n               @click="create"\n               :disabled="!(post.description && post.title)"\n               dark>\n            <v-icon>mdi-plus</v-icon>\n        </v-btn>\n        <v-btn class="save-btn"\n               v-else\n               @click="update"\n               color="success"\n               fab\n               dark>\n            <v-icon>mdi-check-outline</v-icon>\n        </v-btn>\n    </v-container>\n</template>\n\n<script>\n    import Editor from \'@tinymce/tinymce-vue\';\n    import PhotoLoader from \'@/components/photo-loader\'\n    export default {\n        name: "PostAdd",\n        components: {\n            Editor,\n            PhotoLoader\n        },\n        data: (vm) => {\n            return {\n                post: {\n                    id: vm.$route.params.id,\n                    title: \'\',\n                    description: \'\',\n                },\n                messages: {\n                    title: \'\',\n                    description: \'\',\n                }\n            }\n        },\n        mounted() {\n            let modelId = this.$route.params.id;\n            if (modelId != 0) {\n                window.axios.get(\'/post/\'+ modelId).then((response) => {\n                    this.post = response.data.data;\n                }).catch((e) => {\n                    console.log(e);\n                    this.$root.$children[0].snackbarText = e?.response?.error || \'Произошла ошибка\';\n                    this.$root.$children[0].snackbar = true;\n                });\n            }\n        },\n        methods: {\n            create() {\n                window.axios.post(\'/post\', this.post)\n                    .then((r) => {\n                        this.$router.push({name: "post", params: {id: r.data.data.id}});\n                    }).catch((e) => {\n                    if (e.response && e.response.status === 422) {\n                        let errors = e.response.data.errors\n                        Object.keys(this.messages).forEach((k)=> {\n                            this.messages[k] = errors[k]?.[0] || \'\';\n                        });\n                    }\n                })\n            },\n             update() {\n                window.axios.put(\'/post/\'+ this.post.id, this.post)\n                    .then((r) => {\n                        let newPhotos = this.$refs.loader.getPhotos();\n                        if (newPhotos.length) {\n                            const formData = new FormData()\n                            newPhotos.forEach((photo, i) => {\n                                formData.append(\'post_photos[\'+i+\']\', photo, photo.name)\n                            })\n                            formData.append(\'_method\', \'PUT\')\n                            try {\n                                window.axios.post(\'/post/\'+this.post.id, formData)\n                            } catch (e) {\n                                this.$root.$children[0].snackbarText =  `Ошибка сохранения фотографии`\n                                this.$root.$children[0].snackbar = true\n                            }\n                        }\n                        this.$router.push({name: "posts"});\n                    }).catch((e) => {\n                    console.log(e);\n                    if (e.response && e.response.status === 422) {\n                        let errors = e.response.data.errors\n                        Object.keys(this.messages).forEach((k)=> {\n                            this.messages[k] = errors[k]?.[0] || \'\';\n                        });\n                    }\n                })\n            }\n        }\n    }\n<\/script>\n\n<style>\n    .description .v-text-field__slot textarea {\n        display: none !important;\n    }\n    .description.v-text-field>.v-input__control>.v-input__slot:after ,\n    .description.v-text-field>.v-input__control>.v-input__slot:before{\n        display: none !important;\n    }\n</style>'],sourceRoot:""}]);const a=r},7136:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});const o={name:"photo-loader",props:{radius:{type:Number},one:{type:Boolean,default:!1}},components:{},data:function(){return{n:0,photo:"",loadedPhotos:[],carouselPhotos:[],fileImg:null}},methods:{getPhotos:function(){return this.loadedPhotos},getFirst:function(){return this.loadedPhotos[0]},returnFormData:function(t){this.$emit("save-photo",t)},updatePhoto:function(t){this.photo=t,this.showCropperDialog=!1},clickOnInput:function(){document.getElementById("files").files=(new DataTransfer).files,document.getElementById("files").click()},addPhoto:function(t){return this.fileImg=t.target.files[0],this.fileImg.size>5024e3?(this.$root.$children[0].snackbarText="Размер файла не может быть больше 5МБ",void(this.$root.$children[0].snackbar=!0)):this.loadedPhotos.length>10?(this.$root.$children[0].snackbarText="Вы не можете загрузить больше 10 фотографий",void(this.$root.$children[0].snackbar=!0)):(this.carouselPhotos.push(URL.createObjectURL(this.fileImg)),this.loadedPhotos.push(this.fileImg),this.n=this.loadedPhotos.length-1,void(this.fileImg=null))}}};n(8258);const s=(0,n(1900).Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"d-flex flex-column",attrs:{"justify-center":"","align-center":"",elevation:"0"}},[n("input",{staticClass:"photo-input",attrs:{type:"file",id:"files",placeholder:"azaz",accept:"image/jpeg,image/png,image/jpg"},on:{change:t.addPhoto}}),t._v(" "),t.one&&t.carouselPhotos.length?t._e():n("v-btn",{staticClass:"btn my-2",on:{click:t.clickOnInput}},[t._v("Добавить фотографию")]),t._v(" "),t.one&&t.loadedPhotos.length?n("div",{staticClass:"text-center"},[t._v(t._s(t.loadedPhotos[0].name))]):t._e(),t._v(" "),!t.one&&t.carouselPhotos.length?n("div",{staticClass:"user-photo-module"},[n("v-carousel",{model:{value:t.n,callback:function(e){t.n=e},expression:"n"}},t._l(t.carouselPhotos,(function(t,e){return n("v-carousel-item",{key:e,attrs:{src:t,contain:""}})})),1)],1):t._e()],1)}),[],!1,null,"595d1e4d",null).exports},9482:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n(5846),s=n(7136);const i={name:"PostAdd",components:{Editor:o.Z,PhotoLoader:s.Z},data:function(t){return{post:{id:t.$route.params.id,title:"",description:""},messages:{title:"",description:""}}},mounted:function(){var t=this,e=this.$route.params.id;0!=e&&window.axios.get("/post/"+e).then((function(e){t.post=e.data.data})).catch((function(e){var n;console.log(e),t.$root.$children[0].snackbarText=(null==e||null===(n=e.response)||void 0===n?void 0:n.error)||"Произошла ошибка",t.$root.$children[0].snackbar=!0}))},methods:{create:function(){var t=this;window.axios.post("/post",this.post).then((function(e){t.$router.push({name:"post",params:{id:e.data.data.id}})})).catch((function(e){if(e.response&&422===e.response.status){var n=e.response.data.errors;Object.keys(t.messages).forEach((function(e){var o;t.messages[e]=(null===(o=n[e])||void 0===o?void 0:o[0])||""}))}}))},update:function(){var t=this;window.axios.put("/post/"+this.post.id,this.post).then((function(e){var n=t.$refs.loader.getPhotos();if(n.length){var o=new FormData;n.forEach((function(t,e){o.append("post_photos["+e+"]",t,t.name)})),o.append("_method","PUT");try{window.axios.post("/post/"+t.post.id,o)}catch(e){t.$root.$children[0].snackbarText="Ошибка сохранения фотографии",t.$root.$children[0].snackbar=!0}}t.$router.push({name:"posts"})})).catch((function(e){if(console.log(e),e.response&&422===e.response.status){var n=e.response.data.errors;Object.keys(t.messages).forEach((function(e){var o;t.messages[e]=(null===(o=n[e])||void 0===o?void 0:o[0])||""}))}}))}}};n(2591);const r=(0,n(1900).Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"cover"},[n("v-toolbar-title",{staticClass:"mb-2",attrs:{align:"center",justify:"center"},domProps:{textContent:t._s(0==t.$route.params.id?"Добавление новости":"Редактирование новости")}}),t._v(" "),n("v-text-field",{attrs:{type:"text",name:"title",label:"Заголовок","error-messages":t.messages.title},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}}),t._v(" "),n("v-textarea",{staticClass:"description ",attrs:{name:"description",label:"Описание",hint:"Hint text",value:" ","error-messages":t.messages.description}}),t._v(" "),n("editor",{staticClass:"mt-2",attrs:{"api-key":"kapr0kh0v3vscnkppsxgig98vf6mgitaii8auw3p2pin1c5t"},model:{value:t.post.description,callback:function(e){t.$set(t.post,"description",e)},expression:"post.description"}}),t._v(" "),n("v-spacer"),t._v(" "),t.$route.params.id>0?n("photo-loader",{ref:"loader"}):t._e(),t._v(" "),0==t.$route.params.id?n("v-btn",{staticClass:"save-btn",attrs:{color:"success",fab:"",disabled:!(t.post.description&&t.post.title),dark:""},on:{click:t.create}},[n("v-icon",[t._v("mdi-plus")])],1):n("v-btn",{staticClass:"save-btn",attrs:{color:"success",fab:"",dark:""},on:{click:t.update}},[n("v-icon",[t._v("mdi-check-outline")])],1)],1)}),[],!1,null,null,null).exports},8258:(t,e,n)=>{var o=n(4247);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);(0,n(5346).Z)("34d8856a",o,!0,{})},2591:(t,e,n)=>{var o=n(8243);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);(0,n(5346).Z)("19a4d546",o,!0,{})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHRpbnltY2UvdGlueW1jZS12dWUvbGliL2Nqcy9tYWluL3RzL1NjcmlwdExvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHRpbnltY2UvdGlueW1jZS12dWUvbGliL2Nqcy9tYWluL3RzL1RpbnlNQ0UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B0aW55bWNlL3RpbnltY2UtdnVlL2xpYi9janMvbWFpbi90cy9VdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHRpbnltY2UvdGlueW1jZS12dWUvbGliL2Nqcy9tYWluL3RzL2NvbXBvbmVudHMvRWRpdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdGlueW1jZS90aW55bWNlLXZ1ZS9saWIvY2pzL21haW4vdHMvY29tcG9uZW50cy9FZGl0b3JQcm9wVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B0aW55bWNlL3RpbnltY2UtdnVlL2xpYi9janMvbWFpbi90cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9waG90by1sb2FkZXIudnVlP2IxNzMiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL3BhZ2VzL1Bvc3RFZGl0LnZ1ZT84N2Y3Iiwid2VicGFjazovLy9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9waG90by1sb2FkZXIudnVlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL3Bob3RvLWxvYWRlci52dWU/MjZlYSIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9waG90by1sb2FkZXIudnVlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL3Bob3RvLWxvYWRlci52dWU/YmQ2NyIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvcGFnZXMvUG9zdEVkaXQudnVlPzhiYzIiLCJ3ZWJwYWNrOi8vL3Jlc291cmNlcy9qcy9wYWdlcy9Qb3N0RWRpdC52dWUiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL3BhZ2VzL1Bvc3RFZGl0LnZ1ZT84ZDQyIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9wYWdlcy9Qb3N0RWRpdC52dWUiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvcGhvdG8tbG9hZGVyLnZ1ZT9mMjc4Iiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9wYWdlcy9Qb3N0RWRpdC52dWU/MDg3YSJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInN0YXRlIiwiVXRpbHNfMSIsImNyZWF0ZVN0YXRlIiwibGlzdGVuZXJzIiwic2NyaXB0SWQiLCJ1dWlkIiwic2NyaXB0TG9hZGVkIiwiU2NyaXB0TG9hZGVyIiwibG9hZCIsImRvYyIsInVybCIsImNhbGxiYWNrIiwicHVzaCIsImdldEVsZW1lbnRCeUlkIiwic2NyaXB0VGFnIiwiY3JlYXRlRWxlbWVudCIsInJlZmVycmVyUG9saWN5IiwidHlwZSIsImlkIiwic3JjIiwiaGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiaW5qZWN0U2NyaXB0VGFnIiwiZm9yRWFjaCIsImZuIiwicmVpbml0aWFsaXplIiwiZ2V0VGlueW1jZSIsImdsb2JhbCIsIndpbmRvdyIsImciLCJ0aW55bWNlIiwidmFsaWRFdmVudHMiLCJpc1ZhbGlkS2V5Iiwia2V5IiwibWFwIiwiZXZlbnQiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJiaW5kSGFuZGxlcnMiLCJpbml0RXZlbnQiLCJlZGl0b3IiLCJrZXlzIiwiZmlsdGVyIiwib24iLCJzdWJzdHJpbmciLCJlIiwiYmluZE1vZGVsSGFuZGxlcnMiLCJjdHgiLCJtb2RlbEV2ZW50cyIsIiRwcm9wcyIsIm5vcm1hbGl6ZWRFdmVudHMiLCJBcnJheSIsImlzQXJyYXkiLCJqb2luIiwiJGVtaXQiLCJnZXRDb250ZW50IiwiZm9ybWF0Iiwib3V0cHV0Rm9ybWF0IiwiaW5pdEVkaXRvciIsImluaXRpYWxWYWx1ZSIsInNldENvbnRlbnQiLCJpbml0aWFsaXplZCIsImNhY2hlIiwiJHdhdGNoIiwidmFsIiwicHJldlZhbCIsIiRsaXN0ZW5lcnMiLCJpbnB1dCIsInVuaXF1ZSIsInByZWZpeCIsInRpbWUiLCJEYXRlIiwibm93IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiU3RyaW5nIiwiaXNUZXh0YXJlYSIsImVsZW1lbnQiLCJ0YWdOYW1lIiwibm9ybWFsaXplUGx1Z2luQXJyYXkiLCJwbHVnaW5zIiwic3BsaXQiLCJtZXJnZVBsdWdpbnMiLCJpbml0UGx1Z2lucyIsImlucHV0UGx1Z2lucyIsImNvbmNhdCIsImlzTnVsbE9yVW5kZWZpbmVkIiwiX19hc3NpZ24iLCJ0aGlzIiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsIlNjcmlwdExvYWRlcl8xIiwiVGlueU1DRV8xIiwiRWRpdG9yUHJvcFR5cGVzXzEiLCJpbml0aWFsaXNlIiwiZmluYWxJbml0IiwiaW5pdCIsInJlYWRvbmx5IiwiZGlzYWJsZWQiLCJzZWxlY3RvciIsImVsZW1lbnRJZCIsInRvb2xiYXIiLCJpbmxpbmUiLCJpbmxpbmVFZGl0b3IiLCJzZXR1cCIsInN0eWxlIiwidmlzaWJpbGl0eSIsImRpc3BsYXkiLCJFZGl0b3IiLCJwcm9wcyIsImVkaXRvclByb3BzIiwiY3JlYXRlZCIsIndhdGNoIiwic2V0TW9kZSIsIm1vdW50ZWQiLCIkZWwiLCJvd25lckRvY3VtZW50IiwiY2hhbm5lbCIsImNsb3VkQ2hhbm5lbCIsImFwaUtleSIsInNjcmlwdFNyYyIsInRpbnltY2VTY3JpcHRTcmMiLCJiZWZvcmVEZXN0cm95IiwicmVtb3ZlIiwiZGVhY3RpdmF0ZWQiLCJfYSIsImFjdGl2YXRlZCIsInJlbmRlciIsImgiLCJhdHRycyIsInJlbmRlcklubGluZSIsInJlbmRlcklmcmFtZSIsIkJvb2xlYW4iLCJ2YWxpZGF0b3IiLCJwcm9wIiwiRWRpdG9yXzEiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIm1vZHVsZSIsIl92bSIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwic3RhdGljQ2xhc3MiLCJhZGRQaG90byIsIl92Iiwib25lIiwiY2Fyb3VzZWxQaG90b3MiLCJfZSIsImNsaWNrT25JbnB1dCIsImxvYWRlZFBob3RvcyIsIl9zIiwibmFtZSIsIm1vZGVsIiwiJCR2IiwiZXhwcmVzc2lvbiIsIl9sIiwicGhvdG8iLCJkb21Qcm9wcyIsIiRyb3V0ZSIsInBhcmFtcyIsIm1lc3NhZ2VzIiwidGl0bGUiLCJwb3N0IiwiJHNldCIsImRlc2NyaXB0aW9uIiwicmVmIiwiY3JlYXRlIiwidXBkYXRlIiwiY29udGVudCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9jYWxzIiwiYWRkIl0sIm1hcHBpbmdzIjoia0ZBUUFBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELElBU1FDLEVBVEpDLEVBQVUsRUFBUSxNQUNsQkMsRUFBYyxXQUNkLE1BQU8sQ0FDSEMsVUFBVyxHQUNYQyxTQUFVSCxFQUFRSSxLQUFLLGVBQ3ZCQyxjQUFjLElBMkNsQkMsR0F2Q0lQLEVBQVFFLElBa0NMLENBQ0hNLEtBbkJPLFNBQVVDLEVBQUtDLEVBQUtDLEdBQ3ZCWCxFQUFNTSxhQUNOSyxLQUdBWCxFQUFNRyxVQUFVUyxLQUFLRCxHQUNoQkYsRUFBSUksZUFBZWIsRUFBTUksV0FyQmhCLFNBQVVBLEVBQVVLLEVBQUtDLEVBQUtDLEdBQ2hELElBQUlHLEVBQVlMLEVBQUlNLGNBQWMsVUFDbENELEVBQVVFLGVBQWlCLFNBQzNCRixFQUFVRyxLQUFPLHlCQUNqQkgsRUFBVUksR0FBS2QsRUFDZlUsRUFBVUssSUFBTVQsRUFDaEIsSUFBSVUs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MTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE4LXByZXNlbnQsIEVwaG94LCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIDIgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBVdGlsc18xID0gcmVxdWlyZShcIi4vVXRpbHNcIik7XG52YXIgY3JlYXRlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGlzdGVuZXJzOiBbXSxcbiAgICAgICAgc2NyaXB0SWQ6IFV0aWxzXzEudXVpZCgndGlueS1zY3JpcHQnKSxcbiAgICAgICAgc2NyaXB0TG9hZGVkOiBmYWxzZVxuICAgIH07XG59O1xudmFyIENyZWF0ZVNjcmlwdExvYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhdGUgPSBjcmVhdGVTdGF0ZSgpO1xuICAgIHZhciBpbmplY3RTY3JpcHRUYWcgPSBmdW5jdGlvbiAoc2NyaXB0SWQsIGRvYywgdXJsLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgc2NyaXB0VGFnID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICBzY3JpcHRUYWcucmVmZXJyZXJQb2xpY3kgPSAnb3JpZ2luJztcbiAgICAgICAgc2NyaXB0VGFnLnR5cGUgPSAnYXBwbGljYXRpb24vamF2YXNjcmlwdCc7XG4gICAgICAgIHNjcmlwdFRhZy5pZCA9IHNjcmlwdElkO1xuICAgICAgICBzY3JpcHRUYWcuc3JjID0gdXJsO1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNjcmlwdFRhZy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgaGFuZGxlcik7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9O1xuICAgICAgICBzY3JpcHRUYWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGhhbmRsZXIpO1xuICAgICAgICBpZiAoZG9jLmhlYWQpIHtcbiAgICAgICAgICAgIGRvYy5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdFRhZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBsb2FkID0gZnVuY3Rpb24gKGRvYywgdXJsLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoc3RhdGUuc2NyaXB0TG9hZGVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKCFkb2MuZ2V0RWxlbWVudEJ5SWQoc3RhdGUuc2NyaXB0SWQpKSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0U2NyaXB0VGFnKHN0YXRlLnNjcmlwdElkLCBkb2MsIHVybCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuKCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zY3JpcHRMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBPbmx5IHRvIGJlIHVzZWQgYnkgdGVzdHMuXG4gICAgdmFyIHJlaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RhdGUgPSBjcmVhdGVTdGF0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9hZDogbG9hZCxcbiAgICAgICAgcmVpbml0aWFsaXplOiByZWluaXRpYWxpemVcbiAgICB9O1xufTtcbnZhciBTY3JpcHRMb2FkZXIgPSBDcmVhdGVTY3JpcHRMb2FkZXIoKTtcbmV4cG9ydHMuU2NyaXB0TG9hZGVyID0gU2NyaXB0TG9hZGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxOC1wcmVzZW50LCBFcGhveCwgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSAyIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZ2V0R2xvYmFsID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKTsgfTtcbnZhciBnZXRUaW55bWNlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBnbG9iYWwgPSBnZXRHbG9iYWwoKTtcbiAgICByZXR1cm4gZ2xvYmFsICYmIGdsb2JhbC50aW55bWNlID8gZ2xvYmFsLnRpbnltY2UgOiBudWxsO1xufTtcbmV4cG9ydHMuZ2V0VGlueW1jZSA9IGdldFRpbnltY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE4LXByZXNlbnQsIEVwaG94LCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIDIgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB2YWxpZEV2ZW50cyA9IFtcbiAgICAnb25BY3RpdmF0ZScsXG4gICAgJ29uQWRkVW5kbycsXG4gICAgJ29uQmVmb3JlQWRkVW5kbycsXG4gICAgJ29uQmVmb3JlRXhlY0NvbW1hbmQnLFxuICAgICdvbkJlZm9yZUdldENvbnRlbnQnLFxuICAgICdvbkJlZm9yZVJlbmRlclVJJyxcbiAgICAnb25CZWZvcmVTZXRDb250ZW50JyxcbiAgICAnb25CZWZvcmVQYXN0ZScsXG4gICAgJ29uQmx1cicsXG4gICAgJ29uQ2hhbmdlJyxcbiAgICAnb25DbGVhclVuZG9zJyxcbiAgICAnb25DbGljaycsXG4gICAgJ29uQ29udGV4dE1lbnUnLFxuICAgICdvbkNvcHknLFxuICAgICdvbkN1dCcsXG4gICAgJ29uRGJsY2xpY2snLFxuICAgICdvbkRlYWN0aXZhdGUnLFxuICAgICdvbkRpcnR5JyxcbiAgICAnb25EcmFnJyxcbiAgICAnb25EcmFnRHJvcCcsXG4gICAgJ29uRHJhZ0VuZCcsXG4gICAgJ29uRHJhZ0dlc3R1cmUnLFxuICAgICdvbkRyYWdPdmVyJyxcbiAgICAnb25Ecm9wJyxcbiAgICAnb25FeGVjQ29tbWFuZCcsXG4gICAgJ29uRm9jdXMnLFxuICAgICdvbkZvY3VzSW4nLFxuICAgICdvbkZvY3VzT3V0JyxcbiAgICAnb25HZXRDb250ZW50JyxcbiAgICAnb25IaWRlJyxcbiAgICAnb25Jbml0JyxcbiAgICAnb25LZXlEb3duJyxcbiAgICAnb25LZXlQcmVzcycsXG4gICAgJ29uS2V5VXAnLFxuICAgICdvbkxvYWRDb250ZW50JyxcbiAgICAnb25Nb3VzZURvd24nLFxuICAgICdvbk1vdXNlRW50ZXInLFxuICAgICdvbk1vdXNlTGVhdmUnLFxuICAgICdvbk1vdXNlTW92ZScsXG4gICAgJ29uTW91c2VPdXQnLFxuICAgICdvbk1vdXNlT3ZlcicsXG4gICAgJ29uTW91c2VVcCcsXG4gICAgJ29uTm9kZUNoYW5nZScsXG4gICAgJ29uT2JqZWN0UmVzaXplU3RhcnQnLFxuICAgICdvbk9iamVjdFJlc2l6ZWQnLFxuICAgICdvbk9iamVjdFNlbGVjdGVkJyxcbiAgICAnb25QYXN0ZScsXG4gICAgJ29uUG9zdFByb2Nlc3MnLFxuICAgICdvblBvc3RSZW5kZXInLFxuICAgICdvblByZVByb2Nlc3MnLFxuICAgICdvblByb2dyZXNzU3RhdGUnLFxuICAgICdvblJlZG8nLFxuICAgICdvblJlbW92ZScsXG4gICAgJ29uUmVzZXQnLFxuICAgICdvblNhdmVDb250ZW50JyxcbiAgICAnb25TZWxlY3Rpb25DaGFuZ2UnLFxuICAgICdvblNldEF0dHJpYicsXG4gICAgJ29uU2V0Q29udGVudCcsXG4gICAgJ29uU2hvdycsXG4gICAgJ29uU3VibWl0JyxcbiAgICAnb25VbmRvJyxcbiAgICAnb25WaXN1YWxBaWQnXG5dO1xudmFyIGlzVmFsaWRLZXkgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiB2YWxpZEV2ZW50cy5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBldmVudC50b0xvd2VyQ2FzZSgpOyB9KS5pbmRleE9mKGtleS50b0xvd2VyQ2FzZSgpKSAhPT0gLTE7IH07XG5leHBvcnRzLmlzVmFsaWRLZXkgPSBpc1ZhbGlkS2V5O1xudmFyIGJpbmRIYW5kbGVycyA9IGZ1bmN0aW9uIChpbml0RXZlbnQsIGxpc3RlbmVycywgZWRpdG9yKSB7XG4gICAgT2JqZWN0LmtleXMobGlzdGVuZXJzKVxuICAgICAgICAuZmlsdGVyKGlzVmFsaWRLZXkpXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBsaXN0ZW5lcnNba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnb25Jbml0Jykge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIoaW5pdEV2ZW50LCBlZGl0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKGtleS5zdWJzdHJpbmcoMiksIGZ1bmN0aW9uIChlKSB7IHJldHVybiBoYW5kbGVyKGUsIGVkaXRvcik7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59O1xuZXhwb3J0cy5iaW5kSGFuZGxlcnMgPSBiaW5kSGFuZGxlcnM7XG52YXIgYmluZE1vZGVsSGFuZGxlcnMgPSBmdW5jdGlvbiAoY3R4LCBlZGl0b3IpIHtcbiAgICB2YXIgbW9kZWxFdmVudHMgPSBjdHguJHByb3BzLm1vZGVsRXZlbnRzID8gY3R4LiRwcm9wcy5tb2RlbEV2ZW50cyA6IG51bGw7XG4gICAgdmFyIG5vcm1hbGl6ZWRFdmVudHMgPSBBcnJheS5pc0FycmF5KG1vZGVsRXZlbnRzKSA/IG1vZGVsRXZlbnRzLmpvaW4oJyAnKSA6IG1vZGVsRXZlbnRzO1xuICAgIGVkaXRvci5vbihub3JtYWxpemVkRXZlbnRzID8gbm9ybWFsaXplZEV2ZW50cyA6ICdjaGFuZ2UgaW5wdXQgdW5kbyByZWRvJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjdHguJGVtaXQoJ2lucHV0JywgZWRpdG9yLmdldENvbnRlbnQoeyBmb3JtYXQ6IGN0eC4kcHJvcHMub3V0cHV0Rm9ybWF0IH0pKTtcbiAgICB9KTtcbn07XG5leHBvcnRzLmJpbmRNb2RlbEhhbmRsZXJzID0gYmluZE1vZGVsSGFuZGxlcnM7XG52YXIgaW5pdEVkaXRvciA9IGZ1bmN0aW9uIChpbml0RXZlbnQsIGN0eCwgZWRpdG9yKSB7XG4gICAgdmFyIHZhbHVlID0gY3R4LiRwcm9wcy52YWx1ZSA/IGN0eC4kcHJvcHMudmFsdWUgOiAnJztcbiAgICB2YXIgaW5pdGlhbFZhbHVlID0gY3R4LiRwcm9wcy5pbml0aWFsVmFsdWUgPyBjdHguJHByb3BzLmluaXRpYWxWYWx1ZSA6ICcnO1xuICAgIGVkaXRvci5zZXRDb250ZW50KHZhbHVlIHx8IChjdHguaW5pdGlhbGl6ZWQgPyBjdHguY2FjaGUgOiBpbml0aWFsVmFsdWUpKTtcbiAgICAvLyBBbHdheXMgYmluZCB0aGUgdmFsdWUgbGlzdGVuZXIgaW4gY2FzZSB1c2VycyB1c2UgOnZhbHVlIGluc3RlYWQgb2Ygdi1tb2RlbFxuICAgIGN0eC4kd2F0Y2goJ3ZhbHVlJywgZnVuY3Rpb24gKHZhbCwgcHJldlZhbCkge1xuICAgICAgICBpZiAoZWRpdG9yICYmIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIHZhbCAhPT0gcHJldlZhbCAmJiB2YWwgIT09IGVkaXRvci5nZXRDb250ZW50KHsgZm9ybWF0OiBjdHguJHByb3BzLm91dHB1dEZvcm1hdCB9KSkge1xuICAgICAgICAgICAgZWRpdG9yLnNldENvbnRlbnQodmFsKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGNoZWNrcyBpZiB0aGUgdi1tb2RlbCBzaG9ydGhhbmQgaXMgdXNlZCAod2hpY2ggc2V0cyBhbiB2LW9uOmlucHV0IGxpc3RlbmVyKSBhbmQgdGhlbiBiaW5kcyBlaXRoZXJcbiAgICAvLyBzcGVjaWZpZWQgdGhlIGV2ZW50cyBvciBkZWZhdWx0cyB0byBcImNoYW5nZSBrZXl1cFwiIGV2ZW50IGFuZCBlbWl0cyB0aGUgZWRpdG9yIGNvbnRlbnQgb24gdGhhdCBldmVudFxuICAgIGlmIChjdHguJGxpc3RlbmVycy5pbnB1dCkge1xuICAgICAgICBiaW5kTW9kZWxIYW5kbGVycyhjdHgsIGVkaXRvcik7XG4gICAgfVxuICAgIGJpbmRIYW5kbGVycyhpbml0RXZlbnQsIGN0eC4kbGlzdGVuZXJzLCBlZGl0b3IpO1xuICAgIGN0eC5pbml0aWFsaXplZCA9IHRydWU7XG59O1xuZXhwb3J0cy5pbml0RWRpdG9yID0gaW5pdEVkaXRvcjtcbnZhciB1bmlxdWUgPSAwO1xudmFyIHV1aWQgPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgdmFyIHRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHZhciByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwMDAwKTtcbiAgICB1bmlxdWUrKztcbiAgICByZXR1cm4gcHJlZml4ICsgJ18nICsgcmFuZG9tICsgdW5pcXVlICsgU3RyaW5nKHRpbWUpO1xufTtcbmV4cG9ydHMudXVpZCA9IHV1aWQ7XG52YXIgaXNUZXh0YXJlYSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgIT09IG51bGwgJiYgZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0ZXh0YXJlYSc7XG59O1xuZXhwb3J0cy5pc1RleHRhcmVhID0gaXNUZXh0YXJlYTtcbnZhciBub3JtYWxpemVQbHVnaW5BcnJheSA9IGZ1bmN0aW9uIChwbHVnaW5zKSB7XG4gICAgaWYgKHR5cGVvZiBwbHVnaW5zID09PSAndW5kZWZpbmVkJyB8fCBwbHVnaW5zID09PSAnJykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBsdWdpbnMpID8gcGx1Z2lucyA6IHBsdWdpbnMuc3BsaXQoJyAnKTtcbn07XG52YXIgbWVyZ2VQbHVnaW5zID0gZnVuY3Rpb24gKGluaXRQbHVnaW5zLCBpbnB1dFBsdWdpbnMpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplUGx1Z2luQXJyYXkoaW5pdFBsdWdpbnMpLmNvbmNhdChub3JtYWxpemVQbHVnaW5BcnJheShpbnB1dFBsdWdpbnMpKTtcbn07XG5leHBvcnRzLm1lcmdlUGx1Z2lucyA9IG1lcmdlUGx1Z2lucztcbnZhciBpc051bGxPclVuZGVmaW5lZCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZDsgfTtcbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTgtcHJlc2VudCwgRXBob3gsIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgMiBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBTY3JpcHRMb2FkZXJfMSA9IHJlcXVpcmUoXCIuLi9TY3JpcHRMb2FkZXJcIik7XG52YXIgVGlueU1DRV8xID0gcmVxdWlyZShcIi4uL1RpbnlNQ0VcIik7XG52YXIgVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9VdGlsc1wiKTtcbnZhciBFZGl0b3JQcm9wVHlwZXNfMSA9IHJlcXVpcmUoXCIuL0VkaXRvclByb3BUeXBlc1wiKTtcbnZhciByZW5kZXJJbmxpbmUgPSBmdW5jdGlvbiAoaCwgaWQsIHRhZ05hbWUpIHtcbiAgICByZXR1cm4gaCh0YWdOYW1lID8gdGFnTmFtZSA6ICdkaXYnLCB7XG4gICAgICAgIGF0dHJzOiB7IGlkOiBpZCB9XG4gICAgfSk7XG59O1xudmFyIHJlbmRlcklmcmFtZSA9IGZ1bmN0aW9uIChoLCBpZCkge1xuICAgIHJldHVybiBoKCd0ZXh0YXJlYScsIHtcbiAgICAgICAgYXR0cnM6IHsgaWQ6IGlkIH0sXG4gICAgICAgIHN0eWxlOiB7IHZpc2liaWxpdHk6ICdoaWRkZW4nIH1cbiAgICB9KTtcbn07XG52YXIgaW5pdGlhbGlzZSA9IGZ1bmN0aW9uIChjdHgpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZmluYWxJbml0ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGN0eC4kcHJvcHMuaW5pdCksIHsgcmVhZG9ubHk6IGN0eC4kcHJvcHMuZGlzYWJsZWQsIHNlbGVjdG9yOiBcIiNcIiArIGN0eC5lbGVtZW50SWQsIHBsdWdpbnM6IFV0aWxzXzEubWVyZ2VQbHVnaW5zKGN0eC4kcHJvcHMuaW5pdCAmJiBjdHguJHByb3BzLmluaXQucGx1Z2lucywgY3R4LiRwcm9wcy5wbHVnaW5zKSwgdG9vbGJhcjogY3R4LiRwcm9wcy50b29sYmFyIHx8IChjdHguJHByb3BzLmluaXQgJiYgY3R4LiRwcm9wcy5pbml0LnRvb2xiYXIpLCBpbmxpbmU6IGN0eC5pbmxpbmVFZGl0b3IsIHNldHVwOiBmdW5jdGlvbiAoZWRpdG9yKSB7XG4gICAgICAgICAgICBjdHguZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICAgICAgZWRpdG9yLm9uKCdpbml0JywgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIFV0aWxzXzEuaW5pdEVkaXRvcihlLCBjdHgsIGVkaXRvcik7IH0pO1xuICAgICAgICAgICAgaWYgKGN0eC4kcHJvcHMuaW5pdCAmJiB0eXBlb2YgY3R4LiRwcm9wcy5pbml0LnNldHVwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY3R4LiRwcm9wcy5pbml0LnNldHVwKGVkaXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gfSk7XG4gICAgaWYgKFV0aWxzXzEuaXNUZXh0YXJlYShjdHguZWxlbWVudCkpIHtcbiAgICAgICAgY3R4LmVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgICAgICBjdHguZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgfVxuICAgIFRpbnlNQ0VfMS5nZXRUaW55bWNlKCkuaW5pdChmaW5hbEluaXQpO1xufTsgfTtcbmV4cG9ydHMuRWRpdG9yID0ge1xuICAgIHByb3BzOiBFZGl0b3JQcm9wVHlwZXNfMS5lZGl0b3JQcm9wcyxcbiAgICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudElkID0gdGhpcy4kcHJvcHMuaWQgfHwgVXRpbHNfMS51dWlkKCd0aW55LXZ1ZScpO1xuICAgICAgICB0aGlzLmlubGluZUVkaXRvciA9ICh0aGlzLiRwcm9wcy5pbml0ICYmIHRoaXMuJHByb3BzLmluaXQuaW5saW5lKSB8fCB0aGlzLiRwcm9wcy5pbmxpbmU7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB9LFxuICAgIHdhdGNoOiB7XG4gICAgICAgIGRpc2FibGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5zZXRNb2RlKHRoaXMuZGlzYWJsZWQgPyAncmVhZG9ubHknIDogJ2Rlc2lnbicpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuJGVsO1xuICAgICAgICBpZiAoVGlueU1DRV8xLmdldFRpbnltY2UoKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaW5pdGlhbGlzZSh0aGlzKSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZWxlbWVudCAmJiB0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudCkge1xuICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLiRwcm9wcy5jbG91ZENoYW5uZWwgPyB0aGlzLiRwcm9wcy5jbG91ZENoYW5uZWwgOiAnNSc7XG4gICAgICAgICAgICB2YXIgYXBpS2V5ID0gdGhpcy4kcHJvcHMuYXBpS2V5ID8gdGhpcy4kcHJvcHMuYXBpS2V5IDogJ25vLWFwaS1rZXknO1xuICAgICAgICAgICAgdmFyIHNjcmlwdFNyYyA9IFV0aWxzXzEuaXNOdWxsT3JVbmRlZmluZWQodGhpcy4kcHJvcHMudGlueW1jZVNjcmlwdFNyYykgP1xuICAgICAgICAgICAgICAgIFwiaHR0cHM6Ly9jZG4udGlueS5jbG91ZC8xL1wiICsgYXBpS2V5ICsgXCIvdGlueW1jZS9cIiArIGNoYW5uZWwgKyBcIi90aW55bWNlLm1pbi5qc1wiIDpcbiAgICAgICAgICAgICAgICB0aGlzLiRwcm9wcy50aW55bWNlU2NyaXB0U3JjO1xuICAgICAgICAgICAgU2NyaXB0TG9hZGVyXzEuU2NyaXB0TG9hZGVyLmxvYWQodGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQsIHNjcmlwdFNyYywgaW5pdGlhbGlzZSh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKFRpbnlNQ0VfMS5nZXRUaW55bWNlKCkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIFRpbnlNQ0VfMS5nZXRUaW55bWNlKCkucmVtb3ZlKHRoaXMuZWRpdG9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuaW5saW5lRWRpdG9yKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlID0gdGhpcy5lZGl0b3IuZ2V0Q29udGVudCgpO1xuICAgICAgICAgICAgKF9hID0gVGlueU1DRV8xLmdldFRpbnltY2UoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZSh0aGlzLmVkaXRvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFjdGl2YXRlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5saW5lRWRpdG9yICYmIHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGluaXRpYWxpc2UodGhpcykoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoaCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmxpbmVFZGl0b3IgPyByZW5kZXJJbmxpbmUoaCwgdGhpcy5lbGVtZW50SWQsIHRoaXMuJHByb3BzLnRhZ05hbWUpIDogcmVuZGVySWZyYW1lKGgsIHRoaXMuZWxlbWVudElkKTtcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxOC1wcmVzZW50LCBFcGhveCwgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSAyIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmVkaXRvclByb3BzID0ge1xuICAgIGFwaUtleTogU3RyaW5nLFxuICAgIGNsb3VkQ2hhbm5lbDogU3RyaW5nLFxuICAgIGlkOiBTdHJpbmcsXG4gICAgaW5pdDogT2JqZWN0LFxuICAgIGluaXRpYWxWYWx1ZTogU3RyaW5nLFxuICAgIGlubGluZTogQm9vbGVhbixcbiAgICBtb2RlbEV2ZW50czogW1N0cmluZywgQXJyYXldLFxuICAgIHBsdWdpbnM6IFtTdHJpbmcsIEFycmF5XSxcbiAgICB0YWdOYW1lOiBTdHJpbmcsXG4gICAgdG9vbGJhcjogW1N0cmluZywgQXJyYXldLFxuICAgIHZhbHVlOiBTdHJpbmcsXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgdGlueW1jZVNjcmlwdFNyYzogU3RyaW5nLFxuICAgIG91dHB1dEZvcm1hdDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKHByb3ApIHsgcmV0dXJuIHByb3AgPT09ICdodG1sJyB8fCBwcm9wID09PSAndGV4dCc7IH1cbiAgICB9LFxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTgtcHJlc2VudCwgRXBob3gsIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgMiBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEVkaXRvcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9FZGl0b3JcIik7XG5leHBvcnRzLmRlZmF1bHQgPSBFZGl0b3JfMS5FZGl0b3I7XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi5waG90by1pbnB1dFtkYXRhLXYtNTk1ZDFlNGRde3Bvc2l0aW9uOmFic29sdXRlO3Zpc2liaWxpdHk6aGlkZGVufS51c2VyLXBob3RvW2RhdGEtdi01OTVkMWU0ZF17Ym9yZGVyLXJhZGl1czoyMDBweDt3aWR0aDozMDBweDtoZWlnaHQ6YXV0bzttYXgtaGVpZ2h0OjUwMHB4O2JvcmRlcjoxcHggc29saWQgIzAxYWVmZX0udXNlci1waG90by1tb2R1bGVbZGF0YS12LTU5NWQxZTRkXXtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3Jlc291cmNlcy9qcy9jb21wb25lbnRzL3Bob3RvLWxvYWRlci52dWVcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBMkZBLDhCQUNBLGlCQUFBLENBQ0EsaUJBQ0EsQ0FFQSw2QkFDQSxtQkFBQSxDQUNBLFdBQUEsQ0FDQSxXQUFBLENBQ0EsZ0JBQUEsQ0FDQSx3QkFDQSxDQUVBLG9DQUNBLFlBQUEsQ0FDQSxxQkFBQSxDQUNBLHNCQUFBLENBQ0Esa0JBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgICA8di1jYXJkIGNsYXNzPVxcXCJkLWZsZXggZmxleC1jb2x1bW5cXFwiIGp1c3RpZnktY2VudGVyIGFsaWduLWNlbnRlciBlbGV2YXRpb249XFxcIjBcXFwiPlxcbiAgICAgICAgPGlucHV0XFxuICAgICAgICAgICAgICAgIHR5cGU9XFxcImZpbGVcXFwiXFxuICAgICAgICAgICAgICAgIGlkPVxcXCJmaWxlc1xcXCJcXG4gICAgICAgICAgICAgICAgQGNoYW5nZT1cXFwiYWRkUGhvdG9cXFwiXFxuICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJwaG90by1pbnB1dFxcXCJcXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcImF6YXpcXFwiXFxuICAgICAgICAgICAgICAgIGFjY2VwdD1cXFwiaW1hZ2UvanBlZyxpbWFnZS9wbmcsaW1hZ2UvanBnXFxcIlxcbiAgICAgICAgLz5cXG5cXG4gICAgICAgIDx2LWJ0biBjbGFzcz1cXFwiYnRuIG15LTJcXFwiIEBjbGljaz1cXFwiY2xpY2tPbklucHV0XFxcIiB2LWlmPVxcXCIhb25lIHx8ICFjYXJvdXNlbFBob3Rvcy5sZW5ndGhcXFwiPtCU0L7QsdCw0LLQuNGC0Ywg0YTQvtGC0L7Qs9GA0LDRhNC40Y48L3YtYnRuPlxcbiAgICAgICAgPGRpdiB2LWlmPVxcXCJvbmUgJiYgbG9hZGVkUGhvdG9zLmxlbmd0aFxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIj57e2xvYWRlZFBob3Rvc1swXS5uYW1lfX08L2Rpdj5cXG4gICAgICAgIDxkaXYgdi1pZj1cXFwiIW9uZSAmJiBjYXJvdXNlbFBob3Rvcy5sZW5ndGhcXFwiIGNsYXNzPVxcXCJ1c2VyLXBob3RvLW1vZHVsZVxcXCI+XFxuICAgICAgICAgICAgPHYtY2Fyb3VzZWwgdi1tb2RlbD1cXFwiblxcXCI+XFxuICAgICAgICAgICAgICAgIDx2LWNhcm91c2VsLWl0ZW1cXG4gICAgICAgICAgICAgICAgICAgICAgICB2LWZvcj1cXFwiKHBob3RvLCBpKSBpbiBjYXJvdXNlbFBob3Rvc1xcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICA6a2V5PVxcXCJpXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDpzcmM9XFxcInBob3RvXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5cXG4gICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICA8L3YtY2Fyb3VzZWwtaXRlbT5cXG4gICAgICAgICAgICA8L3YtY2Fyb3VzZWw+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC92LWNhcmQ+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0PlxcblxcbiAgICBleHBvcnQgZGVmYXVsdCB7XFxuICAgICAgICBuYW1lOiAncGhvdG8tbG9hZGVyJyxcXG4gICAgICAgIHByb3BzOiB7XFxuICAgICAgICAgICAgcmFkaXVzOiB7XFxuICAgICAgICAgICAgICAgIHR5cGU6IE51bWJlcixcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIG9uZToge1xcbiAgICAgICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBmYWxzZSxcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9LFxcbiAgICAgICAgY29tcG9uZW50czoge30sXFxuICAgICAgICBkYXRhKCkge1xcbiAgICAgICAgICAgIHJldHVybiB7XFxuICAgICAgICAgICAgICAgIG46IDAsXFxuICAgICAgICAgICAgICAgIHBob3RvOiAnJyxcXG4gICAgICAgICAgICAgICAgbG9hZGVkUGhvdG9zOiBbXSxcXG4gICAgICAgICAgICAgICAgY2Fyb3VzZWxQaG90b3M6W10sXFxuICAgICAgICAgICAgICAgIGZpbGVJbWc6IG51bGwsXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSxcXG4gICAgICAgIG1ldGhvZHM6IHtcXG4gICAgICAgICAgICBnZXRQaG90b3MoKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRlZFBob3RvcztcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIGdldEZpcnN0KCkge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkZWRQaG90b3NbMF07XFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICByZXR1cm5Gb3JtRGF0YSh2YWwpIHtcXG4gICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2F2ZS1waG90bycsIHZhbClcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIHVwZGF0ZVBob3RvKHZhbCkge1xcbiAgICAgICAgICAgICAgICB0aGlzLnBob3RvID0gdmFsXFxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Nyb3BwZXJEaWFsb2cgPSBmYWxzZVxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgY2xpY2tPbklucHV0KCkge1xcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZXMnKS5maWxlcyA9IChuZXcgRGF0YVRyYW5zZmVyKCkpLmZpbGVzO1xcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZXMnKS5jbGljaygpXFxuXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICBhZGRQaG90byhldmVudCkge1xcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVJbWcgPSBldmVudC50YXJnZXQuZmlsZXNbMF1cXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsZUltZy5zaXplID4gNTAyNDAwMCkge1xcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kY2hpbGRyZW5bMF0uc25hY2tiYXJUZXh0ID0gJ9Cg0LDQt9C80LXRgCDRhNCw0LnQu9CwINC90LUg0LzQvtC20LXRgiDQsdGL0YLRjCDQsdC+0LvRjNGI0LUgNdCc0JEnXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRjaGlsZHJlblswXS5zbmFja2JhciA9IHRydWVcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBpZih0aGlzLmxvYWRlZFBob3Rvcy5sZW5ndGggPiAxMCkge1xcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kY2hpbGRyZW5bMF0uc25hY2tiYXJUZXh0ID0gJ9CS0Ysg0L3QtSDQvNC+0LbQtdGC0LUg0LfQsNCz0YDRg9C30LjRgtGMINCx0L7Qu9GM0YjQtSAxMCDRhNC+0YLQvtCz0YDQsNGE0LjQuSdcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGNoaWxkcmVuWzBdLnNuYWNrYmFyID0gdHJ1ZVxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxQaG90b3MucHVzaChVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuZmlsZUltZykpXFxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkUGhvdG9zLnB1c2godGhpcy5maWxlSW1nKVxcbiAgICAgICAgICAgICAgICB0aGlzLm4gPSB0aGlzLmxvYWRlZFBob3Rvcy5sZW5ndGgtMVxcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVJbWcgPSBudWxsO1xcbiAgICAgICAgICAgIH0sXFxuICAgICAgICB9LFxcbiAgICB9XFxuPC9zY3JpcHQ+XFxuXFxuPHN0eWxlIHNjb3BlZD5cXG4gICAgLnBob3RvLWlucHV0IHtcXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcXG4gICAgfVxcblxcbiAgICAudXNlci1waG90byB7XFxuICAgICAgICBib3JkZXItcmFkaXVzOiAyMDBweDtcXG4gICAgICAgIHdpZHRoOiAzMDBweDtcXG4gICAgICAgIGhlaWdodDogYXV0bztcXG4gICAgICAgIG1heC1oZWlnaHQ6IDUwMHB4O1xcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzAxYWVmZTtcXG4gICAgfVxcblxcbiAgICAudXNlci1waG90by1tb2R1bGUge1xcbiAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIH1cXG48L3N0eWxlPlxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi5kZXNjcmlwdGlvbi52LXRleHQtZmllbGQ+LnYtaW5wdXRfX2NvbnRyb2w+LnYtaW5wdXRfX3Nsb3Q6YWZ0ZXIsLmRlc2NyaXB0aW9uLnYtdGV4dC1maWVsZD4udi1pbnB1dF9fY29udHJvbD4udi1pbnB1dF9fc2xvdDpiZWZvcmUsLmRlc2NyaXB0aW9uIC52LXRleHQtZmllbGRfX3Nsb3QgdGV4dGFyZWF7ZGlzcGxheTpub25lIWltcG9ydGFudH1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9yZXNvdXJjZXMvanMvcGFnZXMvUG9zdEVkaXQudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQXNJQSw2S0FFQSxzQkFDQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI8dGVtcGxhdGU+XFxuICAgIDx2LWNvbnRhaW5lclxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJjb3ZlclxcXCI+XFxuICAgICAgICA8di10b29sYmFyLXRpdGxlIGFsaWduPVxcXCJjZW50ZXJcXFwiIGp1c3RpZnk9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcIm1iLTJcXFwiXFxuICAgICAgICB2LXRleHQ9XFxcIiRyb3V0ZS5wYXJhbXMuaWQgID09IDAgPyAn0JTQvtCx0LDQstC70LXQvdC40LUg0L3QvtCy0L7RgdGC0LgnIDogICfQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC90L7QstC+0YHRgtC4J1xcXCI+XFxuICAgICAgICA8L3YtdG9vbGJhci10aXRsZT5cXG4gICAgICAgIDx2LXRleHQtZmllbGRcXG4gICAgICAgICAgICB0eXBlPVxcXCJ0ZXh0XFxcIlxcbiAgICAgICAgICAgIG5hbWU9XFxcInRpdGxlXFxcIlxcbiAgICAgICAgICAgIGxhYmVsPVxcXCLQl9Cw0LPQvtC70L7QstC+0LpcXFwiXFxuICAgICAgICAgICAgdi1tb2RlbD1cXFwicG9zdC50aXRsZVxcXCJcXG4gICAgICAgICAgICA6ZXJyb3ItbWVzc2FnZXM9XFxcIm1lc3NhZ2VzLnRpdGxlXFxcIlxcbiAgICAgICAgICAgID5cXG4gICAgICAgIDwvdi10ZXh0LWZpZWxkPlxcbiAgICAgICAgPHYtdGV4dGFyZWFcXG4gICAgICAgICAgICAgICAgbmFtZT1cXFwiZGVzY3JpcHRpb25cXFwiXFxuICAgICAgICAgICAgICAgIGxhYmVsPVxcXCLQntC/0LjRgdCw0L3QuNC1XFxcIlxcbiAgICAgICAgICAgICAgICBoaW50PVxcXCJIaW50IHRleHRcXFwiXFxuICAgICAgICAgICAgICAgIDp2YWx1ZT1cXFwiJyAnXFxcIlxcbiAgICAgICAgICAgICAgICBjbGFzcz1cXFwiZGVzY3JpcHRpb24gXFxcIlxcbiAgICAgICAgICAgICAgICA6ZXJyb3ItbWVzc2FnZXM9XFxcIm1lc3NhZ2VzLmRlc2NyaXB0aW9uXFxcIlxcbiAgICAgICAgPjwvdi10ZXh0YXJlYT5cXG4gICAgICAgIDxlZGl0b3JcXG4gICAgICAgICAgICAgICAgYXBpLWtleT1cXFwia2FwcjBraDB2M3ZzY25rcHBzeGdpZzk4dmY2bWdpdGFpaThhdXczcDJwaW4xYzV0XFxcIlxcbiAgICAgICAgICAgICAgICBjbGFzcz1cXFwibXQtMlxcXCJcXG4gICAgICAgICAgICAgICAgdi1tb2RlbD1cXFwicG9zdC5kZXNjcmlwdGlvblxcXCJcXG4gICAgICAgID5cXG4gICAgICAgIDwvZWRpdG9yPlxcbiAgICAgICAgPHYtc3BhY2VyLz5cXG4gICAgICAgIDxwaG90by1sb2FkZXIgdi1pZj1cXFwiJHJvdXRlLnBhcmFtcy5pZCA+IDBcXFwiIHJlZj1cXFwibG9hZGVyXFxcIj48L3Bob3RvLWxvYWRlcj5cXG4gICAgICAgIDx2LWJ0biBjbGFzcz1cXFwic2F2ZS1idG5cXFwiXFxuICAgICAgICAgICAgICAgdi1pZj1cXFwiJHJvdXRlLnBhcmFtcy5pZCA9PSAwXFxcIlxcbiAgICAgICAgICAgICAgIGNvbG9yPVxcXCJzdWNjZXNzXFxcIlxcbiAgICAgICAgICAgICAgIGZhYlxcbiAgICAgICAgICAgICAgIEBjbGljaz1cXFwiY3JlYXRlXFxcIlxcbiAgICAgICAgICAgICAgIDpkaXNhYmxlZD1cXFwiIShwb3N0LmRlc2NyaXB0aW9uICYmIHBvc3QudGl0bGUpXFxcIlxcbiAgICAgICAgICAgICAgIGRhcms+XFxuICAgICAgICAgICAgPHYtaWNvbj5tZGktcGx1czwvdi1pY29uPlxcbiAgICAgICAgPC92LWJ0bj5cXG4gICAgICAgIDx2LWJ0biBjbGFzcz1cXFwic2F2ZS1idG5cXFwiXFxuICAgICAgICAgICAgICAgdi1lbHNlXFxuICAgICAgICAgICAgICAgQGNsaWNrPVxcXCJ1cGRhdGVcXFwiXFxuICAgICAgICAgICAgICAgY29sb3I9XFxcInN1Y2Nlc3NcXFwiXFxuICAgICAgICAgICAgICAgZmFiXFxuICAgICAgICAgICAgICAgZGFyaz5cXG4gICAgICAgICAgICA8di1pY29uPm1kaS1jaGVjay1vdXRsaW5lPC92LWljb24+XFxuICAgICAgICA8L3YtYnRuPlxcbiAgICA8L3YtY29udGFpbmVyPlxcbjwvdGVtcGxhdGU+XFxuXFxuPHNjcmlwdD5cXG4gICAgaW1wb3J0IEVkaXRvciBmcm9tICdAdGlueW1jZS90aW55bWNlLXZ1ZSc7XFxuICAgIGltcG9ydCBQaG90b0xvYWRlciBmcm9tICdAL2NvbXBvbmVudHMvcGhvdG8tbG9hZGVyJ1xcbiAgICBleHBvcnQgZGVmYXVsdCB7XFxuICAgICAgICBuYW1lOiBcXFwiUG9zdEFkZFxcXCIsXFxuICAgICAgICBjb21wb25lbnRzOiB7XFxuICAgICAgICAgICAgRWRpdG9yLFxcbiAgICAgICAgICAgIFBob3RvTG9hZGVyXFxuICAgICAgICB9LFxcbiAgICAgICAgZGF0YTogKHZtKSA9PiB7XFxuICAgICAgICAgICAgcmV0dXJuIHtcXG4gICAgICAgICAgICAgICAgcG9zdDoge1xcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHZtLiRyb3V0ZS5wYXJhbXMuaWQsXFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiB7XFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9LFxcbiAgICAgICAgbW91bnRlZCgpIHtcXG4gICAgICAgICAgICBsZXQgbW9kZWxJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDtcXG4gICAgICAgICAgICBpZiAobW9kZWxJZCAhPSAwKSB7XFxuICAgICAgICAgICAgICAgIHdpbmRvdy5heGlvcy5nZXQoJy9wb3N0LycrIG1vZGVsSWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7XFxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGNoaWxkcmVuWzBdLnNuYWNrYmFyVGV4dCA9IGU/LnJlc3BvbnNlPy5lcnJvciB8fCAn0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCc7XFxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRjaGlsZHJlblswXS5zbmFja2JhciA9IHRydWU7XFxuICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0sXFxuICAgICAgICBtZXRob2RzOiB7XFxuICAgICAgICAgICAgY3JlYXRlKCkge1xcbiAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MucG9zdCgnL3Bvc3QnLCB0aGlzLnBvc3QpXFxuICAgICAgICAgICAgICAgICAgICAudGhlbigocikgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiBcXFwicG9zdFxcXCIsIHBhcmFtczoge2lkOiByLmRhdGEuZGF0YS5pZH19KTtcXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5yZXNwb25zZSAmJiBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDIyKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9ycyA9IGUucmVzcG9uc2UuZGF0YS5lcnJvcnNcXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLm1lc3NhZ2VzKS5mb3JFYWNoKChrKT0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlc1trXSA9IGVycm9yc1trXT8uWzBdIHx8ICcnO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgIHVwZGF0ZSgpIHtcXG4gICAgICAgICAgICAgICAgd2luZG93LmF4aW9zLnB1dCgnL3Bvc3QvJysgdGhpcy5wb3N0LmlkLCB0aGlzLnBvc3QpXFxuICAgICAgICAgICAgICAgICAgICAudGhlbigocikgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdQaG90b3MgPSB0aGlzLiRyZWZzLmxvYWRlci5nZXRQaG90b3MoKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UGhvdG9zLmxlbmd0aCkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Bob3Rvcy5mb3JFYWNoKChwaG90bywgaSkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdwb3N0X3Bob3Rvc1snK2krJ10nLCBwaG90bywgcGhvdG8ubmFtZSlcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdfbWV0aG9kJywgJ1BVVCcpXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MucG9zdCgnL3Bvc3QvJyt0aGlzLnBvc3QuaWQsIGZvcm1EYXRhKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRjaGlsZHJlblswXS5zbmFja2JhclRleHQgPSAgYNCe0YjQuNCx0LrQsCDRgdC+0YXRgNCw0L3QtdC90LjRjyDRhNC+0YLQvtCz0YDQsNGE0LjQuGBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGNoaWxkcmVuWzBdLnNuYWNrYmFyID0gdHJ1ZVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiBcXFwicG9zdHNcXFwifSk7XFxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XFxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5yZXNwb25zZSAmJiBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDIyKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9ycyA9IGUucmVzcG9uc2UuZGF0YS5lcnJvcnNcXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLm1lc3NhZ2VzKS5mb3JFYWNoKChrKT0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlc1trXSA9IGVycm9yc1trXT8uWzBdIHx8ICcnO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfVxcbjwvc2NyaXB0PlxcblxcbjxzdHlsZT5cXG4gICAgLmRlc2NyaXB0aW9uIC52LXRleHQtZmllbGRfX3Nsb3QgdGV4dGFyZWEge1xcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIC5kZXNjcmlwdGlvbi52LXRleHQtZmllbGQ+LnYtaW5wdXRfX2NvbnRyb2w+LnYtaW5wdXRfX3Nsb3Q6YWZ0ZXIgLFxcbiAgICAuZGVzY3JpcHRpb24udi10ZXh0LWZpZWxkPi52LWlucHV0X19jb250cm9sPi52LWlucHV0X19zbG90OmJlZm9yZXtcXG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcXG4gICAgfVxcbjwvc3R5bGU+XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIjx0ZW1wbGF0ZT5cbiAgICA8di1jYXJkIGNsYXNzPVwiZC1mbGV4IGZsZXgtY29sdW1uXCIganVzdGlmeS1jZW50ZXIgYWxpZ24tY2VudGVyIGVsZXZhdGlvbj1cIjBcIj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICAgIGlkPVwiZmlsZXNcIlxuICAgICAgICAgICAgICAgIEBjaGFuZ2U9XCJhZGRQaG90b1wiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJwaG90by1pbnB1dFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJhemF6XCJcbiAgICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS9qcGVnLGltYWdlL3BuZyxpbWFnZS9qcGdcIlxuICAgICAgICAvPlxuXG4gICAgICAgIDx2LWJ0biBjbGFzcz1cImJ0biBteS0yXCIgQGNsaWNrPVwiY2xpY2tPbklucHV0XCIgdi1pZj1cIiFvbmUgfHwgIWNhcm91c2VsUGhvdG9zLmxlbmd0aFwiPtCU0L7QsdCw0LLQuNGC0Ywg0YTQvtGC0L7Qs9GA0LDRhNC40Y48L3YtYnRuPlxuICAgICAgICA8ZGl2IHYtaWY9XCJvbmUgJiYgbG9hZGVkUGhvdG9zLmxlbmd0aFwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj57e2xvYWRlZFBob3Rvc1swXS5uYW1lfX08L2Rpdj5cbiAgICAgICAgPGRpdiB2LWlmPVwiIW9uZSAmJiBjYXJvdXNlbFBob3Rvcy5sZW5ndGhcIiBjbGFzcz1cInVzZXItcGhvdG8tbW9kdWxlXCI+XG4gICAgICAgICAgICA8di1jYXJvdXNlbCB2LW1vZGVsPVwiblwiPlxuICAgICAgICAgICAgICAgIDx2LWNhcm91c2VsLWl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIHYtZm9yPVwiKHBob3RvLCBpKSBpbiBjYXJvdXNlbFBob3Rvc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA6a2V5PVwiaVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6c3JjPVwicGhvdG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpblxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8L3YtY2Fyb3VzZWwtaXRlbT5cbiAgICAgICAgICAgIDwvdi1jYXJvdXNlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgPC92LWNhcmQ+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuXG4gICAgZXhwb3J0IGRlZmF1bHQge1xuICAgICAgICBuYW1lOiAncGhvdG8tbG9hZGVyJyxcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgIHJhZGl1czoge1xuICAgICAgICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbmU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb21wb25lbnRzOiB7fSxcbiAgICAgICAgZGF0YSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbjogMCxcbiAgICAgICAgICAgICAgICBwaG90bzogJycsXG4gICAgICAgICAgICAgICAgbG9hZGVkUGhvdG9zOiBbXSxcbiAgICAgICAgICAgICAgICBjYXJvdXNlbFBob3RvczpbXSxcbiAgICAgICAgICAgICAgICBmaWxlSW1nOiBudWxsLFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtZXRob2RzOiB7XG4gICAgICAgICAgICBnZXRQaG90b3MoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZGVkUGhvdG9zO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEZpcnN0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRlZFBob3Rvc1swXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXR1cm5Gb3JtRGF0YSh2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdzYXZlLXBob3RvJywgdmFsKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZVBob3RvKHZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGhvdG8gPSB2YWxcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dDcm9wcGVyRGlhbG9nID0gZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGlja09uSW5wdXQoKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVzJykuZmlsZXMgPSAobmV3IERhdGFUcmFuc2ZlcigpKS5maWxlcztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZXMnKS5jbGljaygpXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRQaG90byhldmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsZUltZyA9IGV2ZW50LnRhcmdldC5maWxlc1swXVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbGVJbWcuc2l6ZSA+IDUwMjQwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kY2hpbGRyZW5bMF0uc25hY2tiYXJUZXh0ID0gJ9Cg0LDQt9C80LXRgCDRhNCw0LnQu9CwINC90LUg0LzQvtC20LXRgiDQsdGL0YLRjCDQsdC+0LvRjNGI0LUgNdCc0JEnXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGNoaWxkcmVuWzBdLnNuYWNrYmFyID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHRoaXMubG9hZGVkUGhvdG9zLmxlbmd0aCA+IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGNoaWxkcmVuWzBdLnNuYWNrYmFyVGV4dCA9ICfQktGLINC90LUg0LzQvtC20LXRgtC1INC30LDQs9GA0YPQt9C40YLRjCDQsdC+0LvRjNGI0LUgMTAg0YTQvtGC0L7Qs9GA0LDRhNC40LknXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGNoaWxkcmVuWzBdLnNuYWNrYmFyID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2Fyb3VzZWxQaG90b3MucHVzaChVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuZmlsZUltZykpXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZWRQaG90b3MucHVzaCh0aGlzLmZpbGVJbWcpXG4gICAgICAgICAgICAgICAgdGhpcy5uID0gdGhpcy5sb2FkZWRQaG90b3MubGVuZ3RoLTFcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVJbWcgPSBudWxsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9XG48L3NjcmlwdD5cblxuPHN0eWxlIHNjb3BlZD5cbiAgICAucGhvdG8taW5wdXQge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICB9XG5cbiAgICAudXNlci1waG90byB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDIwMHB4O1xuICAgICAgICB3aWR0aDogMzAwcHg7XG4gICAgICAgIGhlaWdodDogYXV0bztcbiAgICAgICAgbWF4LWhlaWdodDogNTAwcHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMWFlZmU7XG4gICAgfVxuXG4gICAgLnVzZXItcGhvdG8tbW9kdWxlIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgfVxuPC9zdHlsZT5cbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNVswXS5ydWxlc1swXS51c2VbMF0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9waG90by1sb2FkZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTVbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vcGhvdG8tbG9hZGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vcGhvdG8tbG9hZGVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01OTVkMWU0ZCZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9waG90by1sb2FkZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9waG90by1sb2FkZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL3Bob3RvLWxvYWRlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD01OTVkMWU0ZCZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiNTk1ZDFlNGRcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygndi1jYXJkJyx7c3RhdGljQ2xhc3M6XCJkLWZsZXggZmxleC1jb2x1bW5cIixhdHRyczp7XCJqdXN0aWZ5LWNlbnRlclwiOlwiXCIsXCJhbGlnbi1jZW50ZXJcIjpcIlwiLFwiZWxldmF0aW9uXCI6XCIwXCJ9fSxbX2MoJ2lucHV0Jyx7c3RhdGljQ2xhc3M6XCJwaG90by1pbnB1dFwiLGF0dHJzOntcInR5cGVcIjpcImZpbGVcIixcImlkXCI6XCJmaWxlc1wiLFwicGxhY2Vob2xkZXJcIjpcImF6YXpcIixcImFjY2VwdFwiOlwiaW1hZ2UvanBlZyxpbWFnZS9wbmcsaW1hZ2UvanBnXCJ9LG9uOntcImNoYW5nZVwiOl92bS5hZGRQaG90b319KSxfdm0uX3YoXCIgXCIpLCghX3ZtLm9uZSB8fCAhX3ZtLmNhcm91c2VsUGhvdG9zLmxlbmd0aCk/X2MoJ3YtYnRuJyx7c3RhdGljQ2xhc3M6XCJidG4gbXktMlwiLG9uOntcImNsaWNrXCI6X3ZtLmNsaWNrT25JbnB1dH19LFtfdm0uX3YoXCLQlNC+0LHQsNCy0LjRgtGMINGE0L7RgtC+0LPRgNCw0YTQuNGOXCIpXSk6X3ZtLl9lKCksX3ZtLl92KFwiIFwiKSwoX3ZtLm9uZSAmJiBfdm0ubG9hZGVkUGhvdG9zLmxlbmd0aCk/X2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwidGV4dC1jZW50ZXJcIn0sW192bS5fdihfdm0uX3MoX3ZtLmxvYWRlZFBob3Rvc1swXS5uYW1lKSldKTpfdm0uX2UoKSxfdm0uX3YoXCIgXCIpLCghX3ZtLm9uZSAmJiBfdm0uY2Fyb3VzZWxQaG90b3MubGVuZ3RoKT9fYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ1c2VyLXBob3RvLW1vZHVsZVwifSxbX2MoJ3YtY2Fyb3VzZWwnLHttb2RlbDp7dmFsdWU6KF92bS5uKSxjYWxsYmFjazpmdW5jdGlvbiAoJCR2KSB7X3ZtLm49JCR2fSxleHByZXNzaW9uOlwiblwifX0sX3ZtLl9sKChfdm0uY2Fyb3VzZWxQaG90b3MpLGZ1bmN0aW9uKHBob3RvLGkpe3JldHVybiBfYygndi1jYXJvdXNlbC1pdGVtJyx7a2V5OmksYXR0cnM6e1wic3JjXCI6cGhvdG8sXCJjb250YWluXCI6XCJcIn19KX0pLDEpXSwxKTpfdm0uX2UoKV0sMSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIF9jKCd2LWNvbnRhaW5lcicse3N0YXRpY0NsYXNzOlwiY292ZXJcIn0sW19jKCd2LXRvb2xiYXItdGl0bGUnLHtzdGF0aWNDbGFzczpcIm1iLTJcIixhdHRyczp7XCJhbGlnblwiOlwiY2VudGVyXCIsXCJqdXN0aWZ5XCI6XCJjZW50ZXJcIn0sZG9tUHJvcHM6e1widGV4dENvbnRlbnRcIjpfdm0uX3MoX3ZtLiRyb3V0ZS5wYXJhbXMuaWQgID09IDAgPyAn0JTQvtCx0LDQstC70LXQvdC40LUg0L3QvtCy0L7RgdGC0LgnIDogICfQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC90L7QstC+0YHRgtC4Jyl9fSksX3ZtLl92KFwiIFwiKSxfYygndi10ZXh0LWZpZWxkJyx7YXR0cnM6e1widHlwZVwiOlwidGV4dFwiLFwibmFtZVwiOlwidGl0bGVcIixcImxhYmVsXCI6XCLQl9Cw0LPQvtC70L7QstC+0LpcIixcImVycm9yLW1lc3NhZ2VzXCI6X3ZtLm1lc3NhZ2VzLnRpdGxlfSxtb2RlbDp7dmFsdWU6KF92bS5wb3N0LnRpdGxlKSxjYWxsYmFjazpmdW5jdGlvbiAoJCR2KSB7X3ZtLiRzZXQoX3ZtLnBvc3QsIFwidGl0bGVcIiwgJCR2KX0sZXhwcmVzc2lvbjpcInBvc3QudGl0bGVcIn19KSxfdm0uX3YoXCIgXCIpLF9jKCd2LXRleHRhcmVhJyx7c3RhdGljQ2xhc3M6XCJkZXNjcmlwdGlvbiBcIixhdHRyczp7XCJuYW1lXCI6XCJkZXNjcmlwdGlvblwiLFwibGFiZWxcIjpcItCe0L/QuNGB0LDQvdC40LVcIixcImhpbnRcIjpcIkhpbnQgdGV4dFwiLFwidmFsdWVcIjonICcsXCJlcnJvci1tZXNzYWdlc1wiOl92bS5tZXNzYWdlcy5kZXNjcmlwdGlvbn19KSxfdm0uX3YoXCIgXCIpLF9jKCdlZGl0b3InLHtzdGF0aWNDbGFzczpcIm10LTJcIixhdHRyczp7XCJhcGkta2V5XCI6XCJrYXByMGtoMHYzdnNjbmtwcHN4Z2lnOTh2ZjZtZ2l0YWlpOGF1dzNwMnBpbjFjNXRcIn0sbW9kZWw6e3ZhbHVlOihfdm0ucG9zdC5kZXNjcmlwdGlvbiksY2FsbGJhY2s6ZnVuY3Rpb24gKCQkdikge192bS4kc2V0KF92bS5wb3N0LCBcImRlc2NyaXB0aW9uXCIsICQkdil9LGV4cHJlc3Npb246XCJwb3N0LmRlc2NyaXB0aW9uXCJ9fSksX3ZtLl92KFwiIFwiKSxfYygndi1zcGFjZXInKSxfdm0uX3YoXCIgXCIpLChfdm0uJHJvdXRlLnBhcmFtcy5pZCA+IDApP19jKCdwaG90by1sb2FkZXInLHtyZWY6XCJsb2FkZXJcIn0pOl92bS5fZSgpLF92bS5fdihcIiBcIiksKF92bS4kcm91dGUucGFyYW1zLmlkID09IDApP19jKCd2LWJ0bicse3N0YXRpY0NsYXNzOlwic2F2ZS1idG5cIixhdHRyczp7XCJjb2xvclwiOlwic3VjY2Vzc1wiLFwiZmFiXCI6XCJcIixcImRpc2FibGVkXCI6IShfdm0ucG9zdC5kZXNjcmlwdGlvbiAmJiBfdm0ucG9zdC50aXRsZSksXCJkYXJrXCI6XCJcIn0sb246e1wiY2xpY2tcIjpfdm0uY3JlYXRlfX0sW19jKCd2LWljb24nLFtfdm0uX3YoXCJtZGktcGx1c1wiKV0pXSwxKTpfYygndi1idG4nLHtzdGF0aWNDbGFzczpcInNhdmUtYnRuXCIsYXR0cnM6e1wiY29sb3JcIjpcInN1Y2Nlc3NcIixcImZhYlwiOlwiXCIsXCJkYXJrXCI6XCJcIn0sb246e1wiY2xpY2tcIjpfdm0udXBkYXRlfX0sW19jKCd2LWljb24nLFtfdm0uX3YoXCJtZGktY2hlY2stb3V0bGluZVwiKV0pXSwxKV0sMSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cbiAgICA8di1jb250YWluZXJcbiAgICAgICAgICAgIGNsYXNzPVwiY292ZXJcIj5cbiAgICAgICAgPHYtdG9vbGJhci10aXRsZSBhbGlnbj1cImNlbnRlclwiIGp1c3RpZnk9XCJjZW50ZXJcIiBjbGFzcz1cIm1iLTJcIlxuICAgICAgICB2LXRleHQ9XCIkcm91dGUucGFyYW1zLmlkICA9PSAwID8gJ9CU0L7QsdCw0LLQu9C10L3QuNC1INC90L7QstC+0YHRgtC4JyA6ICAn0KDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQvdC+0LLQvtGB0YLQuCdcIj5cbiAgICAgICAgPC92LXRvb2xiYXItdGl0bGU+XG4gICAgICAgIDx2LXRleHQtZmllbGRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIG5hbWU9XCJ0aXRsZVwiXG4gICAgICAgICAgICBsYWJlbD1cItCX0LDQs9C+0LvQvtCy0L7QulwiXG4gICAgICAgICAgICB2LW1vZGVsPVwicG9zdC50aXRsZVwiXG4gICAgICAgICAgICA6ZXJyb3ItbWVzc2FnZXM9XCJtZXNzYWdlcy50aXRsZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgIDwvdi10ZXh0LWZpZWxkPlxuICAgICAgICA8di10ZXh0YXJlYVxuICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCLQntC/0LjRgdCw0L3QuNC1XCJcbiAgICAgICAgICAgICAgICBoaW50PVwiSGludCB0ZXh0XCJcbiAgICAgICAgICAgICAgICA6dmFsdWU9XCInICdcIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiZGVzY3JpcHRpb24gXCJcbiAgICAgICAgICAgICAgICA6ZXJyb3ItbWVzc2FnZXM9XCJtZXNzYWdlcy5kZXNjcmlwdGlvblwiXG4gICAgICAgID48L3YtdGV4dGFyZWE+XG4gICAgICAgIDxlZGl0b3JcbiAgICAgICAgICAgICAgICBhcGkta2V5PVwia2FwcjBraDB2M3ZzY25rcHBzeGdpZzk4dmY2bWdpdGFpaThhdXczcDJwaW4xYzV0XCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cIm10LTJcIlxuICAgICAgICAgICAgICAgIHYtbW9kZWw9XCJwb3N0LmRlc2NyaXB0aW9uXCJcbiAgICAgICAgPlxuICAgICAgICA8L2VkaXRvcj5cbiAgICAgICAgPHYtc3BhY2VyLz5cbiAgICAgICAgPHBob3RvLWxvYWRlciB2LWlmPVwiJHJvdXRlLnBhcmFtcy5pZCA+IDBcIiByZWY9XCJsb2FkZXJcIj48L3Bob3RvLWxvYWRlcj5cbiAgICAgICAgPHYtYnRuIGNsYXNzPVwic2F2ZS1idG5cIlxuICAgICAgICAgICAgICAgdi1pZj1cIiRyb3V0ZS5wYXJhbXMuaWQgPT0gMFwiXG4gICAgICAgICAgICAgICBjb2xvcj1cInN1Y2Nlc3NcIlxuICAgICAgICAgICAgICAgZmFiXG4gICAgICAgICAgICAgICBAY2xpY2s9XCJjcmVhdGVcIlxuICAgICAgICAgICAgICAgOmRpc2FibGVkPVwiIShwb3N0LmRlc2NyaXB0aW9uICYmIHBvc3QudGl0bGUpXCJcbiAgICAgICAgICAgICAgIGRhcms+XG4gICAgICAgICAgICA8di1pY29uPm1kaS1wbHVzPC92LWljb24+XG4gICAgICAgIDwvdi1idG4+XG4gICAgICAgIDx2LWJ0biBjbGFzcz1cInNhdmUtYnRuXCJcbiAgICAgICAgICAgICAgIHYtZWxzZVxuICAgICAgICAgICAgICAgQGNsaWNrPVwidXBkYXRlXCJcbiAgICAgICAgICAgICAgIGNvbG9yPVwic3VjY2Vzc1wiXG4gICAgICAgICAgICAgICBmYWJcbiAgICAgICAgICAgICAgIGRhcms+XG4gICAgICAgICAgICA8di1pY29uPm1kaS1jaGVjay1vdXRsaW5lPC92LWljb24+XG4gICAgICAgIDwvdi1idG4+XG4gICAgPC92LWNvbnRhaW5lcj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG4gICAgaW1wb3J0IEVkaXRvciBmcm9tICdAdGlueW1jZS90aW55bWNlLXZ1ZSc7XG4gICAgaW1wb3J0IFBob3RvTG9hZGVyIGZyb20gJ0AvY29tcG9uZW50cy9waG90by1sb2FkZXInXG4gICAgZXhwb3J0IGRlZmF1bHQge1xuICAgICAgICBuYW1lOiBcIlBvc3RBZGRcIixcbiAgICAgICAgY29tcG9uZW50czoge1xuICAgICAgICAgICAgRWRpdG9yLFxuICAgICAgICAgICAgUGhvdG9Mb2FkZXJcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YTogKHZtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHZtLiRyb3V0ZS5wYXJhbXMuaWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb3VudGVkKCkge1xuICAgICAgICAgICAgbGV0IG1vZGVsSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7XG4gICAgICAgICAgICBpZiAobW9kZWxJZCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmF4aW9zLmdldCgnL3Bvc3QvJysgbW9kZWxJZCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0ID0gcmVzcG9uc2UuZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRjaGlsZHJlblswXS5zbmFja2JhclRleHQgPSBlPy5yZXNwb25zZT8uZXJyb3IgfHwgJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAnO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRjaGlsZHJlblswXS5zbmFja2JhciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MucG9zdCgnL3Bvc3QnLCB0aGlzLnBvc3QpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogXCJwb3N0XCIsIHBhcmFtczoge2lkOiByLmRhdGEuZGF0YS5pZH19KTtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucmVzcG9uc2UgJiYgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQyMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9ycyA9IGUucmVzcG9uc2UuZGF0YS5lcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMubWVzc2FnZXMpLmZvckVhY2goKGspPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZXNba10gPSBlcnJvcnNba10/LlswXSB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgdXBkYXRlKCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5heGlvcy5wdXQoJy9wb3N0LycrIHRoaXMucG9zdC5pZCwgdGhpcy5wb3N0KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1Bob3RvcyA9IHRoaXMuJHJlZnMubG9hZGVyLmdldFBob3RvcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Bob3Rvcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGhvdG9zLmZvckVhY2goKHBob3RvLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncG9zdF9waG90b3NbJytpKyddJywgcGhvdG8sIHBob3RvLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ19tZXRob2QnLCAnUFVUJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MucG9zdCgnL3Bvc3QvJyt0aGlzLnBvc3QuaWQsIGZvcm1EYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kY2hpbGRyZW5bMF0uc25hY2tiYXJUZXh0ID0gIGDQntGI0LjQsdC60LAg0YHQvtGF0YDQsNC90LXQvdC40Y8g0YTQvtGC0L7Qs9GA0LDRhNC40LhgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGNoaWxkcmVuWzBdLnNuYWNrYmFyID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiBcInBvc3RzXCJ9KTtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlICYmIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJvcnMgPSBlLnJlc3BvbnNlLmRhdGEuZXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLm1lc3NhZ2VzKS5mb3JFYWNoKChrKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzW2tdID0gZXJyb3JzW2tdPy5bMF0gfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG48L3NjcmlwdD5cblxuPHN0eWxlPlxuICAgIC5kZXNjcmlwdGlvbiAudi10ZXh0LWZpZWxkX19zbG90IHRleHRhcmVhIHtcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgIH1cbiAgICAuZGVzY3JpcHRpb24udi10ZXh0LWZpZWxkPi52LWlucHV0X19jb250cm9sPi52LWlucHV0X19zbG90OmFmdGVyICxcbiAgICAuZGVzY3JpcHRpb24udi10ZXh0LWZpZWxkPi52LWlucHV0X19jb250cm9sPi52LWlucHV0X19zbG90OmJlZm9yZXtcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgIH1cbjwvc3R5bGU+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1Bvc3RFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1Bvc3RFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vUG9zdEVkaXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTBlMDgwZmQ3JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL1Bvc3RFZGl0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vUG9zdEVkaXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL1Bvc3RFZGl0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P2Nsb25lZFJ1bGVTZXQtOVswXS5ydWxlc1swXS51c2VbMV0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC05WzBdLnJ1bGVzWzBdLnVzZVsyXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3Bob3RvLWxvYWRlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD01OTVkMWU0ZCZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIik7XG5pZihjb250ZW50Ll9fZXNNb2R1bGUpIGNvbnRlbnQgPSBjb250ZW50LmRlZmF1bHQ7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIGFkZCA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlc0NsaWVudC5qc1wiKS5kZWZhdWx0XG52YXIgdXBkYXRlID0gYWRkKFwiMzRkODg1NmFcIiwgY29udGVudCwgdHJ1ZSwge30pOyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC05WzBdLnJ1bGVzWzBdLnVzZVsxXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTlbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vUG9zdEVkaXQudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikuZGVmYXVsdFxudmFyIHVwZGF0ZSA9IGFkZChcIjE5YTRkNTQ2XCIsIGNvbnRlbnQsIHRydWUsIHt9KTsiXSwic291cmNlUm9vdCI6IiJ9