(self.webpackChunk=self.webpackChunk||[]).push([[970],{6794:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>l});var t=a(4015),n=a.n(t),o=a(3645),s=a.n(o)()(n());s.push([e.id,"#mapid[data-v-7048b705]{min-height:calc(100vh - 64px);position:absolute;height:calc(100vh - 64px);width:100%}.map-top-dialog[data-v-7048b705]{z-index:10001!important}","",{version:3,sources:["webpack://./resources/js/pages/Map.vue"],names:[],mappings:"AA+KA,wBACA,6BAAA,CACA,iBAAA,CACA,yBAAA,CACA,UACA,CACA,iCACA,uBACA",sourcesContent:["<template>\r\n    <div class=\"ma-0 pa-0\" style=\"position: relative; display: flex;\">\r\n        <div id=\"mapid\"></div>\r\n        <v-dialog v-model=\"show\">\r\n            <v-container map-top-dialog>\r\n                <v-card elevation=\"0\">\r\n                    <v-card-title>Создание зоны</v-card-title>\r\n                    <v-card-text>\r\n                        <v-text-field\r\n                                v-model=\"place.name\"\r\n                                label=\"Название\"/>\r\n                        <v-text-field\r\n                                v-model=\"place.points\"\r\n                                type=\"number\"\r\n                                label=\"Баллы благодарности\"/>\r\n                        <v-color-picker\r\n                                dot-size=\"32\"\r\n                                hide-canvas\r\n                                hide-mode-switch\r\n                                mode=\"hexa\"\r\n                                v-model=\"place.color\"\r\n                                swatches-max-height=\"200\"\r\n                        ></v-color-picker>\r\n                        <v-btn color=\"dark\" @click=\"save\" :disabled=\"place.name == ''\">\r\n                            Сохранить\r\n                        </v-btn>\r\n                    </v-card-text>\r\n                </v-card>\r\n            </v-container>\r\n        </v-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Map\",\r\n        data: (vm) => ({\r\n            mymap : null,\r\n            markers: [\r\n                [[55.530648, 47.505122], 'Дом культуры<br> Администрация послеления'],\r\n            ],\r\n            editableLayers:new L.FeatureGroup(),\r\n            places: [],\r\n            place: {},\r\n            show: false,\r\n            drawControl: null,\r\n        }),\r\n        mounted() {\r\n            this.mymap = L.map('mapid', {drawControl: false}).setView([55.536446, 47.498600], 13);\r\n            let osm = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoianVyYTk2IiwiYSI6ImNrcGw1MWVzODFkazQyd284bjY0ZWIxbmIifQ.CWG9L2rMStLO3i3AOgrnyQ', {\r\n                attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n                maxZoom: 18,\r\n                id: 'mapbox/streets-v11',\r\n                tileSize: 512,\r\n                zoomOffset: -1,\r\n                accessToken: 'your.mapbox.access.token'\r\n            })\r\n            osm.addTo(this.mymap)\r\n            this.markers.forEach((v)=> {\r\n                L.marker(v[0]).addTo(this.mymap)\r\n                    .bindPopup(v[1])\r\n                    .openPopup()\r\n            });\r\n            var options = {\r\n                position: 'topright',\r\n                draw: {\r\n                    polyline: false,\r\n                    polygon: {\r\n                        allowIntersection: true, // Restricts shapes to simple polygons\r\n                        drawError: {\r\n                            color: '#e1e100', // Color the shape will turn when intersects\r\n                            message: 'Вы не может поставить тут точку' // Message that will show when intersect\r\n                        },\r\n                        shapeOptions: {\r\n                            color: '#bada55'\r\n                        }\r\n                    },\r\n                    circle: false, // Turns off this drawing tool\r\n                    circlemarker: false, // Turns off this drawing tool\r\n                    rectangle: false,\r\n                    marker: false,\r\n                },\r\n                edit: {\r\n                    featureGroup: this.editableLayers, //REQUIRED!!\r\n                    remove: true,\r\n                    edit: true,\r\n                }\r\n            };\r\n            this.mymap.addLayer(this.editableLayers);\r\n\r\n            this.drawControl = new L.Control.Draw(options);\r\n            if (this.$store.state.auth.user.role === 1024) this.mymap.addControl(this.drawControl);\r\n            this.mymap.on(L.Draw.Event.CREATED,  (e) => {\r\n                var type = e.layerType,\r\n                    layer = e.layer;\r\n                this.place = {\r\n                    coords: layer._latlngs,\r\n                    layer,\r\n                    type,\r\n                };\r\n                this.show = true;\r\n            });\r\n            this.mymap.on(L.Draw.Event.EDITED,  (e) => {\r\n                if (Object.values(e.layers._layers).length !== 1) {\r\n                    if (Object.values(e.layers._layers).length>1) {\r\n                        alert('Редактировать можно только 1 объект');\r\n                        window.location.reload();\r\n                    }\r\n                    return;\r\n                }\r\n                Object.values(e.layers._layers).forEach((l) => {\r\n                    this.place = {\r\n                        ...l.place,\r\n                        coords: l._latlngs,\r\n                        layer:l,\r\n                    };\r\n                    this.show = true;\r\n                });\r\n            });\r\n            this.mymap.on(L.Draw.Event.DELETED,  (e) => {\r\n                Object.values(e.layers._layers).forEach((l) => {\r\n                    this.delete(l.place);\r\n                })\r\n            });\r\n\r\n            this.getPlaces();\r\n        },\r\n        methods: {\r\n            getPlaces() {\r\n                window.axios.get('/mapObject/', {params: {}}).then((response) => {\r\n                    this.places = response.data.data;\r\n                    this.places.forEach((p,i) => {\r\n                        let polygon = L.polygon(p.coords, {color: p.color});\r\n                        polygon.addTo(this.mymap)\r\n                            .bindPopup(p.name+'<br/>'+'Требуются баллы: ' + p.points);\r\n                        this.places[i].polygon = polygon;\r\n                        polygon.place = p;\r\n                        this.editableLayers.addLayer(polygon);\r\n                    })\r\n                }).catch((e) => {\r\n                    console.log(e);\r\n                });\r\n            },\r\n            save() {\r\n                let data = {\r\n                    id: this.place.id,\r\n                    color: this.place.color,\r\n                    coords: this.place.coords,\r\n                    name: this.place.name,\r\n                    points: this.place.points,\r\n                    type: this.place.type,\r\n                };\r\n                data.color = data.color.hexa || data.color;\r\n                window.axios[data.id ?'put' : 'post']('/mapObject/'+(data.id||''), data).then((response) => {\r\n                    this.getPlaces();\r\n                    this.place = {};\r\n                    this.show = false;\r\n                    // this.mymap.addLayer(this.place.layer);\r\n                }).catch((e) => {\r\n                    alert('Ошибка. Проверьте данные.');\r\n                    console.log(e);\r\n                });\r\n            },\r\n            delete(place){\r\n                window.axios.delete('/mapObject/'+place.id).then((response) => {\r\n                    this.getPlaces();\r\n                }).catch((e) => {\r\n                    console.log(e);\r\n                });\r\n            }\r\n        }\r\n    }\r\n<\/script>\r\n\r\n<style scoped>\r\n    #mapid {\r\n        min-height: calc(100vh - 64px);\r\n        position:absolute;\r\n        height: calc(100vh - 64px);\r\n        width: 100%;\r\n    }\r\n    .map-top-dialog{\r\n        z-index: 10001 !important;\r\n    }\r\n</style>"],sourceRoot:""}]);const l=s},7970:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>l});function t(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,t)}return a}function n(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?t(Object(a),!0).forEach((function(r){o(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}function o(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}const s={name:"Map",data:function(e){return{mymap:null,markers:[[[55.530648,47.505122],"Дом культуры<br> Администрация послеления"]],editableLayers:new L.FeatureGroup,places:[],place:{},show:!1,drawControl:null}},mounted:function(){var e=this;this.mymap=L.map("mapid",{drawControl:!1}).setView([55.536446,47.4986],13),L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoianVyYTk2IiwiYSI6ImNrcGw1MWVzODFkazQyd284bjY0ZWIxbmIifQ.CWG9L2rMStLO3i3AOgrnyQ",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"your.mapbox.access.token"}).addTo(this.mymap),this.markers.forEach((function(r){L.marker(r[0]).addTo(e.mymap).bindPopup(r[1]).openPopup()}));var r={position:"topright",draw:{polyline:!1,polygon:{allowIntersection:!0,drawError:{color:"#e1e100",message:"Вы не может поставить тут точку"},shapeOptions:{color:"#bada55"}},circle:!1,circlemarker:!1,rectangle:!1,marker:!1},edit:{featureGroup:this.editableLayers,remove:!0,edit:!0}};this.mymap.addLayer(this.editableLayers),this.drawControl=new L.Control.Draw(r),1024===this.$store.state.auth.user.role&&this.mymap.addControl(this.drawControl),this.mymap.on(L.Draw.Event.CREATED,(function(r){var a=r.layerType,t=r.layer;e.place={coords:t._latlngs,layer:t,type:a},e.show=!0})),this.mymap.on(L.Draw.Event.EDITED,(function(r){1===Object.values(r.layers._layers).length?Object.values(r.layers._layers).forEach((function(r){e.place=n(n({},r.place),{},{coords:r._latlngs,layer:r}),e.show=!0})):Object.values(r.layers._layers).length>1&&(alert("Редактировать можно только 1 объект"),window.location.reload())})),this.mymap.on(L.Draw.Event.DELETED,(function(r){Object.values(r.layers._layers).forEach((function(r){e.delete(r.place)}))})),this.getPlaces()},methods:{getPlaces:function(){var e=this;window.axios.get("/mapObject/",{params:{}}).then((function(r){e.places=r.data.data,e.places.forEach((function(r,a){var t=L.polygon(r.coords,{color:r.color});t.addTo(e.mymap).bindPopup(r.name+"<br/>Требуются баллы: "+r.points),e.places[a].polygon=t,t.place=r,e.editableLayers.addLayer(t)}))})).catch((function(e){console.log(e)}))},save:function(){var e=this,r={id:this.place.id,color:this.place.color,coords:this.place.coords,name:this.place.name,points:this.place.points,type:this.place.type};r.color=r.color.hexa||r.color,window.axios[r.id?"put":"post"]("/mapObject/"+(r.id||""),r).then((function(r){e.getPlaces(),e.place={},e.show=!1})).catch((function(e){alert("Ошибка. Проверьте данные."),console.log(e)}))},delete:function(e){var r=this;window.axios.delete("/mapObject/"+e.id).then((function(e){r.getPlaces()})).catch((function(e){console.log(e)}))}}};a(9058);const l=(0,a(1900).Z)(s,(function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"ma-0 pa-0",staticStyle:{position:"relative",display:"flex"}},[a("div",{attrs:{id:"mapid"}}),e._v(" "),a("v-dialog",{model:{value:e.show,callback:function(r){e.show=r},expression:"show"}},[a("v-container",{attrs:{"map-top-dialog":""}},[a("v-card",{attrs:{elevation:"0"}},[a("v-card-title",[e._v("Создание зоны")]),e._v(" "),a("v-card-text",[a("v-text-field",{attrs:{label:"Название"},model:{value:e.place.name,callback:function(r){e.$set(e.place,"name",r)},expression:"place.name"}}),e._v(" "),a("v-text-field",{attrs:{type:"number",label:"Баллы благодарности"},model:{value:e.place.points,callback:function(r){e.$set(e.place,"points",r)},expression:"place.points"}}),e._v(" "),a("v-color-picker",{attrs:{"dot-size":"32","hide-canvas":"","hide-mode-switch":"",mode:"hexa","swatches-max-height":"200"},model:{value:e.place.color,callback:function(r){e.$set(e.place,"color",r)},expression:"place.color"}}),e._v(" "),a("v-btn",{attrs:{color:"dark",disabled:""==e.place.name},on:{click:e.save}},[e._v("\n                        Сохранить\n                    ")])],1)],1)],1)],1)],1)}),[],!1,null,"7048b705",null).exports},9058:(e,r,a)=>{var t=a(6794);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);(0,a(5346).Z)("605d9a03",t,!0,{})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvcGFnZXMvTWFwLnZ1ZT8yODY3Iiwid2VicGFjazovLy9yZXNvdXJjZXMvanMvcGFnZXMvTWFwLnZ1ZSIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvcGFnZXMvTWFwLnZ1ZT85YTNkIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9wYWdlcy9NYXAudnVlIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9wYWdlcy9NYXAudnVlP2JjM2IiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL3BhZ2VzL01hcC52dWU/MzJhOSJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwic3RhdGljU3R5bGUiLCJhdHRycyIsIl92IiwibW9kZWwiLCJ2YWx1ZSIsImNhbGxiYWNrIiwiJCR2Iiwic2hvdyIsImV4cHJlc3Npb24iLCJwbGFjZSIsIiRzZXQiLCJuYW1lIiwib24iLCJzYXZlIiwiY29udGVudCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9jYWxzIiwiZXhwb3J0cyIsImFkZCJdLCJtYXBwaW5ncyI6ImtKQUdJQSxFLE1BQTBCLEdBQTRCLEtBRTFEQSxFQUF3QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLHlLQUEwSyxHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQywwQ0FBMEMsTUFBUSxHQUFHLFNBQVcscUVBQXFFLGVBQWlCLENBQUMsZ3NQQUErclAsV0FBYSxNQUVqbFEsVyxpdkJDMkJBLE1DbEM4TSxFRGtDOU0sQ0FDRSxLQUFGLE1BQ0UsS0FBRixZQUFJLE1BQUosQ0FDTSxNQUFOLEtBQ00sUUFBTixDQUNBLHFFQUVNLGVBQU4sbUJBQ00sT0FBTixHQUNNLE1BQU4sR0FDTSxNQUFOLEVBQ00sWUFBTixPQUVFLFFBYkYsV0FhSSxJ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QUNJLE1BQU0sQ0FBQyxXQUFXLEtBQUssY0FBYyxHQUFHLG1CQUFtQixHQUFHLEtBQU8sT0FBTyxzQkFBc0IsT0FBT0UsTUFBTSxDQUFDQyxNQUFPWCxFQUFJZ0IsTUFBVyxNQUFFSixTQUFTLFNBQVVDLEdBQU1iLEVBQUlpQixLQUFLakIsRUFBSWdCLE1BQU8sUUFBU0gsSUFBTUUsV0FBVyxpQkFBaUJmLEVBQUlTLEdBQUcsS0FBS0wsRUFBRyxRQUFRLENBQUNJLE1BQU0sQ0FBQyxNQUFRLE9BQU8sU0FBNkIsSUFBbEJSLEVBQUlnQixNQUFNRSxNQUFZQyxHQUFHLENBQUMsTUFBUW5CLEVBQUlvQixPQUFPLENBQUNwQixFQUFJUyxHQUFHLGdFQUFnRSxJQUFJLElBQUksSUFBSSxJQUFJLEtBQ3J3QyxJRFdwQixFQUNBLEtBQ0EsV0FDQSxNLHdCRVpGLElBQUlZLEVBQVUsRUFBUSxNQUNuQkEsRUFBUUMsYUFBWUQsRUFBVUEsRUFBUUUsU0FDbkIsaUJBQVpGLElBQXNCQSxFQUFVLENBQUMsQ0FBQ3ZCLEVBQU9DLEdBQUlzQixFQUFTLE1BQzdEQSxFQUFRRyxTQUFRMUIsRUFBTzJCLFFBQVVKLEVBQVFHLFNBRy9CRSxFQURILFdBQ08sV0FBWUwsR0FBUyxFQUFNIiwiZmlsZSI6ImpzL2NodW5rcy85NzBkODJiNzliOWJkOTRlNzZkMjlkOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiI21hcGlkW2RhdGEtdi03MDQ4YjcwNV17bWluLWhlaWdodDpjYWxjKDEwMHZoIC0gNjRweCk7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OmNhbGMoMTAwdmggLSA2NHB4KTt3aWR0aDoxMDAlfS5tYXAtdG9wLWRpYWxvZ1tkYXRhLXYtNzA0OGI3MDVde3otaW5kZXg6MTAwMDEhaW1wb3J0YW50fVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3Jlc291cmNlcy9qcy9wYWdlcy9NYXAudnVlXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQStLQSx3QkFDQSw2QkFBQSxDQUNBLGlCQUFBLENBQ0EseUJBQUEsQ0FDQSxVQUNBLENBQ0EsaUNBQ0EsdUJBQ0FcIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJtYS0wIHBhLTBcXFwiIHN0eWxlPVxcXCJwb3NpdGlvbjogcmVsYXRpdmU7IGRpc3BsYXk6IGZsZXg7XFxcIj5cXHJcXG4gICAgICAgIDxkaXYgaWQ9XFxcIm1hcGlkXFxcIj48L2Rpdj5cXHJcXG4gICAgICAgIDx2LWRpYWxvZyB2LW1vZGVsPVxcXCJzaG93XFxcIj5cXHJcXG4gICAgICAgICAgICA8di1jb250YWluZXIgbWFwLXRvcC1kaWFsb2c+XFxyXFxuICAgICAgICAgICAgICAgIDx2LWNhcmQgZWxldmF0aW9uPVxcXCIwXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx2LWNhcmQtdGl0bGU+0KHQvtC30LTQsNC90LjQtSDQt9C+0L3Rizwvdi1jYXJkLXRpdGxlPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHYtY2FyZC10ZXh0PlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2LXRleHQtZmllbGRcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtbW9kZWw9XFxcInBsYWNlLm5hbWVcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cXFwi0J3QsNC30LLQsNC90LjQtVxcXCIvPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2LXRleHQtZmllbGRcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtbW9kZWw9XFxcInBsYWNlLnBvaW50c1xcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XFxcIm51bWJlclxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPVxcXCLQkdCw0LvQu9GLINCx0LvQsNCz0L7QtNCw0YDQvdC+0YHRgtC4XFxcIi8+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHYtY29sb3ItcGlja2VyXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3Qtc2l6ZT1cXFwiMzJcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlLWNhbnZhc1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZS1tb2RlLXN3aXRjaFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZT1cXFwiaGV4YVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtbW9kZWw9XFxcInBsYWNlLmNvbG9yXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dhdGNoZXMtbWF4LWhlaWdodD1cXFwiMjAwXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgID48L3YtY29sb3ItcGlja2VyPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2LWJ0biBjb2xvcj1cXFwiZGFya1xcXCIgQGNsaWNrPVxcXCJzYXZlXFxcIiA6ZGlzYWJsZWQ9XFxcInBsYWNlLm5hbWUgPT0gJydcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQodC+0YXRgNCw0L3QuNGC0YxcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3YtYnRuPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC92LWNhcmQtdGV4dD5cXHJcXG4gICAgICAgICAgICAgICAgPC92LWNhcmQ+XFxyXFxuICAgICAgICAgICAgPC92LWNvbnRhaW5lcj5cXHJcXG4gICAgICAgIDwvdi1kaWFsb2c+XFxyXFxuICAgIDwvZGl2PlxcclxcbjwvdGVtcGxhdGU+XFxyXFxuXFxyXFxuPHNjcmlwdD5cXHJcXG4gICAgZXhwb3J0IGRlZmF1bHQge1xcclxcbiAgICAgICAgbmFtZTogXFxcIk1hcFxcXCIsXFxyXFxuICAgICAgICBkYXRhOiAodm0pID0+ICh7XFxyXFxuICAgICAgICAgICAgbXltYXAgOiBudWxsLFxcclxcbiAgICAgICAgICAgIG1hcmtlcnM6IFtcXHJcXG4gICAgICAgICAgICAgICAgW1s1NS41MzA2NDgsIDQ3LjUwNTEyMl0sICfQlNC+0Lwg0LrRg9C70YzRgtGD0YDRizxicj4g0JDQtNC80LjQvdC40YHRgtGA0LDRhtC40Y8g0L/QvtGB0LvQtdC70LXQvdC40Y8nXSxcXHJcXG4gICAgICAgICAgICBdLFxcclxcbiAgICAgICAgICAgIGVkaXRhYmxlTGF5ZXJzOm5ldyBMLkZlYXR1cmVHcm91cCgpLFxcclxcbiAgICAgICAgICAgIHBsYWNlczogW10sXFxyXFxuICAgICAgICAgICAgcGxhY2U6IHt9LFxcclxcbiAgICAgICAgICAgIHNob3c6IGZhbHNlLFxcclxcbiAgICAgICAgICAgIGRyYXdDb250cm9sOiBudWxsLFxcclxcbiAgICAgICAgfSksXFxyXFxuICAgICAgICBtb3VudGVkKCkge1xcclxcbiAgICAgICAgICAgIHRoaXMubXltYXAgPSBMLm1hcCgnbWFwaWQnLCB7ZHJhd0NvbnRyb2w6IGZhbHNlfSkuc2V0VmlldyhbNTUuNTM2NDQ2LCA0Ny40OTg2MDBdLCAxMyk7XFxyXFxuICAgICAgICAgICAgbGV0IG9zbSA9IEwudGlsZUxheWVyKCdodHRwczovL2FwaS5tYXBib3guY29tL3N0eWxlcy92MS97aWR9L3RpbGVzL3t6fS97eH0ve3l9P2FjY2Vzc190b2tlbj1way5leUoxSWpvaWFuVnlZVGsySWl3aVlTSTZJbU5yY0d3MU1XVnpPREZrYXpReWQyODRialkwWldJeGJtSWlmUS5DV0c5TDJyTVN0TE8zaTNBT2dybnlRJywge1xcclxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbjogJ01hcCBkYXRhICZjb3B5OyA8YSBocmVmPVxcXCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcXFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycywgSW1hZ2VyeSDCqSA8YSBocmVmPVxcXCJodHRwczovL3d3dy5tYXBib3guY29tL1xcXCI+TWFwYm94PC9hPicsXFxyXFxuICAgICAgICAgICAgICAgIG1heFpvb206IDE4LFxcclxcbiAgICAgICAgICAgICAgICBpZDogJ21hcGJveC9zdHJlZXRzLXYxMScsXFxyXFxuICAgICAgICAgICAgICAgIHRpbGVTaXplOiA1MTIsXFxyXFxuICAgICAgICAgICAgICAgIHpvb21PZmZzZXQ6IC0xLFxcclxcbiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbjogJ3lvdXIubWFwYm94LmFjY2Vzcy50b2tlbidcXHJcXG4gICAgICAgICAgICB9KVxcclxcbiAgICAgICAgICAgIG9zbS5hZGRUbyh0aGlzLm15bWFwKVxcclxcbiAgICAgICAgICAgIHRoaXMubWFya2Vycy5mb3JFYWNoKCh2KT0+IHtcXHJcXG4gICAgICAgICAgICAgICAgTC5tYXJrZXIodlswXSkuYWRkVG8odGhpcy5teW1hcClcXHJcXG4gICAgICAgICAgICAgICAgICAgIC5iaW5kUG9wdXAodlsxXSlcXHJcXG4gICAgICAgICAgICAgICAgICAgIC5vcGVuUG9wdXAoKVxcclxcbiAgICAgICAgICAgIH0pO1xcclxcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xcclxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcHJpZ2h0JyxcXHJcXG4gICAgICAgICAgICAgICAgZHJhdzoge1xcclxcbiAgICAgICAgICAgICAgICAgICAgcG9seWxpbmU6IGZhbHNlLFxcclxcbiAgICAgICAgICAgICAgICAgICAgcG9seWdvbjoge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93SW50ZXJzZWN0aW9uOiB0cnVlLCAvLyBSZXN0cmljdHMgc2hhcGVzIHRvIHNpbXBsZSBwb2x5Z29uc1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdFcnJvcjoge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNlMWUxMDAnLCAvLyBDb2xvciB0aGUgc2hhcGUgd2lsbCB0dXJuIHdoZW4gaW50ZXJzZWN0c1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn0JLRiyDQvdC1INC80L7QttC10YIg0L/QvtGB0YLQsNCy0LjRgtGMINGC0YPRgiDRgtC+0YfQutGDJyAvLyBNZXNzYWdlIHRoYXQgd2lsbCBzaG93IHdoZW4gaW50ZXJzZWN0XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFwZU9wdGlvbnM6IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjYmFkYTU1J1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXHJcXG4gICAgICAgICAgICAgICAgICAgIH0sXFxyXFxuICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IGZhbHNlLCAvLyBUdXJucyBvZmYgdGhpcyBkcmF3aW5nIHRvb2xcXHJcXG4gICAgICAgICAgICAgICAgICAgIGNpcmNsZW1hcmtlcjogZmFsc2UsIC8vIFR1cm5zIG9mZiB0aGlzIGRyYXdpbmcgdG9vbFxcclxcbiAgICAgICAgICAgICAgICAgICAgcmVjdGFuZ2xlOiBmYWxzZSxcXHJcXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcjogZmFsc2UsXFxyXFxuICAgICAgICAgICAgICAgIH0sXFxyXFxuICAgICAgICAgICAgICAgIGVkaXQ6IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVHcm91cDogdGhpcy5lZGl0YWJsZUxheWVycywgLy9SRVFVSVJFRCEhXFxyXFxuICAgICAgICAgICAgICAgICAgICByZW1vdmU6IHRydWUsXFxyXFxuICAgICAgICAgICAgICAgICAgICBlZGl0OiB0cnVlLFxcclxcbiAgICAgICAgICAgICAgICB9XFxyXFxuICAgICAgICAgICAgfTtcXHJcXG4gICAgICAgICAgICB0aGlzLm15bWFwLmFkZExheWVyKHRoaXMuZWRpdGFibGVMYXllcnMpO1xcclxcblxcclxcbiAgICAgICAgICAgIHRoaXMuZHJhd0NvbnRyb2wgPSBuZXcgTC5Db250cm9sLkRyYXcob3B0aW9ucyk7XFxyXFxuICAgICAgICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlci5yb2xlID09PSAxMDI0KSB0aGlzLm15bWFwLmFkZENvbnRyb2wodGhpcy5kcmF3Q29udHJvbCk7XFxyXFxuICAgICAgICAgICAgdGhpcy5teW1hcC5vbihMLkRyYXcuRXZlbnQuQ1JFQVRFRCwgIChlKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZS5sYXllclR5cGUsXFxyXFxuICAgICAgICAgICAgICAgICAgICBsYXllciA9IGUubGF5ZXI7XFxyXFxuICAgICAgICAgICAgICAgIHRoaXMucGxhY2UgPSB7XFxyXFxuICAgICAgICAgICAgICAgICAgICBjb29yZHM6IGxheWVyLl9sYXRsbmdzLFxcclxcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIsXFxyXFxuICAgICAgICAgICAgICAgICAgICB0eXBlLFxcclxcbiAgICAgICAgICAgICAgICB9O1xcclxcbiAgICAgICAgICAgICAgICB0aGlzLnNob3cgPSB0cnVlO1xcclxcbiAgICAgICAgICAgIH0pO1xcclxcbiAgICAgICAgICAgIHRoaXMubXltYXAub24oTC5EcmF3LkV2ZW50LkVESVRFRCwgIChlKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QudmFsdWVzKGUubGF5ZXJzLl9sYXllcnMpLmxlbmd0aCAhPT0gMSkge1xcclxcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC52YWx1ZXMoZS5sYXllcnMuX2xheWVycykubGVuZ3RoPjEpIHtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn0KDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0LzQvtC20L3QviDRgtC+0LvRjNC60L4gMSDQvtCx0YrQtdC60YInKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XFxyXFxuICAgICAgICAgICAgICAgICAgICB9XFxyXFxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XFxyXFxuICAgICAgICAgICAgICAgIH1cXHJcXG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhlLmxheWVycy5fbGF5ZXJzKS5mb3JFYWNoKChsKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlID0ge1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmwucGxhY2UsXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzOiBsLl9sYXRsbmdzLFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOmwsXFxyXFxuICAgICAgICAgICAgICAgICAgICB9O1xcclxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93ID0gdHJ1ZTtcXHJcXG4gICAgICAgICAgICAgICAgfSk7XFxyXFxuICAgICAgICAgICAgfSk7XFxyXFxuICAgICAgICAgICAgdGhpcy5teW1hcC5vbihMLkRyYXcuRXZlbnQuREVMRVRFRCwgIChlKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoZS5sYXllcnMuX2xheWVycykuZm9yRWFjaCgobCkgPT4ge1xcclxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGUobC5wbGFjZSk7XFxyXFxuICAgICAgICAgICAgICAgIH0pXFxyXFxuICAgICAgICAgICAgfSk7XFxyXFxuXFxyXFxuICAgICAgICAgICAgdGhpcy5nZXRQbGFjZXMoKTtcXHJcXG4gICAgICAgIH0sXFxyXFxuICAgICAgICBtZXRob2RzOiB7XFxyXFxuICAgICAgICAgICAgZ2V0UGxhY2VzKCkge1xcclxcbiAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MuZ2V0KCcvbWFwT2JqZWN0LycsIHtwYXJhbXM6IHt9fSkudGhlbigocmVzcG9uc2UpID0+IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxhY2VzID0gcmVzcG9uc2UuZGF0YS5kYXRhO1xcclxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGFjZXMuZm9yRWFjaCgocCxpKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvbHlnb24gPSBMLnBvbHlnb24ocC5jb29yZHMsIHtjb2xvcjogcC5jb2xvcn0pO1xcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb24uYWRkVG8odGhpcy5teW1hcClcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmJpbmRQb3B1cChwLm5hbWUrJzxici8+Jysn0KLRgNC10LHRg9GO0YLRgdGPINCx0LDQu9C70Ys6ICcgKyBwLnBvaW50cyk7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGFjZXNbaV0ucG9seWdvbiA9IHBvbHlnb247XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9seWdvbi5wbGFjZSA9IHA7XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0YWJsZUxheWVycy5hZGRMYXllcihwb2x5Z29uKTtcXHJcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxyXFxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcXHJcXG4gICAgICAgICAgICAgICAgfSk7XFxyXFxuICAgICAgICAgICAgfSxcXHJcXG4gICAgICAgICAgICBzYXZlKCkge1xcclxcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLnBsYWNlLmlkLFxcclxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRoaXMucGxhY2UuY29sb3IsXFxyXFxuICAgICAgICAgICAgICAgICAgICBjb29yZHM6IHRoaXMucGxhY2UuY29vcmRzLFxcclxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5wbGFjZS5uYW1lLFxcclxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzOiB0aGlzLnBsYWNlLnBvaW50cyxcXHJcXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMucGxhY2UudHlwZSxcXHJcXG4gICAgICAgICAgICAgICAgfTtcXHJcXG4gICAgICAgICAgICAgICAgZGF0YS5jb2xvciA9IGRhdGEuY29sb3IuaGV4YSB8fCBkYXRhLmNvbG9yO1xcclxcbiAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3NbZGF0YS5pZCA/J3B1dCcgOiAncG9zdCddKCcvbWFwT2JqZWN0LycrKGRhdGEuaWR8fCcnKSwgZGF0YSkudGhlbigocmVzcG9uc2UpID0+IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UGxhY2VzKCk7XFxyXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlID0ge307XFxyXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3cgPSBmYWxzZTtcXHJcXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubXltYXAuYWRkTGF5ZXIodGhpcy5wbGFjZS5sYXllcik7XFxyXFxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XFxyXFxuICAgICAgICAgICAgICAgICAgICBhbGVydCgn0J7RiNC40LHQutCwLiDQn9GA0L7QstC10YDRjNGC0LUg0LTQsNC90L3Ri9C1LicpO1xcclxcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XFxyXFxuICAgICAgICAgICAgICAgIH0pO1xcclxcbiAgICAgICAgICAgIH0sXFxyXFxuICAgICAgICAgICAgZGVsZXRlKHBsYWNlKXtcXHJcXG4gICAgICAgICAgICAgICAgd2luZG93LmF4aW9zLmRlbGV0ZSgnL21hcE9iamVjdC8nK3BsYWNlLmlkKS50aGVuKChyZXNwb25zZSkgPT4ge1xcclxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQbGFjZXMoKTtcXHJcXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcXHJcXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xcclxcbiAgICAgICAgICAgICAgICB9KTtcXHJcXG4gICAgICAgICAgICB9XFxyXFxuICAgICAgICB9XFxyXFxuICAgIH1cXHJcXG48L3NjcmlwdD5cXHJcXG5cXHJcXG48c3R5bGUgc2NvcGVkPlxcclxcbiAgICAjbWFwaWQge1xcclxcbiAgICAgICAgbWluLWhlaWdodDogY2FsYygxMDB2aCAtIDY0cHgpO1xcclxcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XFxyXFxuICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2NHB4KTtcXHJcXG4gICAgICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICB9XFxyXFxuICAgIC5tYXAtdG9wLWRpYWxvZ3tcXHJcXG4gICAgICAgIHotaW5kZXg6IDEwMDAxICFpbXBvcnRhbnQ7XFxyXFxuICAgIH1cXHJcXG48L3N0eWxlPlwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCI8dGVtcGxhdGU+XHJcbiAgICA8ZGl2IGNsYXNzPVwibWEtMCBwYS0wXCIgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7IGRpc3BsYXk6IGZsZXg7XCI+XHJcbiAgICAgICAgPGRpdiBpZD1cIm1hcGlkXCI+PC9kaXY+XHJcbiAgICAgICAgPHYtZGlhbG9nIHYtbW9kZWw9XCJzaG93XCI+XHJcbiAgICAgICAgICAgIDx2LWNvbnRhaW5lciBtYXAtdG9wLWRpYWxvZz5cclxuICAgICAgICAgICAgICAgIDx2LWNhcmQgZWxldmF0aW9uPVwiMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx2LWNhcmQtdGl0bGU+0KHQvtC30LTQsNC90LjQtSDQt9C+0L3Rizwvdi1jYXJkLXRpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgIDx2LWNhcmQtdGV4dD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHYtdGV4dC1maWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtbW9kZWw9XCJwbGFjZS5uYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cItCd0LDQt9Cy0LDQvdC40LVcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2LXRleHQtZmllbGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LW1vZGVsPVwicGxhY2UucG9pbnRzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cItCR0LDQu9C70Ysg0LHQu9Cw0LPQvtC00LDRgNC90L7RgdGC0LhcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2LWNvbG9yLXBpY2tlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdC1zaXplPVwiMzJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGUtY2FudmFzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZS1tb2RlLXN3aXRjaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU9XCJoZXhhXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LW1vZGVsPVwicGxhY2UuY29sb3JcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3YXRjaGVzLW1heC1oZWlnaHQ9XCIyMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+PC92LWNvbG9yLXBpY2tlcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHYtYnRuIGNvbG9yPVwiZGFya1wiIEBjbGljaz1cInNhdmVcIiA6ZGlzYWJsZWQ9XCJwbGFjZS5uYW1lID09ICcnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQodC+0YXRgNCw0L3QuNGC0YxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC92LWJ0bj5cclxuICAgICAgICAgICAgICAgICAgICA8L3YtY2FyZC10ZXh0PlxyXG4gICAgICAgICAgICAgICAgPC92LWNhcmQ+XHJcbiAgICAgICAgICAgIDwvdi1jb250YWluZXI+XHJcbiAgICAgICAgPC92LWRpYWxvZz5cclxuICAgIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuICAgIGV4cG9ydCBkZWZhdWx0IHtcclxuICAgICAgICBuYW1lOiBcIk1hcFwiLFxyXG4gICAgICAgIGRhdGE6ICh2bSkgPT4gKHtcclxuICAgICAgICAgICAgbXltYXAgOiBudWxsLFxyXG4gICAgICAgICAgICBtYXJrZXJzOiBbXHJcbiAgICAgICAgICAgICAgICBbWzU1LjUzMDY0OCwgNDcuNTA1MTIyXSwgJ9CU0L7QvCDQutGD0LvRjNGC0YPRgNGLPGJyPiDQkNC00LzQuNC90LjRgdGC0YDQsNGG0LjRjyDQv9C+0YHQu9C10LvQtdC90LjRjyddLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBlZGl0YWJsZUxheWVyczpuZXcgTC5GZWF0dXJlR3JvdXAoKSxcclxuICAgICAgICAgICAgcGxhY2VzOiBbXSxcclxuICAgICAgICAgICAgcGxhY2U6IHt9LFxyXG4gICAgICAgICAgICBzaG93OiBmYWxzZSxcclxuICAgICAgICAgICAgZHJhd0NvbnRyb2w6IG51bGwsXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgbW91bnRlZCgpIHtcclxuICAgICAgICAgICAgdGhpcy5teW1hcCA9IEwubWFwKCdtYXBpZCcsIHtkcmF3Q29udHJvbDogZmFsc2V9KS5zZXRWaWV3KFs1NS41MzY0NDYsIDQ3LjQ5ODYwMF0sIDEzKTtcclxuICAgICAgICAgICAgbGV0IG9zbSA9IEwudGlsZUxheWVyKCdodHRwczovL2FwaS5tYXBib3guY29tL3N0eWxlcy92MS97aWR9L3RpbGVzL3t6fS97eH0ve3l9P2FjY2Vzc190b2tlbj1way5leUoxSWpvaWFuVnlZVGsySWl3aVlTSTZJbU5yY0d3MU1XVnpPREZrYXpReWQyODRialkwWldJeGJtSWlmUS5DV0c5TDJyTVN0TE8zaTNBT2dybnlRJywge1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb246ICdNYXAgZGF0YSAmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycywgSW1hZ2VyeSDCqSA8YSBocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9cIj5NYXBib3g8L2E+JyxcclxuICAgICAgICAgICAgICAgIG1heFpvb206IDE4LFxyXG4gICAgICAgICAgICAgICAgaWQ6ICdtYXBib3gvc3RyZWV0cy12MTEnLFxyXG4gICAgICAgICAgICAgICAgdGlsZVNpemU6IDUxMixcclxuICAgICAgICAgICAgICAgIHpvb21PZmZzZXQ6IC0xLFxyXG4gICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46ICd5b3VyLm1hcGJveC5hY2Nlc3MudG9rZW4nXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIG9zbS5hZGRUbyh0aGlzLm15bWFwKVxyXG4gICAgICAgICAgICB0aGlzLm1hcmtlcnMuZm9yRWFjaCgodik9PiB7XHJcbiAgICAgICAgICAgICAgICBMLm1hcmtlcih2WzBdKS5hZGRUbyh0aGlzLm15bWFwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5iaW5kUG9wdXAodlsxXSlcclxuICAgICAgICAgICAgICAgICAgICAub3BlblBvcHVwKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3ByaWdodCcsXHJcbiAgICAgICAgICAgICAgICBkcmF3OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9seWxpbmU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvbHlnb246IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dJbnRlcnNlY3Rpb246IHRydWUsIC8vIFJlc3RyaWN0cyBzaGFwZXMgdG8gc2ltcGxlIHBvbHlnb25zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdFcnJvcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZTFlMTAwJywgLy8gQ29sb3IgdGhlIHNoYXBlIHdpbGwgdHVybiB3aGVuIGludGVyc2VjdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfQktGLINC90LUg0LzQvtC20LXRgiDQv9C+0YHRgtCw0LLQuNGC0Ywg0YLRg9GCINGC0L7Rh9C60YMnIC8vIE1lc3NhZ2UgdGhhdCB3aWxsIHNob3cgd2hlbiBpbnRlcnNlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGVPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNiYWRhNTUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNpcmNsZTogZmFsc2UsIC8vIFR1cm5zIG9mZiB0aGlzIGRyYXdpbmcgdG9vbFxyXG4gICAgICAgICAgICAgICAgICAgIGNpcmNsZW1hcmtlcjogZmFsc2UsIC8vIFR1cm5zIG9mZiB0aGlzIGRyYXdpbmcgdG9vbFxyXG4gICAgICAgICAgICAgICAgICAgIHJlY3RhbmdsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlZGl0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZUdyb3VwOiB0aGlzLmVkaXRhYmxlTGF5ZXJzLCAvL1JFUVVJUkVEISFcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5teW1hcC5hZGRMYXllcih0aGlzLmVkaXRhYmxlTGF5ZXJzKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZHJhd0NvbnRyb2wgPSBuZXcgTC5Db250cm9sLkRyYXcob3B0aW9ucyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXIucm9sZSA9PT0gMTAyNCkgdGhpcy5teW1hcC5hZGRDb250cm9sKHRoaXMuZHJhd0NvbnRyb2wpO1xyXG4gICAgICAgICAgICB0aGlzLm15bWFwLm9uKEwuRHJhdy5FdmVudC5DUkVBVEVELCAgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZS5sYXllclR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIgPSBlLmxheWVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb29yZHM6IGxheWVyLl9sYXRsbmdzLFxyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMubXltYXAub24oTC5EcmF3LkV2ZW50LkVESVRFRCwgIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcyhlLmxheWVycy5fbGF5ZXJzKS5sZW5ndGggIT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcyhlLmxheWVycy5fbGF5ZXJzKS5sZW5ndGg+MSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn0KDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0LzQvtC20L3QviDRgtC+0LvRjNC60L4gMSDQvtCx0YrQtdC60YInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGUubGF5ZXJzLl9sYXllcnMpLmZvckVhY2goKGwpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5sLnBsYWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHM6IGwuX2xhdGxuZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOmwsXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm15bWFwLm9uKEwuRHJhdy5FdmVudC5ERUxFVEVELCAgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoZS5sYXllcnMuX2xheWVycykuZm9yRWFjaCgobCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlKGwucGxhY2UpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldFBsYWNlcygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWV0aG9kczoge1xyXG4gICAgICAgICAgICBnZXRQbGFjZXMoKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MuZ2V0KCcvbWFwT2JqZWN0LycsIHtwYXJhbXM6IHt9fSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlcyA9IHJlc3BvbnNlLmRhdGEuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYWNlcy5mb3JFYWNoKChwLGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvbHlnb24gPSBMLnBvbHlnb24ocC5jb29yZHMsIHtjb2xvcjogcC5jb2xvcn0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uLmFkZFRvKHRoaXMubXltYXApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYmluZFBvcHVwKHAubmFtZSsnPGJyLz4nKyfQotGA0LXQsdGD0Y7RgtGB0Y8g0LHQsNC70LvRizogJyArIHAucG9pbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGFjZXNbaV0ucG9seWdvbiA9IHBvbHlnb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb24ucGxhY2UgPSBwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRhYmxlTGF5ZXJzLmFkZExheWVyKHBvbHlnb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNhdmUoKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5wbGFjZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5wbGFjZS5jb2xvcixcclxuICAgICAgICAgICAgICAgICAgICBjb29yZHM6IHRoaXMucGxhY2UuY29vcmRzLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMucGxhY2UubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBwb2ludHM6IHRoaXMucGxhY2UucG9pbnRzLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMucGxhY2UudHlwZSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBkYXRhLmNvbG9yID0gZGF0YS5jb2xvci5oZXhhIHx8IGRhdGEuY29sb3I7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3NbZGF0YS5pZCA/J3B1dCcgOiAncG9zdCddKCcvbWFwT2JqZWN0LycrKGRhdGEuaWR8fCcnKSwgZGF0YSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBsYWNlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxhY2UgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm15bWFwLmFkZExheWVyKHRoaXMucGxhY2UubGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgn0J7RiNC40LHQutCwLiDQn9GA0L7QstC10YDRjNGC0LUg0LTQsNC90L3Ri9C1LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlbGV0ZShwbGFjZSl7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MuZGVsZXRlKCcvbWFwT2JqZWN0LycrcGxhY2UuaWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQbGFjZXMoKTtcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgc2NvcGVkPlxyXG4gICAgI21hcGlkIHtcclxuICAgICAgICBtaW4taGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjRweCk7XHJcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XHJcbiAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjRweCk7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICB9XHJcbiAgICAubWFwLXRvcC1kaWFsb2d7XHJcbiAgICAgICAgei1pbmRleDogMTAwMDEgIWltcG9ydGFudDtcclxuICAgIH1cclxuPC9zdHlsZT4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTVbMF0ucnVsZXNbMF0udXNlWzBdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vTWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01WzBdLnJ1bGVzWzBdLnVzZVswXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL01hcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL01hcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NzA0OGI3MDUmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vTWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vTWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9NYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NzA0OGI3MDUmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjcwNDhiNzA1XCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwibWEtMCBwYS0wXCIsc3RhdGljU3R5bGU6e1wicG9zaXRpb25cIjpcInJlbGF0aXZlXCIsXCJkaXNwbGF5XCI6XCJmbGV4XCJ9fSxbX2MoJ2Rpdicse2F0dHJzOntcImlkXCI6XCJtYXBpZFwifX0pLF92bS5fdihcIiBcIiksX2MoJ3YtZGlhbG9nJyx7bW9kZWw6e3ZhbHVlOihfdm0uc2hvdyksY2FsbGJhY2s6ZnVuY3Rpb24gKCQkdikge192bS5zaG93PSQkdn0sZXhwcmVzc2lvbjpcInNob3dcIn19LFtfYygndi1jb250YWluZXInLHthdHRyczp7XCJtYXAtdG9wLWRpYWxvZ1wiOlwiXCJ9fSxbX2MoJ3YtY2FyZCcse2F0dHJzOntcImVsZXZhdGlvblwiOlwiMFwifX0sW19jKCd2LWNhcmQtdGl0bGUnLFtfdm0uX3YoXCLQodC+0LfQtNCw0L3QuNC1INC30L7QvdGLXCIpXSksX3ZtLl92KFwiIFwiKSxfYygndi1jYXJkLXRleHQnLFtfYygndi10ZXh0LWZpZWxkJyx7YXR0cnM6e1wibGFiZWxcIjpcItCd0LDQt9Cy0LDQvdC40LVcIn0sbW9kZWw6e3ZhbHVlOihfdm0ucGxhY2UubmFtZSksY2FsbGJhY2s6ZnVuY3Rpb24gKCQkdikge192bS4kc2V0KF92bS5wbGFjZSwgXCJuYW1lXCIsICQkdil9LGV4cHJlc3Npb246XCJwbGFjZS5uYW1lXCJ9fSksX3ZtLl92KFwiIFwiKSxfYygndi10ZXh0LWZpZWxkJyx7YXR0cnM6e1widHlwZVwiOlwibnVtYmVyXCIsXCJsYWJlbFwiOlwi0JHQsNC70LvRiyDQsdC70LDQs9C+0LTQsNGA0L3QvtGB0YLQuFwifSxtb2RlbDp7dmFsdWU6KF92bS5wbGFjZS5wb2ludHMpLGNhbGxiYWNrOmZ1bmN0aW9uICgkJHYpIHtfdm0uJHNldChfdm0ucGxhY2UsIFwicG9pbnRzXCIsICQkdil9LGV4cHJlc3Npb246XCJwbGFjZS5wb2ludHNcIn19KSxfdm0uX3YoXCIgXCIpLF9jKCd2LWNvbG9yLXBpY2tlcicse2F0dHJzOntcImRvdC1zaXplXCI6XCIzMlwiLFwiaGlkZS1jYW52YXNcIjpcIlwiLFwiaGlkZS1tb2RlLXN3aXRjaFwiOlwiXCIsXCJtb2RlXCI6XCJoZXhhXCIsXCJzd2F0Y2hlcy1tYXgtaGVpZ2h0XCI6XCIyMDBcIn0sbW9kZWw6e3ZhbHVlOihfdm0ucGxhY2UuY29sb3IpLGNhbGxiYWNrOmZ1bmN0aW9uICgkJHYpIHtfdm0uJHNldChfdm0ucGxhY2UsIFwiY29sb3JcIiwgJCR2KX0sZXhwcmVzc2lvbjpcInBsYWNlLmNvbG9yXCJ9fSksX3ZtLl92KFwiIFwiKSxfYygndi1idG4nLHthdHRyczp7XCJjb2xvclwiOlwiZGFya1wiLFwiZGlzYWJsZWRcIjpfdm0ucGxhY2UubmFtZSA9PSAnJ30sb246e1wiY2xpY2tcIjpfdm0uc2F2ZX19LFtfdm0uX3YoXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICDQodC+0YXRgNCw0L3QuNGC0YxcXG4gICAgICAgICAgICAgICAgICAgIFwiKV0pXSwxKV0sMSldLDEpXSwxKV0sMSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/Y2xvbmVkUnVsZVNldC05WzBdLnJ1bGVzWzBdLnVzZVsxXSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9jbG9uZWRSdWxlU2V0LTlbMF0ucnVsZXNbMF0udXNlWzJdIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vTWFwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTcwNDhiNzA1JnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiKTtcbmlmKGNvbnRlbnQuX19lc01vZHVsZSkgY29udGVudCA9IGNvbnRlbnQuZGVmYXVsdDtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgYWRkID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCI2MDVkOWEwM1wiLCBjb250ZW50LCB0cnVlLCB7fSk7Il0sInNvdXJjZVJvb3QiOiIifQ==