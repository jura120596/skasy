# Веб приложение для жителей сельского поселения
## База данных
Приложение использует 
Базу данных 5.7.34 MySQL Community Server (GPL)

## Конфигурация

Для установки значений кофигураций сервера нужно скопировать файл .env.example в .env
и определить в нем значения для переменных

Далее нужно выполнить запуск миграций для создания необходимых таблиц в БД

    php artisan migrate
    
Затем нужно выполнить команды из дирректориии  проекта
    
    php artisan key:generate
    php artisan passport:install

Для работы с очередью заданий (например для отправки писем элеткронной почты) 
нужно запустить supervisor или команду
    
    nohup php artisan queue:work > ./storage/logs/worker.log

Для заполнения базы данных,  для создания суперадмина
нужно выполнить команду(предварительно определив переменные окружения ADMIN_USER_PASSWORD и ADMIN_USER_EMAIL) 

    php artisan db:seed
    
При работе с тестами могут возникать ошибки, связанные с совпадением случайного адреса элеткронной почты с уже существующим, либо с совпадением любого другого генерируемого для тестов значения. В подобном случае  нужно запустить тест снова.

Для доступа к загружаемым файлам, нужно создать симлинк для storage.    Для этого нужно выполнить команду

    php artisan storage:link
Для сборки интерфейса веб приложения нужно выполнить

    npm install
    npm run prod
    

    